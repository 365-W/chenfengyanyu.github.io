<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jartto&#39;s blog</title>
  <subtitle>王嘉涛的个人博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jartto.wang/"/>
  <updated>2016-09-07T02:30:13.000Z</updated>
  <id>http://jartto.wang/</id>
  
  <author>
    <name>Jartto</name>
    <email>jartto@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>web font 终极解决方案</title>
    <link href="http://jartto.wang/2016/09/04/final-solution-of-the-web-font/"/>
    <id>http://jartto.wang/2016/09/04/final-solution-of-the-web-font/</id>
    <published>2016-09-04T09:19:15.000Z</published>
    <updated>2016-09-07T02:30:13.000Z</updated>
    
    <content type="html">&lt;p&gt;绝大多数情况下，我们在网页开发中都要使用web安全字体。高傲的设计师肯定不局限于安全字体，那么问题来了：我们如何保证客户端对字体的显示一致性，本文对此进行深入探讨。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;我们从头说起，设计师要求使用苹方字体，可是这并不是一个web安全字体。这意味着，如果客户端没有该字体库，那么我们的用户将看到一些默认字体，这违背了我们最初“显示一致性”的美好愿景。&lt;/p&gt;
&lt;p&gt;怎么办，关于这个问题，我做出了以下尝试。&lt;/p&gt;
&lt;h4 id=&quot;一、查找方案&quot;&gt;&lt;a href=&quot;#一、查找方案&quot; class=&quot;headerlink&quot; title=&quot;一、查找方案&quot;&gt;&lt;/a&gt;一、查找方案&lt;/h4&gt;&lt;p&gt;不是什么大问题，先百度一下，很快我查到了某中文字库，大致用法如下：&lt;br&gt;先引入js类库&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;//cdn.webfont.youziku.com/wwwroot/js/wf/youziku.api.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嵌入如下js代码片段：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;javascript&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   $youziku.load(&lt;span class=&quot;string&quot;&gt;&quot;body&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;e1a2967b916d487f9814ebca91628dc1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;PingFangSC_L&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   $youziku.draw();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;效果是达到了，可是当看到要收费的时候，我已经不爱你了👻。&lt;/p&gt;
&lt;p&gt;第三方的方案还要收费，显然并不完美。那怎么办，一定还有其他方案，我们继续搜索。&lt;/p&gt;
&lt;h4 id=&quot;二、下载字体&quot;&gt;&lt;a href=&quot;#二、下载字体&quot; class=&quot;headerlink&quot; title=&quot;二、下载字体&quot;&gt;&lt;/a&gt;二、下载字体&lt;/h4&gt;&lt;p&gt;找个免费的试试？好吧，去下载苹方字体，我自己引入字体包。结果却找不到下载的链接😅，全是广告，广告，广告。。。&lt;/p&gt;
&lt;p&gt;内事不决问百度，外事不决问谷歌。果然，捕获到三个网站：&lt;br&gt;1.&lt;a href=&quot;http://www.google.com/webfonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.google.com/webfonts&lt;/a&gt;&lt;br&gt;2.&lt;a href=&quot;http://www.dafont.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.dafont.com&lt;/a&gt;&lt;br&gt;3.&lt;a href=&quot;http://priguy.com/pingfang-fonts-download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://priguy.com/pingfang-fonts-download/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如愿以偿的找到了苹方的下载地址，天无绝人之路啊！&lt;/p&gt;
&lt;p&gt;历尽千辛万苦，总算找到了一个苹方字体库。下载之后发现文件后缀是ttf，浏览器中加载不出来。。。&lt;/p&gt;
&lt;p&gt;可以从css的使用方式中看出端倪：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;font-face&lt;/span&gt; &amp;#123;&lt;span class=&quot;attribute&quot;&gt;font-family&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;iconfont&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;src&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.eot&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;/* IE9*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;src&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.eot?#iefix&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;embedded-opentype&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* IE6-IE8 */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.woff&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;woff&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* chrome、firefox */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.ttf&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;truetype&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* chrome、firefox、opera、Safari, Android, iOS 4.2+*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.svg#iconfont&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;svg&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;/* iOS 4.1- */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;于是乎，我又想着有没有一个在线工具可以将ttf转化成woff，那这样问题就迎刃而解了。&lt;/p&gt;
&lt;h4 id=&quot;三、字体转换&quot;&gt;&lt;a href=&quot;#三、字体转换&quot; class=&quot;headerlink&quot; title=&quot;三、字体转换&quot;&gt;&lt;/a&gt;三、字体转换&lt;/h4&gt;&lt;p&gt;继续探索，翻到了一些中文字体提供商，没准有解决方案呢。&lt;br&gt;&lt;a href=&quot;https://www.justfont.com/fonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.justfont.com/fonts&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;好吧，都是vip，除了收费，你们还能干啥？&lt;/p&gt;
&lt;p&gt;web中font-face中文字体如何截取使用？&lt;br&gt;&lt;a href=&quot;http://www.zhihu.com/question/40098697&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zhihu.com/question/40098697&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;不知道这哥们对回答满意不，反正我觉得没啥用。&lt;/p&gt;
&lt;p&gt;好不容易找到一个可以转化字体的网站，结果告诉我这个：&lt;br&gt;&lt;a href=&quot;https://everythingfonts.com/ttf-to-woff&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://everythingfonts.com/ttf-to-woff&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/ttf2woff.png&quot; alt=&quot;ttf-to-woff&quot;&gt;&lt;br&gt;找了一圈，大致问题如下：&lt;br&gt;1.文件太大的不能转换（下载到的苹方ttf为11M）；&lt;br&gt;2.只支持英文转换，中文的字体不能转换；&lt;br&gt;3.可以转换，但需要付费下载的；&lt;/p&gt;
&lt;p&gt;显然我并不满意，看来还得继续，到底别人是怎么实现的：&lt;a href=&quot;https://www.pingxx.com/?from=1&amp;amp;desc=baidu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;譬如这个网站&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、终级解决方案&quot;&gt;&lt;a href=&quot;#四、终级解决方案&quot; class=&quot;headerlink&quot; title=&quot;四、终级解决方案&quot;&gt;&lt;/a&gt;四、终级解决方案&lt;/h4&gt;&lt;p&gt;真是太失望了，不就是想转换一下字体吗，没一个靠谱的。那我自己来搞，是时候展现真正的技术了～&lt;/p&gt;
&lt;p&gt;大致思路如下，这里我借助了开源项目fontmin（&lt;a href=&quot;https://github.com/ecomfe/fontmin&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）：&lt;br&gt;1.加载fontmin；&lt;br&gt;2.指定转换文件，并指定输出目录，如果没有则创建；&lt;br&gt;3.转换为eot、woff以及svg格式输出；&lt;br&gt;4.svg格式文件较大，借助imagemin（&lt;a href=&quot;https://github.com/imagemin/imagemin-svgo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）对其进行压缩处理，之后输出；&lt;/p&gt;
&lt;p&gt;我们创建index.js，如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; Fontmin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fontmin&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; imagemin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;imagemin&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; svgo = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;imagemin-svgo&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; fontmin = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Fontmin()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .src(&lt;span class=&quot;string&quot;&gt;&#39;PingFang-Light.ttf&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .dest(&lt;span class=&quot;string&quot;&gt;&#39;build/&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2eot())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2woff(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        deflate: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2svg());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//压缩svg图片&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    imagemin([&lt;span class=&quot;string&quot;&gt;&#39;build/*.svg&#39;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&#39;build/optimize&#39;&lt;/span&gt;, &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        use: [svgo()]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;).then(() =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Images optimized&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fontmin.run(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;err, files&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (err) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; err;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(files[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// =&amp;gt; &amp;#123; contents: &amp;lt;Buffer 00 01 00 ...&amp;gt; &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嗯，看起来不错，终于实现了。你可以去github上面clone该项目（&lt;a href=&quot;https://github.com/chenfengyanyu/web-font-convert&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;），最好能给个星哦😍&lt;/p&gt;
&lt;p&gt;到这里，我觉得还有瑕疵。ttf大小为11M，转换的woff大小为7M左右，那么我们网页引用，会不会加载不起来呢？&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont1.png&quot; alt=&quot;font_console&quot;&gt;&lt;/p&gt;
&lt;p&gt;看起来好像也不是什么问题了。&lt;/p&gt;
&lt;p&gt;那如果我们追求极致的体验呢，如何对字体压缩？也就是精简字体包，那该如何操作？&lt;/p&gt;
&lt;h4 id=&quot;五、字体精简与压缩&quot;&gt;&lt;a href=&quot;#五、字体精简与压缩&quot; class=&quot;headerlink&quot; title=&quot;五、字体精简与压缩&quot;&gt;&lt;/a&gt;五、字体精简与压缩&lt;/h4&gt;&lt;p&gt;踏破铁鞋无觅处，得来全不费功夫。关于字体压缩，我找到了这个：&lt;br&gt;&lt;a href=&quot;https://github.com/aui/font-spider&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;字蛛&lt;/a&gt;是一个智能 WebFont 压缩工具，它能自动分析出页面使用的 WebFont 并进行按需压缩。&lt;/p&gt;
&lt;p&gt;我们先来安装：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;npm install font-spider -g&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;找到html文件目录，运行：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;font-spider zh/*.html&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;来看看效果：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont2.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;压缩前后，文件大小对比&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont3.png&quot; alt=&quot;font_console&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意：字蛛会分析页面使用的webfont，也就意味着他会抓取静态页面的font&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;看起来不错，可是，这又是什么鬼：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont4.png&quot; alt=&quot;webfont&quot;&gt;&lt;br&gt;部分空格被替换成了！号，这肯定是零容忍啊，怎么办?&lt;/p&gt;
&lt;h4 id=&quot;六、意外收获&quot;&gt;&lt;a href=&quot;#六、意外收获&quot; class=&quot;headerlink&quot; title=&quot;六、意外收获&quot;&gt;&lt;/a&gt;六、意外收获&lt;/h4&gt;&lt;p&gt;解决方案：&lt;a href=&quot;https://github.com/aui/font-spider/issues/102&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/aui/font-spider/issues/102&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;正愁字体文件无法编辑呢，结果发现了&lt;a href=&quot;http://font.baidu.com/editor/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;某度字体编辑器&lt;/a&gt;，来试试这个：（建议使用chrome浏览器，safari浏览器保存会出异常）&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont5.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;删除！号，我们重新保存，引入字体，刷新一下：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont6.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;整个世界都豁然明亮了！&lt;/p&gt;
&lt;h4 id=&quot;八、font资源库&quot;&gt;&lt;a href=&quot;#八、font资源库&quot; class=&quot;headerlink&quot; title=&quot;八、font资源库&quot;&gt;&lt;/a&gt;八、font资源库&lt;/h4&gt;&lt;p&gt;1.字蛛&lt;br&gt;&lt;a href=&quot;http://font-spider.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://font-spider.org&lt;/a&gt;&lt;br&gt;2.fonts.com&lt;br&gt;&lt;a href=&quot;https://www.fonts.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.fonts.com&lt;/a&gt;&lt;br&gt;3.某中文字库&lt;br&gt;&lt;a href=&quot;http://www.youziku.com/webfont/index/47066&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.youziku.com/webfont/index/47066&lt;/a&gt;&lt;br&gt;4.google到的资源&lt;br&gt;&lt;a href=&quot;http://www.google.com/webfonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.google.com/webfonts&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.dafont.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.dafont.com&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;绝大多数情况下，我们在网页开发中都要使用web安全字体。高傲的设计师肯定不局限于安全字体，那么问题来了：我们如何保证客户端对字体的显示一致性，本文对此进行深入探讨。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="font" scheme="http://jartto.wang/tags/font/"/>
    
      <category term="web" scheme="http://jartto.wang/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>js动画库推荐</title>
    <link href="http://jartto.wang/2016/08/23/js-animation-library-recommendation/"/>
    <id>http://jartto.wang/2016/08/23/js-animation-library-recommendation/</id>
    <published>2016-08-23T15:25:45.000Z</published>
    <updated>2016-09-06T02:13:24.000Z</updated>
    
    <content type="html">&lt;p&gt;想在页面中加入一个动态粒子效果，翻阅了很多资料，尝试了很多效果，然而UE并不是十分满意。虽然任务还没有完成，但是却意外发现了一些比较有意思的js动画库，特此分享出来。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、js物理引擎&quot;&gt;&lt;a href=&quot;#一、js物理引擎&quot; class=&quot;headerlink&quot; title=&quot;一、js物理引擎&quot;&gt;&lt;/a&gt;一、js物理引擎&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://wellcaffeinated.net/PhysicsJS/#demo-6&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://wellcaffeinated.net/PhysicsJS/#demo-6&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_1&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_1&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、svg动画库&quot;&gt;&lt;a href=&quot;#二、svg动画库&quot; class=&quot;headerlink&quot; title=&quot;二、svg动画库&quot;&gt;&lt;/a&gt;二、svg动画库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://dynamicsjs.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dynamicsjs.com&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_2&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_2&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、d3图表插件库&quot;&gt;&lt;a href=&quot;#三、d3图表插件库&quot; class=&quot;headerlink&quot; title=&quot;三、d3图表插件库&quot;&gt;&lt;/a&gt;三、d3图表插件库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/d3/d3/wiki/Gallery&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/d3/d3/wiki/Gallery&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_3&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_3&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、js专用图形绘制类库&quot;&gt;&lt;a href=&quot;#四、js专用图形绘制类库&quot; class=&quot;headerlink&quot; title=&quot;四、js专用图形绘制类库&quot;&gt;&lt;/a&gt;四、js专用图形绘制类库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://sigmajs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sigmajs.org&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_4&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_4&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、3d力导向图&quot;&gt;&lt;a href=&quot;#五、3d力导向图&quot; class=&quot;headerlink&quot; title=&quot;五、3d力导向图&quot;&gt;&lt;/a&gt;五、3d力导向图&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://vida.io/documents/N4jSip7n68yQ48DXp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://vida.io/documents/N4jSip7n68yQ48DXp&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_5&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_5&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、jquery插件，粒子动态背景插件&quot;&gt;&lt;a href=&quot;#六、jquery插件，粒子动态背景插件&quot; class=&quot;headerlink&quot; title=&quot;六、jquery插件，粒子动态背景插件&quot;&gt;&lt;/a&gt;六、jquery插件，粒子动态背景插件&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://www.jqcool.net/demo/201409/jquery-particleground/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jqcool.net/demo/201409/jquery-particleground/&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_6&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_6&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、可交互的粒子背景插件1&quot;&gt;&lt;a href=&quot;#七、可交互的粒子背景插件1&quot; class=&quot;headerlink&quot; title=&quot;七、可交互的粒子背景插件1&quot;&gt;&lt;/a&gt;七、可交互的粒子背景插件1&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://p5js.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://p5js.org&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_7&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_7&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;八、可交互的粒子背景插件2&quot;&gt;&lt;a href=&quot;#八、可交互的粒子背景插件2&quot; class=&quot;headerlink&quot; title=&quot;八、可交互的粒子背景插件2&quot;&gt;&lt;/a&gt;八、可交互的粒子背景插件2&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://www.htmleaf.com/Demo/201506182061.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.htmleaf.com/Demo/201506182061.html&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_8&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_8&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;当然，还有很多此类动画库，以后我会持续补充的～&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;想在页面中加入一个动态粒子效果，翻阅了很多资料，尝试了很多效果，然而UE并不是十分满意。虽然任务还没有完成，但是却意外发现了一些比较有意思的js动画库，特此分享出来。&lt;br&gt;
    
    </summary>
    
      <category term="前端分享" scheme="http://jartto.wang/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="animation" scheme="http://jartto.wang/tags/animation/"/>
    
      <category term="svg" scheme="http://jartto.wang/tags/svg/"/>
    
  </entry>
  
  <entry>
    <title>如何检测页面滚动并执行动画</title>
    <link href="http://jartto.wang/2016/08/18/detect-page-scroll-and-execute-animation/"/>
    <id>http://jartto.wang/2016/08/18/detect-page-scroll-and-execute-animation/</id>
    <published>2016-08-18T03:17:06.000Z</published>
    <updated>2016-09-05T15:03:30.000Z</updated>
    
    <content type="html">&lt;p&gt;H5页面动画，在推广运营中应用的相当广泛。越是酷炫的动画，越能吸引用户。动画当然算是比较重要的一个环节，除此之外不得不提到的就是－动画滚动交互效果。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、每个section怎样单独执行动画？&quot;&gt;&lt;a href=&quot;#一、每个section怎样单独执行动画？&quot; class=&quot;headerlink&quot; title=&quot;一、每个section怎样单独执行动画？&quot;&gt;&lt;/a&gt;一、每个section怎样单独执行动画？&lt;/h4&gt;&lt;p&gt;首先，引入动画库，这里我们使用animate.css（&lt;a href=&quot;https://daneden.github.io/animate.css/?&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;css/animate.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;请注意：如果你只用了少量动画效果，请直接拷贝具体动画代码，而不再引入整个动画库。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;其次，像往常一样编写你的html代码：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos bounce_in_down&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bounce_in_right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	&lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我们来简单说一下这里的处理细节：&lt;br&gt;1.我们为#left，#right容器添加了animate类；&lt;br&gt;2.为animate子容器分别添加了bounce_in_down，bounce_in_right类；&lt;/p&gt;
&lt;p&gt;接下来，我们来处理一下动画细节：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式一*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;animation-play-state&lt;/span&gt;: paused;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation-play-state&lt;/span&gt;:paused;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;animation-play-state&lt;/span&gt;: running;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation-play-state&lt;/span&gt;:running;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式二*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式三*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: none;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*动画类，此处举一个栗子，请确保bounceInDown动画已经引入*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.bounce_in_down&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation&lt;/span&gt;:bounceInDown &lt;span class=&quot;number&quot;&gt;2s&lt;/span&gt; ease-in-out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;上面列举了三种方式，方式一主要是先暂停动画，等待运行时机。方式二，三先隐藏元素，激活后，显示元素。&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;个人比较推荐第一种和第二种方式，第三种方式元素容器会变化，某种情况下会引起不必要的问题。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;这里着重说明一下play类，我们暂且称它为动画触发类。思路就是，需要运行动画的元素添加animate类，先做暂停处理；当需要激活该元素动画的时候，为其父元素添加play类，从而触发动画运行。&lt;/p&gt;
&lt;p&gt;很好，动画也可以触发了，那么最重要的运行时机怎么确定？下面我来介绍一下，滚动触发动画运行的方式。&lt;/p&gt;
&lt;h4 id=&quot;二、如何检测页面滚动到了哪个section容器？&quot;&gt;&lt;a href=&quot;#二、如何检测页面滚动到了哪个section容器？&quot; class=&quot;headerlink&quot; title=&quot;二、如何检测页面滚动到了哪个section容器？&quot;&gt;&lt;/a&gt;二、如何检测页面滚动到了哪个section容器？&lt;/h4&gt;&lt;p&gt;场景：页面分为多个section，我要实现，页面滚动到具体哪个section，为其添加play类。&lt;/p&gt;
&lt;p&gt;方案一：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scroll(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; scroll = $(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scrollTop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Do something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(scroll);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;检测滚动的高度，然后取页面每个section位置，放入数组，如果当前滚动高度在section某个区间，那么就为其添加play类；&lt;/p&gt;
&lt;p&gt;可是感觉比较麻烦，看看有没有其他好的办法。继续寻找方案二。。。。&lt;/p&gt;
&lt;p&gt;方案二：&lt;br&gt;借助插件，实现监听滚动&lt;a href=&quot;https://edull24.github.io/ScrollWatch/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;&lt;br&gt;还是上面的html结构：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-scroll-watch&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos bounce_in_down&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bounce_in_right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;section部分添加了data-scroll-watch，这就告诉了ScrollWatch，此部分需要做滚动监听。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;接下来，你需要初始化ScrollWatch插件，并做一些简单的配置调整。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sw = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ScrollWatch(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	watchOnce: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	infiniteScroll: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	infiniteOffset: &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	inViewClass: &lt;span class=&quot;string&quot;&gt;&#39;play&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	onElementInView: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;comment&quot;&gt;// console.log(data.el, &#39;...is now in view&#39;);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;哈哈，大家可能看出来了，方案二就是偷懒模式🙈。我们借助scrollwatch来完成，详细信息请查看api。&lt;/p&gt;
&lt;h4 id=&quot;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot;&gt;&lt;a href=&quot;#三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot; class=&quot;headerlink&quot; title=&quot;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot;&gt;&lt;/a&gt;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&lt;/h4&gt;&lt;p&gt;交互师又提出了一个需求：&lt;br&gt;当滚动到该区域时，动画执行；当该区域离开视图区域时，动画反向执行。我们接受挑战，看看如何实现。&lt;/p&gt;
&lt;p&gt;第一反应当然是看看有没有现成的插件，这样可以省去重复造轮子的时间成本。很幸运，我看到了这篇文章&lt;a href=&quot;http://www.jq22.com/jquery-info499&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;jQuery Smoove-华丽的CSS3滚动效果&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;嗯，jquery smoove是个不错的方案。&lt;br&gt;&lt;div class=&quot;alert warning&quot;&gt;&lt;p&gt;注意：jquery smoove为另外一种实现方式，与之前说的上文没有任何关系！&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;首先：引入类库，请先引入jquery文件。&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery-smoove/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;0.2.6/jquery.smoove.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我们对上面的html结构做一下简单的调整：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;   &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;my_animate&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-move-x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;-100px&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;my_animate&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-move-x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;jquery smoove帮我们做好了动画，我们只需要为其添加特定属性。&lt;/p&gt;
&lt;p&gt;请注意：#left和#right的容器内部已经变成了my_animate类，同时添加了data-move-x=”-100px”和data-move-x=”100px”语法。&lt;/p&gt;
&lt;p&gt;用插件，肯定需要做一些初始化工作：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$(&lt;span class=&quot;string&quot;&gt;&#39;.my_animate&#39;&lt;/span&gt;).smoove(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		offset  : &lt;span class=&quot;string&quot;&gt;&#39;45%&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当该元素滚动到距离视口底部45%距离时，触发动画。更多的动画效果，请查看&lt;a href=&quot;https://github.com/abeMedia/jquery-smoove&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;jquery-smoove文档地址&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;到这里，整个处理方式应该很明晰了吧，希望能够帮到你。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;H5页面动画，在推广运营中应用的相当广泛。越是酷炫的动画，越能吸引用户。动画当然算是比较重要的一个环节，除此之外不得不提到的就是－动画滚动交互效果。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="滚动监听" scheme="http://jartto.wang/tags/%E6%BB%9A%E5%8A%A8%E7%9B%91%E5%90%AC/"/>
    
      <category term="动画" scheme="http://jartto.wang/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="scroll" scheme="http://jartto.wang/tags/scroll/"/>
    
      <category term="animation" scheme="http://jartto.wang/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>将html转化成markdown文档</title>
    <link href="http://jartto.wang/2016/08/11/convert-html-into-markdown/"/>
    <id>http://jartto.wang/2016/08/11/convert-html-into-markdown/</id>
    <published>2016-08-11T15:55:46.000Z</published>
    <updated>2016-09-01T02:55:25.000Z</updated>
    
    <content type="html">&lt;p&gt;当我们需要去写大量的技术文档的时候，你肯定不愿意用html一个个页面去写，然后再去调样式。那么简洁高效的markdown语法，你不仿试试。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这里我们不再介绍markdown语法，如果你还不了解，点击这里&lt;a href=&quot;http://jartto.wang/2015/07/05/Comprehension-of-Markdown-Grammatical-Structure/&quot;&gt;Markdown语法浅析&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;好了，进入正题，我们来搞一件比较有趣的事情。&lt;/p&gt;
&lt;h4 id=&quot;一、html语法转化成markdown显示&quot;&gt;&lt;a href=&quot;#一、html语法转化成markdown显示&quot; class=&quot;headerlink&quot; title=&quot;一、html语法转化成markdown显示&quot;&gt;&lt;/a&gt;一、html语法转化成markdown显示&lt;/h4&gt;&lt;p&gt;首先，你需要引入markdown.css&lt;a href=&quot;https://github.com/mrcoles/markdown-css/blob/master/markdown.css&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../css/markdown.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其次，照常编写你的html代码&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;第一部分&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;hr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;注意事项&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;hello jartto&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;打开摇一摇：&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;超链接&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;alert alert-info&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;role&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;alert&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;当云子完成部署后，进入开发阶段。这里我们通常会有三个需求：获取云子设备的部署位置及相关配置的信息，批量修改云子设备的一些配置如UUID、功率、频率、密码等，检测配置是否正确。&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后，我们来看一下效果：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md.png&quot; alt=&quot;html2md&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、html显示成类似-Markdown-纯文本的形式&quot;&gt;&lt;a href=&quot;#二、html显示成类似-Markdown-纯文本的形式&quot; class=&quot;headerlink&quot; title=&quot;二、html显示成类似 Markdown 纯文本的形式&quot;&gt;&lt;/a&gt;二、html显示成类似 Markdown 纯文本的形式&lt;/h4&gt;&lt;p&gt;markdown.css&lt;a href=&quot;http://mrcoles.com/demo/markdown-css/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; 是一个很有意思的 CSS 样式表。它可以让 html 显示成类似 markdown 纯文本的形式。&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;请注意和标题一中的markdown.css区别&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;用法类似，首先引入markdown.css文件；&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../css/markdown.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其次，编写html规则：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;第一部分&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;jartto&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;just test it!&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后，我们来看一下效果：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:250px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md2.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md2.png&quot; style=&quot;width:250px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、在线转换工具&quot;&gt;&lt;a href=&quot;#三、在线转换工具&quot; class=&quot;headerlink&quot; title=&quot;三、在线转换工具&quot;&gt;&lt;/a&gt;三、在线转换工具&lt;/h4&gt;&lt;p&gt;当然，我们也可以依赖在线工具来做一些简单的转换，以适应不同的应用场景。&lt;br&gt;&lt;a href=&quot;http://www.atool.org/html2markdown.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.atool.org/html2markdown.php&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、本地编写markdown语法，编译成html语法显示&quot;&gt;&lt;a href=&quot;#四、本地编写markdown语法，编译成html语法显示&quot; class=&quot;headerlink&quot; title=&quot;四、本地编写markdown语法，编译成html语法显示&quot;&gt;&lt;/a&gt;四、本地编写markdown语法，编译成html语法显示&lt;/h4&gt;&lt;p&gt;下面介绍一种逼格较高的方式：(&lt;a href=&quot;http://strapdownjs.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网地址&lt;/a&gt;)&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Strapdown.js makes it embarrassingly simple to create elegant Markdown documents.&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;Hello Strapdown&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;xmp&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;theme&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;united&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;display:none;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Markdown text goes in here&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Chapter 1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;et dolore magna aliqua. &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Chapter 2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;culpa qui officia deserunt mollit anim id est laborum.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;xmp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://strapdownjs.com/v/0.2/strapdown.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好了，这样你就可以向往常一样使用简单的markdown语法了。&lt;/p&gt;
&lt;h4 id=&quot;五、其他&quot;&gt;&lt;a href=&quot;#五、其他&quot; class=&quot;headerlink&quot; title=&quot;五、其他&quot;&gt;&lt;/a&gt;五、其他&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/showdownjs/showdown&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/showdownjs/showdown&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/yunfeifei/p/4482495.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/yunfeifei/p/4482495.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://showdownjs.github.io/demo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://showdownjs.github.io/demo/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.tuicool.com/articles/Q7jQFjZ&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tuicool.com/articles/Q7jQFjZ&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;当我们需要去写大量的技术文档的时候，你肯定不愿意用html一个个页面去写，然后再去调样式。那么简洁高效的markdown语法，你不仿试试。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="html" scheme="http://jartto.wang/tags/html/"/>
    
      <category term="markdown" scheme="http://jartto.wang/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>bootstrap之affix附加导航</title>
    <link href="http://jartto.wang/2016/08/07/bootstrap-affix/"/>
    <id>http://jartto.wang/2016/08/07/bootstrap-affix/</id>
    <published>2016-08-07T02:42:11.000Z</published>
    <updated>2016-09-01T02:49:35.000Z</updated>
    
    <content type="html">&lt;p&gt;手头项目需要开发一个API文档页面，怎么样的交互才是好的呢？于是迅速的在大脑中搜索了一下，嗯，何不直接使用affix效果，简单粗暴而又实用🙈&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;想象总是很美好，很简单的东西却让我栽了大跟头，一起来看看我的心酸历程吧！&lt;/p&gt;
&lt;h4 id=&quot;一、查阅文档&quot;&gt;&lt;a href=&quot;#一、查阅文档&quot; class=&quot;headerlink&quot; title=&quot;一、查阅文档&quot;&gt;&lt;/a&gt;一、查阅文档&lt;/h4&gt;&lt;p&gt;首先，打开官网&lt;a href=&quot;http://v3.bootcss.com/javascript/#affix&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;，查看affix文档：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_40342EE3-73F5-4353-B8DD-4AD5E93F43E6.png&quot; alt=&quot;affix&quot;&gt;&lt;br&gt;看起来很简单嘛，我们直接上手。&lt;/p&gt;
&lt;h4 id=&quot;二、用法简述&quot;&gt;&lt;a href=&quot;#二、用法简述&quot; class=&quot;headerlink&quot; title=&quot;二、用法简述&quot;&gt;&lt;/a&gt;二、用法简述&lt;/h4&gt;&lt;p&gt;虽然是现成的类库，但是还是有很多细节，大概整理如下：&lt;br&gt;1.引入类库文件&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 如果还用到bootstrap其他组件，建议加在bootstrap.min.js --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;lib/bootstrap.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 附加导航类库文件 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;lib/affix.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.添加控制区域&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#top&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;scroll&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myAffix&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;3.两种激活方式&lt;br&gt;其一：向元素添加附加导航（Affix）行为，只需要向需要监听的元素添加 data-spy=”affix” 即可。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#top&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;scroll&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;125&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;请注意这一行：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;125&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;如果html中添加了data-spy=”affix”，则不再需要js激活，两种方式任选其一。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;其二：通过js为元素附加导航（Affix）行为。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).affix(&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        offset: &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            top: &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            bottom:&lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、碰到问题&quot;&gt;&lt;a href=&quot;#三、碰到问题&quot; class=&quot;headerlink&quot; title=&quot;三、碰到问题&quot;&gt;&lt;/a&gt;三、碰到问题&lt;/h4&gt;&lt;p&gt;文档很清晰，照着撸了一遍，结果如下图：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_6F3B1C26-DAD9-41FA-A0E0-66325045B8B5.png&quot; alt=&quot;bug&quot;&gt;&lt;br&gt;左侧菜单的红条（active类）并没有切换，那么滚动是如何触发active类在菜单项中切换的呢？我们来继续寻找问题。&lt;/p&gt;
&lt;h4 id=&quot;四、解决问题&quot;&gt;&lt;a href=&quot;#四、解决问题&quot; class=&quot;headerlink&quot; title=&quot;四、解决问题&quot;&gt;&lt;/a&gt;四、解决问题&lt;/h4&gt;&lt;p&gt;查找了好些文档，大致描述都是如“用法简述”中一样，那么问题究竟出在哪里了，是什么触发了active的切换？黄天不负有心人，我找到了这样的描述：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;“To easily add scrollspy behavior to your topbar navigation, add data-spy=”scroll” to the element you want to spy on (most typically this would be the &lt;body&gt;). Then add the data-target attribute with the ID or class of the parent element of any Bootstrap .nav component.” &lt;/body&gt;&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;请留心nav类，这就是问题的所在。你需要为你的元素添加nav类，否则acitve滚动监听肯定无效。&lt;/p&gt;
&lt;h4 id=&quot;五、继续深究&quot;&gt;&lt;a href=&quot;#五、继续深究&quot; class=&quot;headerlink&quot; title=&quot;五、继续深究&quot;&gt;&lt;/a&gt;五、继续深究&lt;/h4&gt;&lt;p&gt;到这里，问题基本就解决了。我可不是那么容易就会善罢甘休的，新问题来了：那导航菜单如果包含二级菜单呢，又该如何操作？&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix-nav&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;sidebar col-md-4&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav sidenav&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#cupcake&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Cupcake Lorem Ipsum&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#sweetjelly&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Sweet Jelly&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#tiramisu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Tiramisu&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#pie&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Pie&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#veggie&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Veggie Lorem Ipsum&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#coriander&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Coriander&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#kohlrabi&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Kohlrabi&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#amaranth&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Amaranth&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#soybean&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Soybean&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;看完代码，想必我就不用多说了吧！核心思想就是嵌套，请用心体会；&lt;/p&gt;
&lt;p&gt;到这里你以为完了？图样，图森破！简单使用场景到这里就可以了，但是affix给我们提供了一些事件处理方法，你不想试试？细心的我已经帮你拿来了，如下：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_02C9DA45-EF47-4AAE-AA08-726F096AC388.png&quot; alt=&quot;event&quot;&gt;&lt;br&gt;用法简单赘述一下：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(document).ready(function()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&#39;#myAffix&#39;).on(&#39;affixed.bs.affix&#39;, function()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(&#39;The navigation menu has been affixed. Now it doesn&#39;t scroll with the page.&#39;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;六、修复bug&quot;&gt;&lt;a href=&quot;#六、修复bug&quot; class=&quot;headerlink&quot; title=&quot;六、修复bug&quot;&gt;&lt;/a&gt;六、修复bug&lt;/h4&gt;&lt;p&gt;本来要高高兴兴的去睡觉，结果来回滚动几次，发现滚动到顶部的时候，菜单的active效果丢失了。查看源码之后，发现active类返回顶部被移除了。好吧，你能移除，我就能加回来，刚学的事件方法派上用场了。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).affix(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        offset: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            top: &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            bottom:&lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).on(&lt;span class=&quot;string&quot;&gt;&#39;affixed-top.bs.affix&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;arrive to the top&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        $(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).children().first().addClass(&lt;span class=&quot;string&quot;&gt;&#39;active&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; 加上代码，上下滚动了无数次，嗯，效果还不错～😊&lt;/p&gt;
&lt;h4 id=&quot;七、完美收场&quot;&gt;&lt;a href=&quot;#七、完美收场&quot; class=&quot;headerlink&quot; title=&quot;七、完美收场&quot;&gt;&lt;/a&gt;七、完美收场&lt;/h4&gt;&lt;p&gt;啰啰嗦嗦说了这么些，我觉得还是很有必要的，这里其实我想提供的是一种解决问题的思路。从“拿到需求－查阅文档－亲自尝试－遇到问题－查找问题－解决问题－认真反思－深入了解－解决bug”，整个过程自己觉得受益匪浅，所以分享出来，希望能够帮到遇到同样问题的你。&lt;/p&gt;
&lt;p&gt;参考文档：&lt;br&gt;&lt;a href=&quot;http://v3.bootcss.com/javascript/#affix&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://v3.bootcss.com/javascript/#affix&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://tutsme-webdesign.info/bootstrap-3-affix/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tutsme-webdesign.info/bootstrap-3-affix/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-affix.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-affix.php&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/20526728/bootstrap-3-scrollspy-not-working-with-affix-and-panel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/20526728/bootstrap-3-scrollspy-not-working-with-affix-and-panel&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;手头项目需要开发一个API文档页面，怎么样的交互才是好的呢？于是迅速的在大脑中搜索了一下，嗯，何不直接使用affix效果，简单粗暴而又实用🙈&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="bootstrap" scheme="http://jartto.wang/tags/bootstrap/"/>
    
      <category term="affix" scheme="http://jartto.wang/tags/affix/"/>
    
  </entry>
  
  <entry>
    <title>探索js性能优化</title>
    <link href="http://jartto.wang/2016/08/05/exploring-js-performance-optimization/"/>
    <id>http://jartto.wang/2016/08/05/exploring-js-performance-optimization/</id>
    <published>2016-08-05T02:42:11.000Z</published>
    <updated>2016-08-21T14:26:49.000Z</updated>
    
    <content type="html">&lt;p&gt;谈起前端优化，总是不自觉的联想到网站优化，而很少想到－js性能优化。你为js做过多少，仅仅是“压缩，精简，混淆”吗？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这里要特别感谢@思卓童鞋，在我猝不及防的情况下，给我抛出了这个问题。是时候该总结整理一下了，“知道一些”和“很了解”中间差的可不是一千两千（抱歉，最近一直都在面试，满脑子都是💰）。&lt;/p&gt;
&lt;p&gt;这节我们来探索一下js性能优化，请坐稳扶好。&lt;/p&gt;
&lt;h4 id=&quot;一、避免全局查找&quot;&gt;&lt;a href=&quot;#一、避免全局查找&quot; class=&quot;headerlink&quot; title=&quot;一、避免全局查找&quot;&gt;&lt;/a&gt;一、避免全局查找&lt;/h4&gt;&lt;p&gt;在一个函数中会用到全局对象存储为局部变量来减少全局查找，因为访问局部变量的速度要比访问全局变量的速度更快些&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;search&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//当我要使用当前页面地址和主机域名&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location.href + &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location.host);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//最好的方式是如下这样  先用一个简单变量保存起来&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;search&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; location = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(location.href + location.host);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、定时器&quot;&gt;&lt;a href=&quot;#二、定时器&quot; class=&quot;headerlink&quot; title=&quot;二、定时器&quot;&gt;&lt;/a&gt;二、定时器&lt;/h4&gt;&lt;p&gt;如果针对的是不断运行的代码，不应该使用setTimeout，而应该是用setInterval，因为setTimeout每一次都会初始化一个定时器，而setInterval只会在开始的时候初始化一个定时器&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timeoutTimes = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;timeout&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	timeoutTimes++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (timeoutTimes &amp;lt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		setTimeout(timeout, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;timeout();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; intervalTimes = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;interval&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	intervalTimes++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (intervalTimes &amp;gt;= &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		clearInterval(interv);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; interv = setInterval(interval, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、字符串连接&quot;&gt;&lt;a href=&quot;#三、字符串连接&quot; class=&quot;headerlink&quot; title=&quot;三、字符串连接&quot;&gt;&lt;/a&gt;三、字符串连接&lt;/h4&gt;&lt;p&gt;如果要连接多个字符串，应该少使用+=，如&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;s+=a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;s+=b;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;s+=c;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;应该写成s+=a + b + c；&lt;/p&gt;
&lt;p&gt;而如果是收集字符串，比如多次对同一个字符串进行+=操作的话，最好使用一个缓存，使用JavaScript数组来收集，最后使用join方法连接起来&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; buf = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    buf.push(i.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; all = buf.join(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、避免with语句&quot;&gt;&lt;a href=&quot;#四、避免with语句&quot; class=&quot;headerlink&quot; title=&quot;四、避免with语句&quot;&gt;&lt;/a&gt;四、避免with语句&lt;/h4&gt;&lt;p&gt;和函数类似 ，with语句会创建自己的作用域，因此会增加其中执行的代码的作用域链的长度，由于额外的作用域链的查找，在with语句中执行的代码肯定会比外面执行的代码要慢，在能不使用with语句的时候尽量不要使用with语句。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; (a.b.c.d) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           property1 = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           property2 = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = a.b.c.d;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       obj.property1 = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       obj.property2 = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;数字转换成字符串&lt;br&gt;一般最好用’’ + 1来将数字转换成字符串，虽然看起来比较丑一点，但事实上这个效率是最高的，性能上来说：&lt;br&gt;(‘’ +) &amp;gt; String() &amp;gt; .toString() &amp;gt; new String()&lt;br&gt;浮点数转换成整型&lt;br&gt;很多人喜欢使用parseInt()，其实parseInt()是用于将字符串转换成数字，而不是浮点数和整型之间的转换，我们应该使用Math.floor()或者Math.round()&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myVar = &lt;span class=&quot;string&quot;&gt;&#39;3.14159&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;str = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt; + myVar, &lt;span class=&quot;comment&quot;&gt;//  to string  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;i_int = ~ ~myVar,  &lt;span class=&quot;comment&quot;&gt;//  to integer  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;f_float = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; * myVar,  &lt;span class=&quot;comment&quot;&gt;//  to float  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;b_bool = !!myVar,  &lt;span class=&quot;comment&quot;&gt;/*  to boolean - any string with length &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        and any number except 0 are true */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;array = [myVar];  &lt;span class=&quot;comment&quot;&gt;//  to array&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果定义了toString()方法来进行类型转换的话，推荐显式调用toString()，因为内部的操作在尝试所有可能性之后，会尝试对象的toString()方法尝试能否转化为String，所以直接调用这个方法效率会更高&lt;/p&gt;
&lt;p&gt;多个类型声明&lt;br&gt;在JavaScript中所有变量都可以使用单个var语句来声明，这样就是组合在一起的语句，以减少整个脚本的执行时间，就如上面代码一样，上面代码格式也挺规范，让人一看就明了。&lt;/p&gt;
&lt;p&gt;插入迭代器&lt;br&gt;如var name=values[i]; i++;前面两条语句可以写成var name=values[i++]&lt;/p&gt;
&lt;p&gt;使用直接量&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;(); &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reg = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;(); &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reg = &lt;span class=&quot;regexp&quot;&gt;/../&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//如果要创建具有一些特性的一般对象，也可以使用字面量，如下：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; oFruit = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; O;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        oFruit.color = &lt;span class=&quot;string&quot;&gt;&#39;red&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        oFruit.name = &lt;span class=&quot;string&quot;&gt;&#39;apple&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//前面的代码可用对象字面量来改写成这样：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; oFruit = &amp;#123; color: &lt;span class=&quot;string&quot;&gt;&#39;red&#39;&lt;/span&gt;, name: &lt;span class=&quot;string&quot;&gt;&#39;apple&#39;&lt;/span&gt; &amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用DocumentFragment优化多次append&lt;br&gt;一旦需要更新DOM,请考虑使用文档碎片来构建DOM结构，然后再将其添加到现存的文档中。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; frag = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createDocumentFragment();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            frag.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(frag);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用一次innerHTML赋值代替构建dom元素&lt;br&gt;对于大的DOM更改，使用innerHTML要比使用标准的DOM方法创建同样的DOM结构快得多。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; frag = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createDocumentFragment();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    frag.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(frag);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    html.push(&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;p&amp;gt;&#39;&lt;/span&gt; + i + &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/p&amp;gt;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.innerHTML = html.join(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://www.it165.net/pro/html/201503/35336.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.it165.net/pro/html/201503/35336.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;谈起前端优化，总是不自觉的联想到网站优化，而很少想到－js性能优化。你为js做过多少，仅仅是“压缩，精简，混淆”吗？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="优化" scheme="http://jartto.wang/tags/%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议入门</title>
    <link href="http://jartto.wang/2016/08/04/Rudimentary-http-protocol/"/>
    <id>http://jartto.wang/2016/08/04/Rudimentary-http-protocol/</id>
    <published>2016-08-04T03:02:45.000Z</published>
    <updated>2016-08-04T08:16:07.000Z</updated>
    
    <content type="html">&lt;p&gt;作为一个web前端开发工程师，浏览器恐怕比媳妇还要亲吧。那么这位朝夕相处的第三者你到底了解多少，关于人家的聊天语言－http协议，你又懂多少？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;别再拿200，404，503来说事了，这跟只会say hello有啥区别。让我们开启狂暴模式，疯狂的撩妹吧！&lt;/p&gt;
&lt;h4 id=&quot;一、关于HTTP&quot;&gt;&lt;a href=&quot;#一、关于HTTP&quot; class=&quot;headerlink&quot; title=&quot;一、关于HTTP&quot;&gt;&lt;/a&gt;一、关于HTTP&lt;/h4&gt;&lt;p&gt;HTTP(HyperText Transfer Protocol)是一套计算机通过网络进行通信的规则，使HTTP客户端（如Web浏览器）能够从HTTP服务器(Web服务器)请求信息和服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP是一种无状态的协议&lt;ul&gt;
&lt;li&gt;无状态是指Web浏览器和Web服务器之间不需要建立持久的连接，这意味着当一个客户端向服务器端发出请求，然后Web服务器返回响应(response)，连接就被关闭了，在服务器端不保留连接的有关信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP遵循请求(Request)/应答(Response)模型&lt;ul&gt;
&lt;li&gt;Web浏览器向Web服务器发送请求，Web服务器处理请求并返回适当的应答。所有HTTP连接都被构造成一套请求和应答。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP使用内容类型&lt;ul&gt;
&lt;li&gt;是指Web服务器向Web浏览器返回的文件都有与之相关的类型。所有这些类型在MIME Internet邮件协议上模型化，即Web服务器告诉Web浏览器该文件所具有的种类，是HTML文档、GIF格式图像、声音文件还是独立的应用程序。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;二、HTTP通信机制&quot;&gt;&lt;a href=&quot;#二、HTTP通信机制&quot; class=&quot;headerlink&quot; title=&quot;二、HTTP通信机制&quot;&gt;&lt;/a&gt;二、HTTP通信机制&lt;/h4&gt;&lt;p&gt;一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：&lt;/p&gt;
&lt;p&gt;①建立TCP连接&lt;br&gt;在HTTP工作开始之前，Web浏览器首先要通过网络与Web服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建Internet，即著名的TCP/IP协议族，因此Internet又被称作是TCP/IP网络。HTTP是比TCP更高层次的应用层协议，根据规则，只有低层协议建立之后，才能进行更层协议的连接，因此，首先要建立TCP连接，一般TCP连接的端口号是80&lt;/p&gt;
&lt;p&gt;②Web浏览器向Web服务器发送请求命令&lt;br&gt;一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令&lt;br&gt;例如：GET/sample/hello.jsp HTTP/1.1&lt;/p&gt;
&lt;p&gt;③Web浏览器发送请求头信息&lt;br&gt;浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。&lt;/p&gt;
&lt;p&gt;④Web服务器应答&lt;br&gt;客户机向服务器发出请求后，服务器会客户机回送应答，&lt;br&gt;HTTP/1.1 200 OK&lt;br&gt;应答的第一部分是协议的版本号和应答状态码&lt;/p&gt;
&lt;p&gt;⑤Web服务器发送应答头信息&lt;br&gt;正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。&lt;/p&gt;
&lt;p&gt;⑥Web服务器向浏览器发送数据&lt;br&gt;Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据&lt;/p&gt;
&lt;p&gt;⑦Web服务器关闭TCP连接&lt;br&gt;一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Connection:keep-alive&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。&lt;/p&gt;
&lt;h4 id=&quot;三、HTTP请求／应答格式&quot;&gt;&lt;a href=&quot;#三、HTTP请求／应答格式&quot; class=&quot;headerlink&quot; title=&quot;三、HTTP请求／应答格式&quot;&gt;&lt;/a&gt;三、HTTP请求／应答格式&lt;/h4&gt;&lt;p&gt;打开chrome浏览器的开发者工具，我们来看一下http的头文件。代码有点多，为了避免辣眼睛，我来做一个拆分，咱们逐一来看：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;General部分：&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Request URL:http://jartto.wang/usr/GetMicWebImgs.do?name=jartto&amp;amp;ida=1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Request Method:GET&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Status Code:200 OK&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里主要是请求链接，请求方式以及响应状态码。&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Response Headers部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Connection:Keep-Alive&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Content-Length:58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Content-Type:application/json&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Date:Thu, 04 Aug 2016 06:01:46 GMT&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Keep-Alive:timeout=5, max=100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Server:HAP/Vertx&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1.Connection表示是否需要持久连接，(HTTP1.1默认进行持久连接)。如：Connection：close，Connection：keep-Alive，表示持久连接。&lt;br&gt;2.Content-Length表示内容长度。只有当浏览器使用持久HTTP连接时才需要这个数据。如果你想要利用持久连接的优势，可以把输出文档写入ByteArrayOutputStram，完成后查看其大小，然后把该值放入Content-Length头，最后通过 byteArrayStream.writeTo(response.getOutputStream()发送内容。&lt;br&gt;3.Content-Type实体头用于向接收方指示实体的介质类型，指定HEAD方法送到接收方的实体介质类型，或GET方法发送的请求介质类型 Content-Range实体头&lt;br&gt;4.Date头域表示消息发送的时间，Date描述的时间表示世界标准时，换算成本地时间，需要知道用户所在的时区。&lt;br&gt;5.Keep-Alive中timeout：过期时间5秒（对应httpd.conf里的参数是：KeepAliveTimeout），就是在timeout时间内又有新的连接过来，同时max会自动减1，直到为0，强制断掉。&lt;br&gt;6.Server响应头包含处理请求的原始服务器的软件信息。此域能包含多个产品标识和注释，产品标识一般按照重要性排序。 &lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Request Headers部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Accept:*/*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Accept-Encoding:gzip, deflate, sdch&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Accept-Language:zh-CN,zh;q=0.8,en;q=0.6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Cache-Control:no-cache&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Connection:keep-alive&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Host:jartto.wang&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Pragma:no-cache&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Referer:http://jartto.wang/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;User-Agent:Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1.Accept请求报头域用于指定客户端接收哪些类型的信息。&lt;br&gt;2.Accept-Encoding指定浏览器可以支持的web服务器返回内容压缩编码类型。&lt;br&gt;3.Accept-Language指定客户端可以接受的语言。&lt;br&gt;4.Cache-Control指定请求和响应遵循的缓存机制。在请求消息或响应消息中设置 Cache-Control并不会修改另一个消息处理过程中的缓存处理过程。请求时的缓存指令包括no-cache、no-store、max-age、 max-stale、min-fresh、only-if-cached，响应消息中的指令包括public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age。&lt;a href=&quot;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;详情&lt;/a&gt;&lt;br&gt;5.Connection同响应头中Connection&lt;br&gt;6.Host头域指定请求资源的Intenet主机和端口号，必须表示请求url的原始服务器或网关的位置。HTTP/1.1请求必须包含主机头域，否则系统会以400状态码返回。&lt;br&gt;7.Pragma头域用来包含实现特定的指令，最常用的是Pragma:no-cache。在HTTP/1.1协议中，它的含义和Cache-Control:no-cache相同。&lt;br&gt;8.Referer 头域允许客户端指定请求uri的源资源地址，这可以允许服务器生成回退链表，可用来登陆、优化cache等。他也允许废除的或错误的连接由于维护的目的被 追踪。如果请求的uri没有自己的uri地址，Referer不能被发送。如果指定的是部分uri地址，则此地址应该是一个相对地址。&lt;br&gt;9.User-Agent头域的内容包含发出请求的用户信息。 &lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Query String Parameters部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;name:jartto&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ida:1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参数部分最好理解了，这里就不赘述了。&lt;/p&gt;
&lt;h4 id=&quot;四、-HTTP应答码&quot;&gt;&lt;a href=&quot;#四、-HTTP应答码&quot; class=&quot;headerlink&quot; title=&quot;四、 HTTP应答码&quot;&gt;&lt;/a&gt;四、 HTTP应答码&lt;/h4&gt;&lt;p&gt;HTTP应答码也称为状态码，它反映了Web服务器处理HTTP请求状态。HTTP应答码由3位数字构成，其中首位数字定义了应答码的类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1XX&lt;br&gt;信息类(Information),表示收到Web浏览器请求，正在进一步的处理中&lt;/li&gt;
&lt;li&gt;2XX&lt;br&gt;成功类（Successful）,表示用户请求被正确接收，理解和处理例如：200 OK&lt;/li&gt;
&lt;li&gt;3XX&lt;br&gt;重定向类(Redirection),表示请求没有成功，客户必须采取进一步的动作。&lt;/li&gt;
&lt;li&gt;4XX&lt;br&gt;客户端错误(Client Error)，表示客户端提交的请求有错误，例如：404 NOT Found，意味着请求中所引用的文档不存在。&lt;/li&gt;
&lt;li&gt;5XX-服务器错误(Server Error)表示服务器不能完成对请求的处理：如500对于我们Web开发人员来说掌握HTTP应答码有助于提高Web应用程序调试的效率和准确性。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert warning&quot;&gt;&lt;p&gt;我实在是太懒了，如果你想详细的了解每个应答码的信息，请这边走&lt;a href=&quot;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HTTP状态码大全&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/yin-jingyu/archive/2011/08/01/2123548.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/yin-jingyu/archive/2011/08/01/2123548.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/u012935755/article/details/51861514&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/u012935755/article/details/51861514&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cppblog.com/woaidongmao/archive/2009/09/08/95544.aspx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cppblog.com/woaidongmao/archive/2009/09/08/95544.aspx&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;作为一个web前端开发工程师，浏览器恐怕比媳妇还要亲吧。那么这位朝夕相处的第三者你到底了解多少，关于人家的聊天语言－http协议，你又懂多少？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="http" scheme="http://jartto.wang/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>生活感悟</title>
    <link href="http://jartto.wang/2016/08/01/insights-of-life/"/>
    <id>http://jartto.wang/2016/08/01/insights-of-life/</id>
    <published>2016-08-01T02:49:56.000Z</published>
    <updated>2016-08-01T05:20:20.000Z</updated>
    
    <content type="html">&lt;p&gt;随手整理了一下零散记下的笔记，发现了很多正能量的语言。这对于最近身心疲惫的我来说，真是一味强心剂啊。看不清未来，那就做好现在。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;深切感悟篇&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;All endings are beginnings, we just don’t know it at the time. 所有的结局都是新的开始，只是我们当时不知道。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从两件事能看出你是个什么样的人：你一无所有时的耐心，还有你无所不有时的态度。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;上错了车，别因为投了币而不肯下车。那样只会错过更多的站。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果有个人能让你忘掉过去，那么这个人就是你的未来。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;一只站在树上的鸟儿，从来不会害怕树枝断裂，因为她相信的不是树枝，而是她自己的翅膀。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;别将过去抱的太紧，因为那样你就腾不出手来拥抱现在。&lt;br&gt;Yesterday is history, tomorrow is mystery,But today is a gift ,That is why it’s called the present。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;许多人所谓的成熟，不过是被习俗磨去了棱角，变得世故而实际了。那不是成熟，而是精神的早衰和个性的夭亡。真正的成熟，应当是独特个性的形成，真实自我的发现，精神上的结果和丰收——————尼采&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;时间不一定能证明很多东西 但是一定能看透很多东西。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;看不清未来，就做好现在。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;华丽的跌倒，胜过无谓的徘徊。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;当我年轻的时候，我梦想改变这个世界；当我成熟以后，我发现我不能够改变这个世界，我将目光缩短了些，决定只改变我的国家；当我进入暮年以后，我发现我不能够改变我们的国家，我的最后愿望仅仅是改变一下我的家庭，但是，这也不可能。当我现在躺在床上，行将就木时，我突然意识到：如果一开始我仅仅去改变我自己，然后，我可能改变我的家庭；在家人的帮助和鼓励下，我可能为国家做一些事情；然后，谁知道呢?我甚至可能改变这个世界。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;道歉并不一定代表你错了，只是你认为这段关系，比你的尊严更重要。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;这些年我一直提醒自己一件事，千万不要自己感动自己。大多人看似的努力，不过是愚蠢导致的。什么熬夜看书到天亮，连续几天只睡几小时，多久没放假了，如果这些东西也值得夸耀，那么富士康流水线上任何一个人都比你努力多了。人难免天生有自怜的情绪，唯有时刻保持清醒，才能看清真正的价值在哪里。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;你是活了一万多天？还是活了一天，却重复了一万多次？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;当你的野心支撑不了你的梦想的时候，该努力了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;所谓迷茫，就是才华配不上梦想。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;就像人生，每个人的结果都是注定要死的，重要的是在那个结果之前我们怎么活。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;许久不联系的人，不用再联系。各自辛苦，各自生活，也再无交集，该停留在过去的，就让它停留在过去。如果有缘，会再见。若无缘，不如不见。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;能跟你一辈子的人就是：理解你的过去，相信你的未来，并包容你的现在的人。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;心灵鸡汤篇&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;人生，看透不如看淡。在岁月中跋涉，每个人都有自己的故事，看淡心境才会秀丽，看开心情才会明媚。累时歇一歇，随清风漫舞，烦时静一静，与花草凝眸，急时缓一缓，和自己微笑。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Today I will do what others won’t, so tomorrow I can accomplish what others can’t.&lt;br&gt;今天我做了别人不愿做的事，明天我就能做到别人所不能做的事。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;生活，是追求在心路上，被走成了欲望；人生，是磨难在枝头上，被晾晒成了坚强。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对自己的不自信，无疑让别人添加了几分不信任。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;每个人都会累，没人能为你承担所有的伤悲和疲惫，所以人总有那么一段时间要学会自己长大。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;人只有两只手，能抓多少东西？抓住一样东西，就意味着放弃了更多的东西。放弃和失去，其实始终是人生的大局。不要以为得到了什么，其实人时时刻刻都是在失去，失去时间，失去生命，失去更多的财富，失去更多的机会。不要抓得太紧。抓得越紧，丢失的会越多。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;不是所有的人都能知道时光的含义，不是所有的人都懂得珍惜，这世间并没有分离与衰老的命运，只有肯爱与不肯爱的心。——席慕蓉&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;随手整理了一下零散记下的笔记，发现了很多正能量的语言。这对于最近身心疲惫的我来说，真是一味强心剂啊。看不清未来，那就做好现在。&lt;br&gt;
    
    </summary>
    
      <category term="生活感悟" scheme="http://jartto.wang/categories/%E7%94%9F%E6%B4%BB%E6%84%9F%E6%82%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>微信支付大坑</title>
    <link href="http://jartto.wang/2016/07/29/trap-set-by-wx/"/>
    <id>http://jartto.wang/2016/07/29/trap-set-by-wx/</id>
    <published>2016-07-29T09:13:03.000Z</published>
    <updated>2016-07-29T10:04:27.000Z</updated>
    
    <content type="html">&lt;p&gt;搞过微信开发的同学肯定对微信支付不会陌生，想必也碰到了不少麻烦吧？到底有多坑，我们来说道说道。咳～咳，没有批评，存粹只是对知识的敬畏哦🙈&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;本文来细数一下微信支付的大坑，希望可以对后来的你有所帮助。&lt;/p&gt;
&lt;h4 id=&quot;一、方式&quot;&gt;&lt;a href=&quot;#一、方式&quot; class=&quot;headerlink&quot; title=&quot;一、方式&quot;&gt;&lt;/a&gt;一、方式&lt;/h4&gt;&lt;p&gt;两种方式JS SDK和JS API，这两种方式都是可用&lt;br&gt;JS SDK方式&lt;br&gt;&lt;a href=&quot;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&lt;/a&gt;&lt;br&gt;JS API方式&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、关于异常fail-invalid-appid&quot;&gt;&lt;a href=&quot;#二、关于异常fail-invalid-appid&quot; class=&quot;headerlink&quot; title=&quot;二、关于异常fail_invalid_appid&quot;&gt;&lt;/a&gt;二、关于异常fail_invalid_appid&lt;/h4&gt;&lt;p&gt;检查商户平台证书，需要手动设置key&lt;br&gt;检查支付地址和支付测试目录问题&lt;br&gt;添加测试人微信号到白名单&lt;/p&gt;
&lt;p&gt;目录最好只到2级，太深的话，也是会报错的&lt;br&gt;单独链接，单页应用＃后无法识别，亦会报错&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_5fc3da040102vjm7.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.sina.com.cn/s/blog_5fc3da040102vjm7.html&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、支付验证签名失败&quot;&gt;&lt;a href=&quot;#三、支付验证签名失败&quot; class=&quot;headerlink&quot; title=&quot;三、支付验证签名失败&quot;&gt;&lt;/a&gt;三、支付验证签名失败&lt;/h4&gt;&lt;p&gt;get_brand_wcpay_request:fail&lt;br&gt;步骤一：&lt;br&gt;检测参数大小写和顺序问题&lt;br&gt;商户key必须拼写在字符串末尾&lt;br&gt;MD5算法后需转为大写&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jingyan.baidu.com/article/59703552c3c9808fc1074072.html?st=2&amp;amp;os=0&amp;amp;bd_page_type=1&amp;amp;net_type=2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://jingyan.baidu.com/article/59703552c3c9808fc1074072.html?st=2&amp;amp;os=0&amp;amp;bd_page_type=1&amp;amp;net_type=2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用在线签名验证工具去对比签名&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/tools/signverify/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;步骤二：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:200px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/wx_97CF93DF-B21E-4247-B9C0-E1E0AF283E6D.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/wx_97CF93DF-B21E-4247-B9C0-E1E0AF283E6D.png&quot; style=&quot;width:200px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;paySign需要上图红圈中的5个参数进行签名，否则就会报错。&lt;/p&gt;
&lt;h4 id=&quot;四、调用支付JSAPI缺少参数：-key0&quot;&gt;&lt;a href=&quot;#四、调用支付JSAPI缺少参数：-key0&quot; class=&quot;headerlink&quot; title=&quot;四、调用支付JSAPI缺少参数：$key0$&quot;&gt;&lt;/a&gt;四、调用支付JSAPI缺少参数：$key0$&lt;/h4&gt;&lt;p&gt;首先确定timeStamp必须是string类型；&lt;br&gt;其次检查参数名对应情况，必须与api参数列表完全一致；&lt;/p&gt;
&lt;h4 id=&quot;五、相关补充&quot;&gt;&lt;a href=&quot;#五、相关补充&quot; class=&quot;headerlink&quot; title=&quot;五、相关补充&quot;&gt;&lt;/a&gt;五、相关补充&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://bbs.csdn.net/topics/390981338&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://bbs.csdn.net/topics/390981338&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/deepleo/p/weixinjssdk.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/deepleo/p/weixinjssdk.html&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、相关文档：&quot;&gt;&lt;a href=&quot;#六、相关文档：&quot; class=&quot;headerlink&quot; title=&quot;六、相关文档：&quot;&gt;&lt;/a&gt;六、相关文档：&lt;/h4&gt;&lt;p&gt;网页调起支付API&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;br&gt;安全规范（签名规则等）&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&lt;/a&gt;&lt;br&gt;调用请求参数&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/tools/signverify/&lt;/a&gt;&lt;br&gt;js sdk&lt;br&gt;&lt;a href=&quot;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&lt;/a&gt;&lt;br&gt;网页端掉起支付api&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;br&gt;统一下单：&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_1&lt;/a&gt;&lt;br&gt;微信公众平台：&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://mp.weixin.qq.com/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;搞过微信开发的同学肯定对微信支付不会陌生，想必也碰到了不少麻烦吧？到底有多坑，我们来说道说道。咳～咳，没有批评，存粹只是对知识的敬畏哦🙈&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="微信" scheme="http://jartto.wang/tags/%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>浅谈auth认证</title>
    <link href="http://jartto.wang/2016/07/27/chattered-about-auth/"/>
    <id>http://jartto.wang/2016/07/27/chattered-about-auth/</id>
    <published>2016-07-27T09:07:54.000Z</published>
    <updated>2016-07-27T09:31:13.000Z</updated>
    
    <content type="html">&lt;p&gt;关于认证，开放平台有两种认证方式，一种是Basic Auth，一种是OAuth。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、Basic-Auth（HTTP-Auth）&quot;&gt;&lt;a href=&quot;#一、Basic-Auth（HTTP-Auth）&quot; class=&quot;headerlink&quot; title=&quot;一、Basic Auth（HTTP Auth）&quot;&gt;&lt;/a&gt;一、Basic Auth（HTTP Auth）&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;Basic Auth简单点说明就是每次请求API时都提供用户的username和password。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;优点：&lt;br&gt;①使用非常简单，&lt;br&gt;②开发和调试工作简单，&lt;br&gt;③没有复杂的页面跳转逻辑和交互过程；&lt;br&gt;④更利于发起方控制；&lt;/p&gt;
&lt;p&gt;缺点：&lt;br&gt;①安全性低，每次都需要传递用户名和密码，用户名和密码很大程度上存在被监听盗取的可能；&lt;br&gt;②同时应用本地还需要保存用户名和密码，在应用本身的安全性来说，也存在很大问题；&lt;br&gt;③开放平台服务商出于自身安全性的考虑（第三方可以得到该服务商用户的账号密码，对于服务商来说是一种安全隐患），未来也会限制此认证方式（Twitter就计划在6月份停止Basic Auth的支持）&lt;br&gt;④用户如果更改了用户名和密码，还需要重新进行密码校验的过程。&lt;/p&gt;
&lt;h4 id=&quot;二、OAuth&quot;&gt;&lt;a href=&quot;#二、OAuth&quot; class=&quot;headerlink&quot; title=&quot;二、OAuth&quot;&gt;&lt;/a&gt;二、OAuth&lt;/h4&gt;&lt;p&gt;OAuth为用户资源的授权提供了一个安全、开放的标准，它分为几个交互过程：&lt;br&gt;1）应用用APP KEY和APP SECRET换取OAuth_token；&lt;br&gt;2）应用将用户引导到服务商的页面对该OAuth_token进行授权（可能需要输入用户名和密码）；&lt;br&gt;3）服务商的页面跳转回应用，应用再根据参数去服务商获得Access Token；&lt;br&gt;4）使用这个Access Token就可以访问API了。&lt;/p&gt;
&lt;p&gt;OAuth的优点：&lt;br&gt;①安全性高，用户的账户和密码只需要提供一次，而且是在服务商的页面上提供，防止了Basic Auth反复传输密码带来的安全隐患；&lt;br&gt;②Access Token访问权限仅限于应用，被窃取不会影响用户在该服务商的其他服务；&lt;br&gt;③Access Token即使被监听丢失了随时可以撤销，不像密码丢失可能就被别人篡改了；&lt;br&gt;④用户修改了密码也不会影响该应用的正常使用。&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://baike.baidu.com/link?url=Ru1yPv68202-u1y8EmdkrV38N57dEXWaqFNuT_MeyGwnRAXlxsPPCYH93UzqkKa4QNxCgm38UYgr9I1t_vwlca&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/link?url=Ru1yPv68202-u1y8EmdkrV38N57dEXWaqFNuT_MeyGwnRAXlxsPPCYH93UzqkKa4QNxCgm38UYgr9I1t_vwlca&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;关于认证，开放平台有两种认证方式，一种是Basic Auth，一种是OAuth。&lt;br&gt;
    
    </summary>
    
      <category term="每日积累" scheme="http://jartto.wang/categories/%E6%AF%8F%E6%97%A5%E7%A7%AF%E7%B4%AF/"/>
    
    
      <category term="auth" scheme="http://jartto.wang/tags/auth/"/>
    
  </entry>
  
  <entry>
    <title>HTML5 API大盘点</title>
    <link href="http://jartto.wang/2016/07/25/make-an-inventory-of-html5-api/"/>
    <id>http://jartto.wang/2016/07/25/make-an-inventory-of-html5-api/</id>
    <published>2016-07-25T06:26:36.000Z</published>
    <updated>2016-07-26T08:40:58.000Z</updated>
    
    <content type="html">&lt;p&gt;在地铁里偶然听见有些人在谈论着html5，我听到了这样的声音：“不就是一些简单的网页吗，炒作的太厉害了”。真的只是一些简单的页面吗？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;我决定顺着《HTML5高级教程》捋一捋，咱们来说道说道。嗯，好戏来了，不只是打脸哦～🙈&lt;/p&gt;
&lt;p&gt;都说了API大盘点，所以“简写，语义化，表单支持”均不在本文的盘点范围内。&lt;/p&gt;
&lt;h4 id=&quot;一、Canvas&quot;&gt;&lt;a href=&quot;#一、Canvas&quot; class=&quot;headerlink&quot; title=&quot;一、Canvas&quot;&gt;&lt;/a&gt;一、Canvas&lt;/h4&gt;&lt;p&gt;Canvas本质上是一个位图画步。&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;使用canvas编程，首先要获取其上下文（context）。接着在上下文中执行动作，最后将这些动作应用到上下文中。可以将canvas的这种编辑方式想象成数据库事务：开发人员先发起一个事务，然后执行某些操作，最后提交事务。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;html结构：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;diagonal&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;border:1px solid;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;drawDiagonal&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;//取的canvas元素及其绘图上下文&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; canvas = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(‘diagonal’);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; context = canvas.getContext(&lt;span class=&quot;string&quot;&gt;&#39;2d&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// 用绝对坐标来创建一条路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.beginPath();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.moveTo(&lt;span class=&quot;number&quot;&gt;70&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;140&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.lineTo(&lt;span class=&quot;number&quot;&gt;140&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;70&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// 将这条线绘制到canvas上&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.stroke();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;load&#39;&lt;/span&gt;,drawDiagonal,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、Audio和Video&quot;&gt;&lt;a href=&quot;#二、Audio和Video&quot; class=&quot;headerlink&quot; title=&quot;二、Audio和Video&quot;&gt;&lt;/a&gt;二、Audio和Video&lt;/h4&gt;&lt;p&gt;html5中的多媒体支持。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;audio&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;clickSound&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;a.ogg&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;b.mp3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;audio&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;toggle&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;toggleSound()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;play&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;toggleSound&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; music = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;clickSound&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; toggle = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;toggle&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(music.paused)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        music.play();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toggle.innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;Pause&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        music.pause();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toggle.innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;Play&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;三、Geolocation&quot;&gt;&lt;a href=&quot;#三、Geolocation&quot; class=&quot;headerlink&quot; title=&quot;三、Geolocation&quot;&gt;&lt;/a&gt;三、Geolocation&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;请求一个位置信息，如果用户同意，浏览器就会返回位置信息，该位置信息是通过支持HTML5地理定位功能的底层设备提供给浏览器。位置信息由纬度／经度坐标和一些其他的元数据组成。有了这些位置信息就可以构建引人注意目的位置感知类应用程序。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;两种类型的定位请求API：单次定位请求和重复性的位置更新请求；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;load&#39;&lt;/span&gt;,loadDemo,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadDemo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.geolocation)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        navigator.geolocation.watchPosition(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            updateLocation,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handleLocationError,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;maximumAge:&lt;span class=&quot;number&quot;&gt;20000&lt;/span&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateLocation&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;position&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; latitude = position.coords.latitude;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; longitude = position.coords.longitude;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; accuracy = position.coords.accuracy;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timestamp = position.timestamp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、WebSockets&quot;&gt;&lt;a href=&quot;#四、WebSockets&quot; class=&quot;headerlink&quot; title=&quot;四、WebSockets&quot;&gt;&lt;/a&gt;四、WebSockets&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;WebSocket作为HTML5一种新的协议，实现了浏览器与服务器的双向通讯。在 WebSocket API 中，浏览器和服务器只需要要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;WebSocket protocol 是HTML5一种新的协议。它实现了浏览器与服务器全双工通信(full-duplex)。&lt;/p&gt;
&lt;p&gt;在此WebSocket 协议中，为我们实现即时服务带来了两大好处：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Header&lt;br&gt;互相沟通的Header是很小的-大概只有 2 Bytes&lt;/li&gt;
&lt;li&gt;Server Push&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt;  wsServer = &lt;span class=&quot;string&quot;&gt;&#39;ws://localhost:8888/Demo&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt;  websocket = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebSocket(wsServer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onopen = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onOpen(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onclose = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onClose(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onmessage = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onMessage(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onError(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onOpen&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Connected to WebSocket server.&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClose&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Disconnected&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onMessage&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Retrieved data from server: &#39;&lt;/span&gt; + evt.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onError&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Error occured: &#39;&lt;/span&gt; + evt.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在实现websocket连线过程中，需要通过浏览器发出websocket连线请求，然后服务器发出回应，这个过程通常称为“握手” (handshaking)。&lt;/p&gt;
&lt;p&gt;作为这一设计原则的一部分,WebSocket连接的协议规范定义了一个HTTP连接作为其开始生命周期,进而保证其与pre-WebSocket世界的完全向后兼容。通常来说从HTTP协议切换WebSocket称为WebSocket握手。&lt;/p&gt;
&lt;h4 id=&quot;五、Web-storage&quot;&gt;&lt;a href=&quot;#五、Web-storage&quot; class=&quot;headerlink&quot; title=&quot;五、Web storage&quot;&gt;&lt;/a&gt;五、Web storage&lt;/h4&gt;&lt;p&gt;①localStorage和sessionStorage大同小异，主要区别在生存周期，下面细说。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//存&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.backtoken=&lt;span class=&quot;string&quot;&gt;&#39;jartto&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.setItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//取&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.getItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//删&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.removeItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;localStorage生命周期是永久，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。&lt;/li&gt;
&lt;li&gt;sessionStorage生命周期为当前窗口或标签页，一旦窗口或标签页被永久关闭了，那么所有通过sessionStorage存储的数据也就被清空了。&lt;/li&gt;
&lt;li&gt;localStorage和sessionStorage一样都是用来存储客户端临时信息的对象。&lt;br&gt;他们均只能存储字符串类型的对象（虽然规范中可以存储其他原生类型的对象，但是目前为止没有浏览器对其进行实现）。&lt;/li&gt;
&lt;li&gt;不同浏览器无法共享localStorage或sessionStorage中的信息。相同浏览器的不同页面间可以共享相同的localStorage（页面属于相同域名和端口），但是不同页面或标签页间无法共享sessionStorage的信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这里需要注意的是，页面及标签页仅指顶级窗口，如果一个标签页包含多个iframe标签且他们属于同源页面，那么他们之间是可以共享sessionStorage的。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;②离线存储&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;HTML5 的 Web storage API 采用了离线缓存，会生成一个清单文件（manifest file)，这个清单文件实质就是一系列的URL列表文件，这些URL分别指向页面当中的html,css,javascript,图片等相关内容。当使用离线应用时，应用会引入这一清单文件，浏览器会读取这一文件，下载相应的文件，并将其缓存到本地。使得这些web应用能够脱离网络使用，而用户在离线时的更改也同样会映射到清单文件中，并在重新连线之后将更改返回应用，工作方式与我们现在所使用的网盘有着异曲同工之处。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;首先，需要在页面头加入manifest属性：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE HTML&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;manifest&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;cache.manifest&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后cache.manifest文件的书写方式为：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;CACHE MANIFEST&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#v0.11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;CACHE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;js/app.js&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;css/style.css&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;NETWORK:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;resourse/logo.png&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;FALLBACK:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/ /offline.html&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;离线存储的manifest一般由三个部分组成:&lt;br&gt;1.CACHE:表示需要离线存储的资源列表，由于包含manifest文件的页面将被自动离线存储，所以不需要把页面自身也列出来。&lt;br&gt;2.NETWORK:表示在它下面列出来的资源只有在在线的情况下才能访问，他们不会被离线存储，所以在离线情况下无法使用这些资源。不过，如果在CACHE和NETWORK中有一个相同的资源，那么这个资源还是会被离线存储，也就是说CACHE的优先级更高。&lt;br&gt;3.FALLBACK:表示如果访问第一个资源失败，那么就使用第二个资源来替换他，比如上面这个文件表示的就是如果访问根目录下任何一个资源失败了，那么就去访问offline.html。&lt;/p&gt;
&lt;h4 id=&quot;六、Communication&quot;&gt;&lt;a href=&quot;#六、Communication&quot; class=&quot;headerlink&quot; title=&quot;六、Communication&quot;&gt;&lt;/a&gt;六、Communication&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;出于安全方面的考虑，运行在同一浏览器中的框架，标签页，窗口间的通信一直都受到了严格的限制。&lt;br&gt;如果浏览器内部能提供直接的通信机制，就能更好的组织这些应用。&lt;br&gt;为了满足上述需求，浏览器厂商和标准制定机构一致同意引入一种新功能：跨文档消息通信。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;跨文档消息通信可以确保iframe，标签页，窗口间安全的进行跨源通信。它把postMessage API定义为发送消息的标准方式。利用postMessage发送消息非常简单，代码如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;chatFrame.contentWindow.postMessage(‘Hello,world’,’http:&lt;span class=&quot;comment&quot;&gt;//jartto.wang&#39;);&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;接收消息时仅需在页面中增加一个事件处理函数。当某个消息到达时，通过检查消息的来源来决定是否对这条消息进行处理。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;message&#39;&lt;/span&gt;,messageHandler,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;messageHandler&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt;(e.origin) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;friend.example.com&#39;&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 处理消息&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            processMessage(e.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 消息来源无法识别，消息被忽略&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、Web-Workers&quot;&gt;&lt;a href=&quot;#七、Web-Workers&quot; class=&quot;headerlink&quot; title=&quot;七、Web Workers&quot;&gt;&lt;/a&gt;七、Web Workers&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;HTML5 Web Workers可以让Web 应用程序具备后台处理能力，它对多线程的支持非常好，因此，使用了HTML5的Javascript应用程序可以充分利用多核CPU带来的优势。将耗时长的任务分配给HTML5 Web Workers执行，可以避免弹出脚本运行缓慢的警告。&lt;/p&gt;
&lt;p&gt;Web Workers不能直接访问Web 页面和DOM API。&lt;/p&gt;
&lt;p&gt;Web Workers的另一个用途是监听由后台服务器广播的新闻消息，收到后台服务的消息后，将其显示在Web页面上。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;八、requestAnimationFrame&quot;&gt;&lt;a href=&quot;#八、requestAnimationFrame&quot; class=&quot;headerlink&quot; title=&quot;八、requestAnimationFrame&quot;&gt;&lt;/a&gt;八、requestAnimationFrame&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;浏览器可以优化并行的动画动作，更合理的重新排列动作序列，并把能够合并的动作放在一个渲染周期内完成，从而呈现出更流畅的动画效果。比如，通过requestAnimationFrame()，JS动画能够和CSS动画/变换或SVG SMIL动画同步发生。另外，如果在一个浏览器标签页里运行一个动画，当这个标签页不可见时，浏览器会暂停它，这会减少CPU，内存的压力，节省电池电量。&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// shim layer with setTimeout fallback&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.requestAnimFrame = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;  &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.requestAnimationFrame       ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.webkitRequestAnimationFrame ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.mozRequestAnimationFrame    ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt; callback &lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.setTimeout(callback, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// usage:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// instead of setInterval(render, 16) ....&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;animloop&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  requestAnimFrame(animloop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  render();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// place the rAF *before* the render() to assure as close to&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 60fps with the setTimeout fallback.&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000732617&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://segmentfault.com/a/1190000000732617&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.webhek.com/requestanimationframe/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.webhek.com/requestanimationframe/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在地铁里偶然听见有些人在谈论着html5，我听到了这样的声音：“不就是一些简单的网页吗，炒作的太厉害了”。真的只是一些简单的页面吗？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="html5" scheme="http://jartto.wang/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>掌握排序算法</title>
    <link href="http://jartto.wang/2016/07/15/grasp-sorting-algorithm/"/>
    <id>http://jartto.wang/2016/07/15/grasp-sorting-algorithm/</id>
    <published>2016-07-15T10:00:24.000Z</published>
    <updated>2016-07-25T05:46:27.000Z</updated>
    
    <content type="html">&lt;p&gt;偶然间翻出了大学时的课本数据结构，毕业那会，好多书都丢掉了，唯有c语言和数据结构，我放进了行李箱。这是我程序生涯的开始，我想，我将会一直珍藏它们。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;好了，不再自我感动了。作为前端工程师，技能一直被低估，但又有着全栈的要求。看似矛盾的话语，或多或少透露着一丝无奈。既然如此，那么F2E们，奔跑起来吧，也许你需要的只是一本数据结构！&lt;/p&gt;
&lt;p&gt;咳～咳（多么生硬的过渡😏），那么咱们就从排序算法说起吧！&lt;/p&gt;
&lt;h4 id=&quot;一、js中sort排序&quot;&gt;&lt;a href=&quot;#一、js中sort排序&quot; class=&quot;headerlink&quot; title=&quot;一、js中sort排序&quot;&gt;&lt;/a&gt;一、js中sort排序&lt;/h4&gt;&lt;p&gt;首先，我们不得不提一下js中的sort排序：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;systemSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;array&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; array.sort(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a, b&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; a - b;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemSort([&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;应用了数组的sort方法，很简单，这里就不啰嗦了，继续往下走～&lt;/p&gt;
&lt;h4 id=&quot;二、插入排序&quot;&gt;&lt;a href=&quot;#二、插入排序&quot; class=&quot;headerlink&quot; title=&quot;二、插入排序&quot;&gt;&lt;/a&gt;二、插入排序&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;每次将一个待排序的记录，按其关键字大小插入到前面已经排好序的文件中的适当位置，直到全部记录插入完成为止。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1.直接插入排序；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = [&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;49&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;63&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;55&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;insertSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, j; i &amp;lt; arr.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    j = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    v= arr[j];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(arr[j&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &amp;gt; v) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        arr[j] = arr[j&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        j--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(j === &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    arr[j] = v;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;insertSort(a)&lt;span class=&quot;comment&quot;&gt;//[2,2,4,4,4,5,5,43,49,55,63]&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.希尔排序：缩小增量排序；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;shellSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; N = arr.length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; h = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i, j, v;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (h &amp;lt; N / &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        h = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; * h + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// ①&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (h &amp;gt;= &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; i &amp;lt; arr.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            j = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            v = arr[j];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (j &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; arr[j - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] &amp;gt; v) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                arr[j] = arr[j - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                j--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            arr[j] = v;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        h = (h - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) / &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 从①可以保证，肯定能除尽的&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、交换排序&quot;&gt;&lt;a href=&quot;#三、交换排序&quot; class=&quot;headerlink&quot; title=&quot;三、交换排序&quot;&gt;&lt;/a&gt;三、交换排序&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;两两比较待排序记录的关键字，发现两个记录的次序相反时即进行交换，直到没有反序的记录为止。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1.起泡排序；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bubbleSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; n = arr.length,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(--n) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (i &amp;lt; n) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr[i] &amp;gt; arr[i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                temp = arr[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                arr[i] = arr[i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                arr[i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] = temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            i++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.快速排序；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;quickSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pivot = arr[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; leftArr= [],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        rightArr = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr.length === &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr.length === &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(; i &amp;lt; arr.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr[i] &amp;lt; pivot) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            leftArr.push(arr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            rightArr.push(arr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; quickSort(leftArr).concat(pivot, quickSort(rightArr));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;偶然间看到了这一例（&lt;a href=&quot;http://www.stoimen.com/blog/2010/06/11/friday-algorithms-quicksort-difference-between-php-and-javascript/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考地址&lt;/a&gt;），也挺不错：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = [&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;49&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;63&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;55&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;quicksort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (arr.length == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; left = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; right = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pivot = arr[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; i &amp;lt; arr.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (arr[i] &amp;lt; pivot) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           left.push(arr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           right.push(arr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; quicksort(left).concat(pivot, quicksort(right));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(quicksort(a));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、选择排序&quot;&gt;&lt;a href=&quot;#四、选择排序&quot; class=&quot;headerlink&quot; title=&quot;四、选择排序&quot;&gt;&lt;/a&gt;四、选择排序&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;每一趟从待排序的记录中选出关键字最小的记录，顺序放在已排好序的子文件的最后，直到全部记录排序完毕。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1.直接选择排序&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;selectionSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ret = [],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        min,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(arr.length) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        min  = &lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.min.apply(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, arr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ret.push(min);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        arr.splice(arr.indexOf(min), &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ret;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.归并排序&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;mergetSort&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr.length === &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; leftArr = arr.slice(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.floor(arr.length / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rightArr = arr.slice(leftArr.length);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 递归&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; merge(mergetSort(leftArr), mergetSort(rightArr));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 合并有序序列&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;merge&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;arrLeft, arrRight&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; indexLeft = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            indexRight = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            sl = arrLeft.length,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            sr = arrRight.length,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ret = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(indexLeft &amp;lt; sl &amp;amp;&amp;amp; indexRight &amp;lt; sr) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arrLeft[indexLeft] &amp;lt; arrRight[indexRight]) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    ret.push(arrLeft[indexLeft]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    indexLeft++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                     &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    ret.push(arrRight[indexRight]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    indexRight++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(indexLeft &amp;lt; indexRight) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    ret = ret.concat(arrLeft.slice(indexLeft));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    ret = ret.concat(arrRight.slice(indexRight));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ret;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;说了这么多，最后送大伙一个排序动画，体验一下这些排序算法的迷人魅力。&lt;br&gt;&lt;a href=&quot;http://jun-lu.github.io/SortAnimate/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;排序动画演示，猛戳这里！！！&lt;/a&gt;。&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/sort_1301A029-9C7B-4BBC-A25A-B57561AFC6CC.png&quot; alt=&quot;sort&quot;&gt;&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://www.2cto.com/kf/201412/364945.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.2cto.com/kf/201412/364945.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.stoimen.com/blog/2010/06/11/friday-algorithms-quicksort-difference-between-php-and-javascript/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.stoimen.com/blog/2010/06/11/friday-algorithms-quicksort-difference-between-php-and-javascript/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;偶然间翻出了大学时的课本数据结构，毕业那会，好多书都丢掉了，唯有c语言和数据结构，我放进了行李箱。这是我程序生涯的开始，我想，我将会一直珍藏它们。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="排序" scheme="http://jartto.wang/tags/%E6%8E%92%E5%BA%8F/"/>
    
      <category term="算法" scheme="http://jartto.wang/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>js之声明提升</title>
    <link href="http://jartto.wang/2016/07/12/js-hoisting/"/>
    <id>http://jartto.wang/2016/07/12/js-hoisting/</id>
    <published>2016-07-12T09:28:58.000Z</published>
    <updated>2016-07-25T02:25:26.000Z</updated>
    
    <content type="html">&lt;p&gt;在遭遇了一系列笔试面试的狂轰乱炸后，由于基础不夯实，所以在应对一些问题的时候就有些捉襟见肘。好吧，那就行动起来，是时候展现真正的技术了！&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h4&gt;&lt;p&gt;js声明提升包含两部分：变量声明提升和函数声明提升。&lt;/p&gt;
&lt;h4 id=&quot;二、变量声明提升&quot;&gt;&lt;a href=&quot;#二、变量声明提升&quot; class=&quot;headerlink&quot; title=&quot;二、变量声明提升&quot;&gt;&lt;/a&gt;二、变量声明提升&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;js的变量声明具有hoisting机制，js引擎在执行的时候，会把所有变量的声明都提升到当前作用域的最前面。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;光说概念，不举例子就是赤裸裸的耍流氓。所以，让我来举例说明：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例一&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//undefined,2&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这是变量声明提升一个最经典的🌰，在function内部，变量a的声明被提升了，也就等价于下面的写法：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例二&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//undefined,2&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;改变之后的代码是不是看起来清爽多了，这个恐怕大家很容易就回答正确了吧。趁热打铁，我们来看这样一个例子：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例三&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!a) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//2&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;输出结果为2，因为js中没有块级作用域的概念，if中的a变量声明被提升了，我们来做一个简单的调整，如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例四&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!a) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//2&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好，我们来稍微升级一下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例五&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!a) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//1&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当我们把if中的a声明为let时，可以看到结果输出了1。let是es6中的新概念，主要是块内部的作用域，所以if之外就不存在了，所以就没有声明提升这一说。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;var声明的变量作用域为包围它的函数，而let声明的变量作用域仅在它所在的块中。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;我们接着来看例六，其实和例五大同小异，if中的闭包形成了块级作用域，所以换汤不换药，你懂的😳。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//例六&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!a) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;      &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;());               &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo();&lt;span class=&quot;comment&quot;&gt;//1&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后，再送大家一道笔试题哦，看看你能不能做出来～&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//原题：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    a = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.a);&lt;span class=&quot;comment&quot;&gt;//undefined&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(a);&lt;span class=&quot;comment&quot;&gt;//10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//不卖关子了，等效变更后：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a=&lt;span class=&quot;literal&quot;&gt;undefined&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a;    &lt;span class=&quot;comment&quot;&gt;//局部变量a，默认值是undefined&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    a = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;    &lt;span class=&quot;comment&quot;&gt;//因和局部变量名相同，因此全局变量a被覆盖，此处变成了给局部变量a赋值&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//alert(a);  弹出5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//a只是变量，而不是属性 alert(a in window)返回false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.a);  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    a = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/q/1010000002886791&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、函数声明提升&quot;&gt;&lt;a href=&quot;#三、函数声明提升&quot; class=&quot;headerlink&quot; title=&quot;三、函数声明提升&quot;&gt;&lt;/a&gt;三、函数声明提升&lt;/h4&gt;&lt;p&gt;先来区分一下函数表达式和函数声明：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//函数表达式&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; test1 = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//todo&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//函数声明&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test2&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//todo&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;先来说一下js高程中关于函数声明提升给出的权威解释：&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;实际上，解析器在向执行环境中加载数据时，对函数声明和函数表达式并非一视同仁。解析器会率先读取函数声明，并使其在执行任何代码之前可用（可以访问）； &lt;/p&gt;
&lt;/div&gt;&lt;br&gt;我来用最生动的语言描述一下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//函数表达式，则必须等到解析器执行到它所在的代码行，才会真正被执行。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sayHello();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sayHello = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;hello&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;test();&lt;span class=&quot;comment&quot;&gt;//sayHello is not a function&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//函数声明（Function Declaration），函数声明会连通命名和函数体一起被提升至作用域顶部。&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sayHello();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sayHello&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;hello&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;test();&lt;span class=&quot;comment&quot;&gt;//hello&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、扩展&quot;&gt;&lt;a href=&quot;#四、扩展&quot; class=&quot;headerlink&quot; title=&quot;四、扩展&quot;&gt;&lt;/a&gt;四、扩展&lt;/h4&gt;&lt;p&gt;变量声明提升并非Hoisting的全部。在JavaScript中，有四种方式可以让命名进入到作用域中（按优先级）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;语言定义的命名：&lt;ul&gt;
&lt;li&gt;比如this或者arguments，它们在所有作用域内都有效且优先级最高，所以在任何地方你都不能把变量命名为 this 之类的，这样是没有意义的&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;形式参数：&lt;ul&gt;
&lt;li&gt;函数定义时声明的形式参数会作为变量被 hoisting 至该函数的作用域内。所以形式参数是本地的，不是外部的或者全局的。当然你可以在执行函数的时候把外部变量传进来，但是传进来之后就是本地的了&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;函数声明：&lt;ul&gt;
&lt;li&gt;函数体内部还可以声明函数，不过它们也都是本地的了&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;变量声明：&lt;ul&gt;
&lt;li&gt;这个优先级其实还是最低的，不过它们也都是最常用的&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如上面的提升优先级，当我们的变量名和函数名相同的时候，函数名会覆盖变量名，例子如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; 	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; test;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; test); &lt;span class=&quot;comment&quot;&gt;//function&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    test = &lt;span class=&quot;string&quot;&gt;&quot;jartto&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; test); &lt;span class=&quot;comment&quot;&gt;//string&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;运行上面函数，分别打出了function，string。这里可能会有一些疑惑，既然函数会优先于变量，那么这里的第二个console不应该还是function吗？&lt;/p&gt;
&lt;p&gt;我们来看这样一个定义：&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;js从来不会告诉你是否多次声明了同一个变量；遇到这种情况，它只会对后续的声明视而不见（不过，它会执行后续声明中的变量初始化）&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;嗯，意思很明显了，关于第二console，人家是初始化哦，这是会被执行的。&lt;/p&gt;
&lt;p&gt;好了，就这么多了，回头见哦～&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;《Javascript高级程序设计》&lt;br&gt;&lt;a href=&quot;http://openwares.net/js/javascript_declaration_hoisting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://openwares.net/js/javascript_declaration_hoisting.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000348228&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://segmentfault.com/a/1190000000348228&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在遭遇了一系列笔试面试的狂轰乱炸后，由于基础不夯实，所以在应对一些问题的时候就有些捉襟见肘。好吧，那就行动起来，是时候展现真正的技术了！&lt;br&gt;
    
    </summary>
    
      <category term="面试笔试" scheme="http://jartto.wang/categories/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AF%95/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>有趣的border-image</title>
    <link href="http://jartto.wang/2016/07/07/faverite-subject-of-border-image/"/>
    <id>http://jartto.wang/2016/07/07/faverite-subject-of-border-image/</id>
    <published>2016-07-07T15:29:58.000Z</published>
    <updated>2016-07-11T10:43:34.000Z</updated>
    
    <content type="html">&lt;p&gt;最近项目要做一个h5聊天页面，原本，我打算用定位小三角的方式实现聊天气泡的小尾巴，可是同事提出了一个问题：“你这么写，如果气泡要换肤怎么处理？”&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;嗯，这个，我竟无言以对。&lt;/p&gt;
&lt;p&gt;那么问题来了，譬如qq中的聊天气泡，可以任意换肤，究竟是怎么实现的呢？这就非常有意思了，我们为何不去尝试和探索呢。于是乎，本文的keyword闪亮登场了，就是它：border-image&lt;/p&gt;
&lt;h4 id=&quot;一、先睹为快&quot;&gt;&lt;a href=&quot;#一、先睹为快&quot; class=&quot;headerlink&quot; title=&quot;一、先睹为快&quot;&gt;&lt;/a&gt;一、先睹为快&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_border001.png&quot; alt=&quot;border&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、如何实现&quot;&gt;&lt;a href=&quot;#二、如何实现&quot; class=&quot;headerlink&quot; title=&quot;二、如何实现&quot;&gt;&lt;/a&gt;二、如何实现&lt;/h4&gt;&lt;p&gt;我们直接忽略前戏，咳～咳，我就是这么直接。&lt;/p&gt;
&lt;p&gt;方式一：制作小三角定位实现气泡；&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:200px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_8D04C142-E3F1-4D4D-8A02-E5A899AAEA42.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_8D04C142-E3F1-4D4D-8A02-E5A899AAEA42.png&quot; style=&quot;width:200px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;html:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;arrow&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;小三角制作的气泡&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;css:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#arrow&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#ff8851&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#fff&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: relative;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin-left&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;45px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;45px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: inline-block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#arrow&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:before&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: absolute;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;\00a0&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;15px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-style&lt;/span&gt;: solid;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-color&lt;/span&gt;: transparent &lt;span class=&quot;number&quot;&gt;#ff8851&lt;/span&gt; transparent transparent;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;50%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin-top&lt;/span&gt;: -&lt;span class=&quot;number&quot;&gt;15px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;: -&lt;span class=&quot;number&quot;&gt;25px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里在啰嗦一下，关于如何绘制三角箭头：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:100px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_9148A664-713F-4BD3-8CC5-FB95FAAB98A3.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_9148A664-713F-4BD3-8CC5-FB95FAAB98A3.png&quot; style=&quot;width:100px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;html:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;triangle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;css:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#triangle&lt;/span&gt;&amp;#123;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;25px&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-style&lt;/span&gt;:solid;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-color&lt;/span&gt;:red yellow blue green;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;思路很简单，除了要显示色块的箭头，其他border-color均设置为transparent&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;方式二：旋转矩形实现气泡尾巴；&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:250px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_1A0783EC-D3CB-4144-BB39-A2FEAF4E3903.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_1A0783EC-D3CB-4144-BB39-A2FEAF4E3903.png&quot; style=&quot;width:250px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;html:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;rectangle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;旋转矩形制作的气泡&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;css:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#rectangle&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#ff8851&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#fff&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: relative;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin-left&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;45px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;45px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: inline-block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#rectangle&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:before&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: absolute;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;\00a0&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;15px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;15px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;50%&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;: -&lt;span class=&quot;number&quot;&gt;7px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#ff8851&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;rotate&lt;/span&gt;(-45deg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin-top&lt;/span&gt;: -&lt;span class=&quot;number&quot;&gt;10px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2px&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;为了让箭头垂直居中，我们通过：正方形斜边长除以2，也就是(15*√2)/2≈10&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;方式三：border-image实现；&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:200px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_418F043C-03FC-490A-9C7B-E80029195402.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_418F043C-03FC-490A-9C7B-E80029195402.png&quot; style=&quot;width:200px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;html:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stretch&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;使用border-image来实现&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;css:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#stretch&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;15px&lt;/span&gt; solid transparent;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: inline-block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-image&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(pic2.png) &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt; stretch;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-moz-border-image&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(pic2.png) &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt; stretch;	&lt;span class=&quot;comment&quot;&gt;/* Old Firefox */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-border-image&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(pic2.png) &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt; stretch;	&lt;span class=&quot;comment&quot;&gt;/* Safari and Chrome */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-o-border-image&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(pic2.png) &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt; stretch;	&lt;span class=&quot;comment&quot;&gt;/* Opera */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#fff&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、探索&quot;&gt;&lt;a href=&quot;#三、探索&quot; class=&quot;headerlink&quot; title=&quot;三、探索&quot;&gt;&lt;/a&gt;三、探索&lt;/h4&gt;&lt;p&gt;拼凑或旋转定位法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;思路简单，容易实现&lt;/li&gt;
&lt;li&gt;部分安卓手机刷新加载的时候，会先加载出气泡的小尾巴，此时就略显尴尬😅&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;border-image法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;简易切换皮肤，多样化&lt;/li&gt;
&lt;li&gt;相对麻烦，裁切数值需要手动调至最优&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;引深：点9切图；&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;即 .9 ，是andriod平台的应用软件开发里的一种特殊的图片形式，文件扩展名为：.9.png&lt;br&gt;智能手机中有自动横屏的功能,同一幅界面会在随着手机(或平板电脑)中的方向传感器的参数不同而改变显示的方向,在界面改变方向后,界面上的图形会因为长宽的变化而产生拉伸,造成图形的失真变形。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;这里的border-image原理其实和点9图片原理十分相似。&lt;/p&gt;
&lt;h4 id=&quot;四、发现&quot;&gt;&lt;a href=&quot;#四、发现&quot; class=&quot;headerlink&quot; title=&quot;四、发现&quot;&gt;&lt;/a&gt;四、发现&lt;/h4&gt;&lt;p&gt;我们先来看一张图，理解一下：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:100px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;image2.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_8A6EAD2D-A017-483E-9383-1174ED11D0AC.png&quot; style=&quot;width:100px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;如上图所示：我们将图片分成了9个区域，1-3-7-9区域作为边框的四个角，2-4-5-6-8则为填充部分，qq中实现的换肤，奥秘就藏在这里。&lt;/p&gt;
&lt;p&gt;border-image 属性是一个简写属性，用于设置以下属性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;border-image-source：用在边框的图片的路径&lt;ul&gt;
&lt;li&gt;url(temp.png)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;border-image-slice：图片边框向内偏移，类似于margin，分别表示上右下左&lt;ul&gt;
&lt;li&gt;15 15 15 15 &lt;/li&gt;
&lt;li&gt;10 fill(fill为可选属性，假如指定了，那么中间的区域就会有，否则则为透明)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;border-image-width：图片边框的宽度&lt;/li&gt;
&lt;li&gt;border-image-outset：边框图像区域超出边框的量&lt;/li&gt;
&lt;li&gt;border-image-repeat：图像边框是否应平铺(repeated)、铺满(rounded)或拉伸(stretched)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果省略值，会设置其默认值。&lt;/p&gt;
&lt;p&gt;举个🌰：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;border-image-slice&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:27&lt;/span&gt; 27 27 27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_46176269_8.gif&quot; alt=&quot;border&quot;&gt;&lt;br&gt;可以看到，我们按照上－右－下－左的顺序对图片进行了偏移，&lt;a href=&quot;http://www.360doc.com/content/14/1016/13/2792772_417403574.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;动图来自这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;再举个🌰，我们来个图片分析：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_46176269_9.png&quot; alt=&quot;border&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、关于repeat和round&quot;&gt;&lt;a href=&quot;#五、关于repeat和round&quot; class=&quot;headerlink&quot; title=&quot;五、关于repeat和round&quot;&gt;&lt;/a&gt;五、关于repeat和round&lt;/h4&gt;&lt;p&gt;看完上面的参数介绍，你可能会和我一样，产生这样的疑惑：“repeat和round有啥区别？平铺or铺满？”&lt;br&gt;这就对了，我觉得还是有必要了解一下，于是，找到了这样的解释：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;repeat是将四个角做水平和垂直方向的复制，如果角的图案太小，可能会铺出半截图片的情况；round则不同，将四个角等分，每个角图填充铺满空隙；&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;可能不是很直观，我们来用示例结合图片来说明：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:500px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_93A23A7C-CDE0-4E21-8995-852DA896E5E6.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/border_93A23A7C-CDE0-4E21-8995-852DA896E5E6.png&quot; style=&quot;width:500px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、收尾&quot;&gt;&lt;a href=&quot;#六、收尾&quot; class=&quot;headerlink&quot; title=&quot;六、收尾&quot;&gt;&lt;/a&gt;六、收尾&lt;/h4&gt;&lt;p&gt;在使用border-image之前，一直有些顾虑。众所周知，移动端的h5兼容问题层出不穷，我们要照顾好广大android用户。值得欣慰的是，该css3属性对移动端的兼容非常好，经测试，完美通过。&lt;/p&gt;
&lt;p&gt;so，大胆的使用border-image去做一些有创造性而又有趣的事情吧～&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;&lt;a href=&quot;http://www.w3school.com.cn/cssref/pr_border-image.asp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.w3school.com.cn/cssref/pr_border-image.asp&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.360doc.com/content/14/1016/13/2792772_417403574.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.360doc.com/content/14/1016/13/2792772_417403574.shtml&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://baike.baidu.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近项目要做一个h5聊天页面，原本，我打算用定位小三角的方式实现聊天气泡的小尾巴，可是同事提出了一个问题：“你这么写，如果气泡要换肤怎么处理？”&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="css3" scheme="http://jartto.wang/tags/css3/"/>
    
  </entry>
  
  <entry>
    <title>js之强大的正则表达式</title>
    <link href="http://jartto.wang/2016/07/03/js-regular-expression/"/>
    <id>http://jartto.wang/2016/07/03/js-regular-expression/</id>
    <published>2016-07-03T02:48:38.000Z</published>
    <updated>2016-07-03T15:37:51.000Z</updated>
    
    <content type="html">&lt;p&gt;刚学js那会，头一次接触正则就是在表单验证提交数据的时候。当然，正则表达式不仅仅局限于此，那么这几年我又学到了哪些？咱们从头屡屡，算是阶段性总结吧！&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、关于正则表达式&quot;&gt;&lt;a href=&quot;#一、关于正则表达式&quot; class=&quot;headerlink&quot; title=&quot;一、关于正则表达式&quot;&gt;&lt;/a&gt;一、关于正则表达式&lt;/h4&gt;&lt;p&gt;这里引用一下李炎恢老师对正则的定义：&lt;br&gt;正则表达式 (regular expression)是一个描述字符模式的对象。 ECMAScript的RegExp类&lt;br&gt;表示正则表达式，而 String 和 RegExp 都定义了使用正则表达式进行强大的模式匹配和文本 检索与替换的函数。&lt;/p&gt;
&lt;p&gt;正则表达式主要用来验证客户端的输入数据。用户填写完表单单击按钮之后，表单就会 被发送到服务器，在服务器端通常会用PHP、ASP.NET等服务器脚本对其进行进一步处理。 因为客户端验证，可以节约大量的服务器端的系统资源,并且提供更好的用户体验。&lt;/p&gt;
&lt;h4 id=&quot;二、创建方式&quot;&gt;&lt;a href=&quot;#二、创建方式&quot; class=&quot;headerlink&quot; title=&quot;二、创建方式&quot;&gt;&lt;/a&gt;二、创建方式&lt;/h4&gt;&lt;p&gt;方式一：使用new的方式&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; box = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;box&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;//第一个参数字符串&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; box = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;box&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ig&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;//第二个参数可选模式修饰符&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;方式二：使用字面量方式&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; box = &lt;span class=&quot;regexp&quot;&gt;/box/&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//直接用两个反斜杠&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; box = &lt;span class=&quot;regexp&quot;&gt;/box/ig&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//在第二个斜杠后面加上模式修饰符&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;模式修饰符的可选参数:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;i:忽略大小写&lt;/li&gt;
&lt;li&gt;g:全局匹配&lt;/li&gt;
&lt;li&gt;m:多行匹配&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;三、细数正则表达式的一些规则&quot;&gt;&lt;a href=&quot;#三、细数正则表达式的一些规则&quot; class=&quot;headerlink&quot; title=&quot;三、细数正则表达式的一些规则&quot;&gt;&lt;/a&gt;三、细数正则表达式的一些规则&lt;/h4&gt;&lt;p&gt;我们先来看看RegExp对象的方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;test：在字符串中测试模式匹配,返回 true 或 false&lt;/li&gt;
&lt;li&gt;exec：在字符串中执行匹配搜索,返回结果数组&lt;/li&gt;
&lt;li&gt;match(pattern)：返回 pattern 中的子串或 null&lt;/li&gt;
&lt;li&gt;replace(pattern, replacement)：用 replacement 替换 pattern&lt;/li&gt;
&lt;li&gt;search(pattern)：返回字符串中 pattern 开始位置&lt;/li&gt;
&lt;li&gt;split(pattern)：返回字符串按指定 pattern 拆分的数组&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们来看一个简单的示例：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pattern = &lt;span class=&quot;regexp&quot;&gt;/box/i&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;string&quot;&gt;&#39;This is a Box!&#39;&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(pattern.test(str));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当然，我们可以简写一下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;alert(&lt;span class=&quot;regexp&quot;&gt;/box/i&lt;/span&gt;.test(&lt;span class=&quot;string&quot;&gt;&#39;This is a Box!&#39;&lt;/span&gt;));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;至于其他的方法，如exec，match，replace用法都大同小异，你需要做的就是：记住他们的规则以及返回值。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;正则强大之处在于它的匹配，我们来看看匹配规则：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;.:匹配除换行符外的任意字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[a-z0-9]:匹配括号中的字符集中的任意字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[^a-z0-9]:匹配任意不在括号中的字符集中的字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\d:匹配数字&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\D:匹配非数字,同 [^0-9]相同&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\w:匹配字母和数字及 _&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\W:匹配非字母和数字及 _&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\0:匹配 null 字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\b:匹配空格字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\f:匹配进纸字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\n:匹配换行符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\r:匹配回车字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\t:匹配制表符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\s:匹配空白字符、空格、制表符和换行符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\S:匹配非空白字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;^:行首匹配&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$:行尾匹配&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\A:只有匹配字符串开始处&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\b:匹配单词边界,词在 []内时无效&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\B:匹配非单词边界&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\G:匹配当前搜索的开始位置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\Z:匹配字符串结束处或行尾&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\z:只匹配字符串结束处&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x?:匹配 0 个或 1 个 x&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x*:匹配 0 个或任意多个 x&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x+:匹配至少一个 x&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(xyz)+:匹配至少一个 (xyz)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x&amp;#123;m,n&amp;#125;:匹配最少 m 个、最多 n 个 x&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;this|where|logo:匹配 this 或 where 或 logo 中任意一个&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(string):用于反向引用的分组&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\1 或$1:匹配第一个分组中的内容&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\2 或$2:匹配第二个分组中的内容&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;\3 或$3:匹配第三个分组中的内容&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;熟记这些规则，我们就可以随心所欲的完成任意匹配了，举个🌰：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*使用字符类匹配 */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pattern = &lt;span class=&quot;regexp&quot;&gt;/g[a-zA-Z_]*gle/&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;string&quot;&gt;&#39;google&#39;&lt;/span&gt;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(pattern.test(str));&lt;span class=&quot;comment&quot;&gt;//true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;是不是很简单呢，赶快去做一些有创造性的事情吧！&lt;/p&gt;
&lt;h4 id=&quot;四、常用正则积累&quot;&gt;&lt;a href=&quot;#四、常用正则积累&quot; class=&quot;headerlink&quot; title=&quot;四、常用正则积累&quot;&gt;&lt;/a&gt;四、常用正则积累&lt;/h4&gt;&lt;p&gt;验证手机号：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myreg = &lt;span class=&quot;regexp&quot;&gt;/^(((13[0-9]&amp;#123;1&amp;#125;)|(15[0-9]&amp;#123;1&amp;#125;)|(18[0-9]&amp;#123;1&amp;#125;))+\d&amp;#123;8&amp;#125;)$/&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!myreg.test($(&lt;span class=&quot;string&quot;&gt;&quot;#phone&quot;&lt;/span&gt;).val()))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(&lt;span class=&quot;string&quot;&gt;&#39;请输入有效的手机号码！&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;用正则怎样去除重复的字符串，只保留未重复的。&lt;br&gt;如：var str= “aaabbbcccddde”;&lt;br&gt;结果为 abcde。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;removeRepeat&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;str&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reg = &lt;span class=&quot;regexp&quot;&gt;/(.)(?=.*\1)/g&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result = str.replace(reg, &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;removeRepeat(&lt;span class=&quot;string&quot;&gt;&quot;aaabbbcccddde&quot;&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//输出abcde&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;removeRepeat(&lt;span class=&quot;string&quot;&gt;&quot;aaabbbcccdded&quot;&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//输出abced&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;匹配小数点后面两位：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; s=&lt;span class=&quot;string&quot;&gt;&quot;1，2，234，234.264234，1234.1234&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//不要四舍五入的：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(s.replace(&lt;span class=&quot;regexp&quot;&gt;/(\.\d)\d+/ig&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;$1&quot;&lt;/span&gt;) )&lt;span class=&quot;comment&quot;&gt;//1，2，234，234.2，1234.1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//要四舍五入的：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(s.replace(&lt;span class=&quot;regexp&quot;&gt;/\d+\.\d+/ig&lt;/span&gt;,a))&lt;span class=&quot;comment&quot;&gt;//1，2，234，234.3，1234.1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//此处乱入一个修复小数点后一位的方法：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;a&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;v&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ((v*&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;).toFixed(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;a(&lt;span class=&quot;number&quot;&gt;12455.4545&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;//&quot;12455.5&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;是否为url：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isURL&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;str&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;!!str.match(&lt;span class=&quot;regexp&quot;&gt;/(((^https?:(?:\/\/)?)(?:[-;:&amp;amp;=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&amp;amp;=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&amp;amp;;%@.\w_]*)#?(?:[\w]*))?)$/g&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;匹配img中的src：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//思路分两步：作者（yanue）.&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//1，匹配出图片img标签（即匹配出所有图片），过滤其他不需要的字符&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//2.从匹配出来的结果（img标签中）循环匹配出图片地址（即src属性）&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;string&quot;&gt;&quot;this is test string &amp;lt;img src=\&quot;http:www.yanue.net/test.jpg\&quot; width=&#39;50&#39; &amp;gt; 123 and the end &amp;lt;img src=\&quot;所有地址也能匹配.jpg\&quot; /&amp;gt; 33! &amp;lt;img src=\&quot;/uploads/attached/image/20120426/20120426225658_92565.png\&quot; alt=\&quot;\&quot; /&amp;gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//匹配图片（g表示匹配所有结果i表示区分大小写）&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; imgReg = &lt;span class=&quot;regexp&quot;&gt;/&amp;lt;img.*?(?:&amp;gt;|\/&amp;gt;)/gi&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//匹配src属性&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; srcReg = &lt;span class=&quot;regexp&quot;&gt;/src=[\&#39;\&quot;]?([^\&#39;\&quot;]*)[\&#39;\&quot;]?/i&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr = str.match(imgReg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(&lt;span class=&quot;string&quot;&gt;&#39;所有已成功匹配图片的数组：&#39;&lt;/span&gt;+arr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; arr.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; src = arr[i].match(srcReg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//获取图片地址&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(src[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;])&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       alert(&lt;span class=&quot;string&quot;&gt;&#39;已匹配的图片地址&#39;&lt;/span&gt;+(i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)+&lt;span class=&quot;string&quot;&gt;&#39;：&#39;&lt;/span&gt;+src[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//当然你也可以替换src属性&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (src[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; t = src[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].replace(&lt;span class=&quot;regexp&quot;&gt;/src/i&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;href&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//alert(t);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js获取字符串长度（中文算2个字,英文一个）：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getStrLength&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;str&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; cArr = str.match(&lt;span class=&quot;regexp&quot;&gt;/[^\x00-\xff]/ig&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; str.length + (cArr == &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : cArr.length);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用正则将金额用逗号隔开：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;fmoney&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;s, n&lt;/span&gt;) &lt;/span&gt;&amp;#123;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    n = n &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; n &amp;lt;= &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt; ? n : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    s = &lt;span class=&quot;built_in&quot;&gt;parseFloat&lt;/span&gt;((s + &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;).replace(&lt;span class=&quot;regexp&quot;&gt;/[^\d\.-]/g&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;)).toFixed(n) + &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; l = s.split(&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;).reverse(), r = s.split(&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;];  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    t = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; l.length; i++) &amp;#123;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        t += l[i] + ((i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) % &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; (i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) != l.length ? &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;);  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; t.split(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;).reverse().join(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt; + r;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fmoney(&lt;span class=&quot;number&quot;&gt;123456.9832&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;//123,456.983&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;还有h5中的用法：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;required&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;required&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;autofocus&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;autofocus&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;pattern&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;[a-zA-Z]&amp;#123;6,18&amp;#125;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;placeholder&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;请输入姓名&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;placeholder&lt;/span&gt; =&lt;span class=&quot;string&quot;&gt;&quot;123456@qq.com&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;//HTLM5邮箱验证&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;洋洋洒洒码了半天，临近尾声突然想起了一句话：“在最初的几年，你知道的不足以让你明白，你了解的是多么少！”所以，奋斗吧，少年！&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;正则表达式均来自网上，以下是涉及到的正则表达式引用链接。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;a href=&quot;http://www.daimajiayuan.com/sitejs-18604-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.daimajiayuan.com/sitejs-18604-1.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_65c2ec5e0101j133.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.sina.com.cn/s/blog_65c2ec5e0101j133.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.soulteary.com/2014/12/05/better-url-regexp-in-js.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.soulteary.com/2014/12/05/better-url-regexp-in-js.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://yanue.net/post-11.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://yanue.net/post-11.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/evangel_z/article/details/12839657&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/evangel_z/article/details/12839657&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;刚学js那会，头一次接触正则就是在表单验证提交数据的时候。当然，正则表达式不仅仅局限于此，那么这几年我又学到了哪些？咱们从头屡屡，算是阶段性总结吧！&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="正则" scheme="http://jartto.wang/tags/%E6%AD%A3%E5%88%99/"/>
    
  </entry>
  
  <entry>
    <title>jquery之cookie详解</title>
    <link href="http://jartto.wang/2016/07/02/explanation-of-the-jquery-cookie/"/>
    <id>http://jartto.wang/2016/07/02/explanation-of-the-jquery-cookie/</id>
    <published>2016-07-02T10:07:37.000Z</published>
    <updated>2016-07-02T10:43:03.000Z</updated>
    
    <content type="html">&lt;p&gt;前两天搞定了一个拖拽存储的h5控件，写了一个总结，其中用到了cookie存储。结果有同事问我关于cookie的问题，我竟然说不出所以然来。纯粹是指哪打哪，用哪写哪，根本就没有完全搞明白。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;想起了一句歌词：“他说他会打野，真的只会打野”，熟悉LOL的同学应该不会陌生😄&lt;/p&gt;
&lt;p&gt;想想也是，这样的学习根本无效率可言。所以花些时间把cookie搞明白，也把jquery cookie 函数参数列表列举出来，同时补充些新学到的东西吧，算是共同学习吧。&lt;/p&gt;
&lt;h4 id=&quot;一、cookie是什么？&quot;&gt;&lt;a href=&quot;#一、cookie是什么？&quot; class=&quot;headerlink&quot; title=&quot;一、cookie是什么？&quot;&gt;&lt;/a&gt;一、cookie是什么？&lt;/h4&gt;&lt;p&gt;①关于cookie；&lt;br&gt;cookie，有时也用其复数形式cookies，指某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）。&lt;br&gt;cookie是由服务器端生成，发送给User-Agent（一般是浏览器），浏览器会将Cookie的key/value保存到某个目录下的文本文件内，下次请求同一网站时就发送该cookie给服务器（前提是浏览器设置为启用cookie）。&lt;/p&gt;
&lt;p&gt;②cookie能做什么；&lt;br&gt;服务器可以利用cookies包含信息的任意性来筛选并经常性维护这些信息，以判断在HTTP传输中的状态。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;cookies最典型的应用是判定注册用户是否已经登录网站，用户可能会得到提示，是否在下一次进入此网站时保留用户信息以便简化登录手续，这些都是cookies的功用。另一个重要应用场合是“购物车”之类处理。用户可能会在一段时间内在同一家网站的不同页面中选择不同的商品，这些信息都会写入cookies，以便在最后付款时提取信息。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;③cookie很完美吗？有利也有弊，cookie也有一些众所周知的缺点。&lt;br&gt;其一，cookie只能存储少量数据，，一般来说，设置大约4KB的数据，这意味着它不能接受文件或邮件那样的大数据；&lt;/p&gt;
&lt;p&gt;其二，只要有请求涉及cookie，cookie就要在服务器和浏览器之间来回传送。也就是说，cookie数据在网络上是可见的，这些数据在不加密的情况下会有安全隐患。同时，无论加载哪个相关的URL，cookie中的数据都会消耗网络带宽。&lt;/p&gt;
&lt;h4 id=&quot;二、jquery-cookie插件如何使用？&quot;&gt;&lt;a href=&quot;#二、jquery-cookie插件如何使用？&quot; class=&quot;headerlink&quot; title=&quot;二、jquery cookie插件如何使用？&quot;&gt;&lt;/a&gt;二、jquery cookie插件如何使用？&lt;/h4&gt;&lt;p&gt;应用jquery cookie插件需要引入jquery.cookie.js,当然jquery.js也必不可少。简单的用法类似这样，存值：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;flag&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;,&amp;#123;path:&lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;,expires:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;取值：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;flag&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://plugins.jquery.com/cookie/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、cookie函数参数列表&quot;&gt;&lt;a href=&quot;#三、cookie函数参数列表&quot; class=&quot;headerlink&quot; title=&quot;三、cookie函数参数列表&quot;&gt;&lt;/a&gt;三、cookie函数参数列表&lt;/h4&gt;&lt;p&gt;下面是对cookie的一些操作：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;key&#39;&lt;/span&gt;);                   &lt;span class=&quot;comment&quot;&gt;// 获取cookie key的值&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;key&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;);     &lt;span class=&quot;comment&quot;&gt;// 设置cookie，属性key=value&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;key&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;, &amp;#123; expires: num &amp;#125;);  &lt;span class=&quot;comment&quot;&gt;// 设置过期时间为num，单位为天，负数的话，效果等同删除该cookie&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;key&#39;&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;);         &lt;span class=&quot;comment&quot;&gt;// 删除 cookie&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;key&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;, &amp;#123;expires: num, path: &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;, domain: domain, secure: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&amp;#125;); &lt;span class=&quot;comment&quot;&gt;//新建一个cookie 包括有效期、存储路径、域名、安全等&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、cookie与Html5-Web-Storage-API&quot;&gt;&lt;a href=&quot;#四、cookie与Html5-Web-Storage-API&quot; class=&quot;headerlink&quot; title=&quot;四、cookie与Html5 Web Storage API&quot;&gt;&lt;/a&gt;四、cookie与Html5 Web Storage API&lt;/h4&gt;&lt;p&gt;①区别&lt;br&gt;正因为cookie是如此的实用、方便，类似cookie的HTML5 Web Storage应运而生，比起单纯的cookie来说，HTML5 Web Storage拥有更多的优点。&lt;br&gt;许多情况下，即使不使用网络或远程服务器也能达到同样的目的，开发者可以将数据存储在JavaScript对象中，对象在页面加载时保存，并且容易获取。通过sessionStorage或localStorage，在打开新窗口或新标签以及重新启动浏览器时，开发人员可以选择是否激活这些数据。此外，使用Web Storage API可以保存高达数兆字节的大数据。&lt;br&gt;在HTML5的各项特性中，Web Storage的浏览器支持度是非常好的，而且HTML5 Web Storage已经逐渐成为Web应用中最安全的API之一了。&lt;/p&gt;
&lt;p&gt;②检测是否支持Web Storage&lt;br&gt;通过window.sessionStorage和window.localStorage可以检测浏览器是否支持Web Storage。&lt;/p&gt;
&lt;p&gt;③Web Storage API设置与取值&lt;br&gt;设置数据：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.sessionStorage.setItem(&lt;span class=&quot;string&quot;&gt;&#39;Key&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;Value&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;获取数据：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.sessionStorage.getItem(&lt;span class=&quot;string&quot;&gt;&#39;Key&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当然Web Storage API还有很多函数和其他特性，这里就不一一列举了。&lt;/p&gt;
&lt;h4 id=&quot;五、一个demo&quot;&gt;&lt;a href=&quot;#五、一个demo&quot; class=&quot;headerlink&quot; title=&quot;五、一个demo&quot;&gt;&lt;/a&gt;五、一个demo&lt;/h4&gt;&lt;p&gt;写了一个简单的应用，主要是检测IE7浏览器，如果是的话，弹出一个提示框。提示框有关闭按钮，当用户点击该按钮后，一段时间内将不再提示，具体代码如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; flag = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.appVersion.match(&lt;span class=&quot;regexp&quot;&gt;/7./i&lt;/span&gt;) == &lt;span class=&quot;string&quot;&gt;&#39;7.&#39;&lt;/span&gt;)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		sildOut();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sildOut&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; temp = $.cookie(&lt;span class=&quot;string&quot;&gt;&#39;flag&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!temp)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		$(&lt;span class=&quot;string&quot;&gt;&#39;.outside&#39;&lt;/span&gt;).show(&lt;span class=&quot;number&quot;&gt;1500&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;closeDiv&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$(&lt;span class=&quot;string&quot;&gt;&#39;.outside&#39;&lt;/span&gt;).hide(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$.cookie(&lt;span class=&quot;string&quot;&gt;&#39;flag&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;,&amp;#123;path:&lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;,expires:&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;①&lt;a href=&quot;http://baike.baidu.com/link?url=zxrX-UXaMVK5BL3sCdmsTQVN7Ys0rTKWOOkgdy-ur1k2zPybEmMBOKnp-W_5qbnw3ulrDmesXtn3QgAZtnbE3i1OeZ7W1W8Ml_psgK-1C2e&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/link?url=zxrX-UXaMVK5BL3sCdmsTQVN7Ys0rTKWOOkgdy-ur1k2zPybEmMBOKnp-W_5qbnw3ulrDmesXtn3QgAZtnbE3i1OeZ7W1W8Ml_psgK-1C2e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;②&lt;a href=&quot;http://www.nowamagic.net/jquery/jquery_Jquerycookie.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.nowamagic.net/jquery/jquery_Jquerycookie.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;③HTML5 高级程序设计&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;前两天搞定了一个拖拽存储的h5控件，写了一个总结，其中用到了cookie存储。结果有同事问我关于cookie的问题，我竟然说不出所以然来。纯粹是指哪打哪，用哪写哪，根本就没有完全搞明白。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="jquery" scheme="http://jartto.wang/tags/jquery/"/>
    
      <category term="cookie" scheme="http://jartto.wang/tags/cookie/"/>
    
  </entry>
  
  <entry>
    <title>如何让搜索引擎抓取ajax内容？</title>
    <link href="http://jartto.wang/2016/06/30/how-to-use-search-engines-to-grasp-ajax/"/>
    <id>http://jartto.wang/2016/06/30/how-to-use-search-engines-to-grasp-ajax/</id>
    <published>2016-06-30T07:32:38.000Z</published>
    <updated>2016-07-02T10:47:54.000Z</updated>
    
    <content type="html">&lt;p&gt;说到ajax的缺点，很多人都会想到它不利于seo的一面。在大搜索时代，搜索引擎都搜不到我们的页面，你肯定会有一种淡淡忧伤。你以为你尽力了吗，显然没有，那么我们该如何做？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、我们先来回顾ajax的一些缺点，&quot;&gt;&lt;a href=&quot;#一、我们先来回顾ajax的一些缺点，&quot; class=&quot;headerlink&quot; title=&quot;一、我们先来回顾ajax的一些缺点，&quot;&gt;&lt;/a&gt;一、我们先来回顾ajax的一些缺点，&lt;/h4&gt;&lt;p&gt;①破坏了浏览器的后退按钮，使之无法运行；&lt;br&gt;②对搜索引擎不友好；&lt;br&gt;③不支持跨域请求；&lt;br&gt;④ajax的脚本语言是嵌入在HTML页面中的，通过查看源代码或者firebug等工具可直接查看，不利于项目代码的保密。&lt;/p&gt;
&lt;p&gt;其中第二条就提到了，对搜索引擎不友好。什么意思呢？这样来说吧，越来越多的网站开始采用“单页面结构”，整个网站只有一张网页，采用ajax技术，根据用户的输入，加载不同的内容。 &lt;/p&gt;
&lt;p&gt;这种做法的好处是用户体验好、节省流量，缺点是ajax内容无法被搜索引擎抓取。因为搜索引擎会去爬取整个页面的内容，以便统计数据达到搜索的目的，而ajax请求的文件在用户操作之前是放在服务器上面的，搜索引擎再强大，也无法搜索到这些信息或者是资源。&lt;/p&gt;
&lt;p&gt;因此，缺点显而易见。以前想到过这方面的问题，但是却没有好的解决方案，直到看到这篇文章，不禁拍案叫绝，特分享出来，供大家参考：&lt;br&gt;&lt;a href=&quot;http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;how_to_make_search_engines_find_ajax_content&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、如何解决&quot;&gt;&lt;a href=&quot;#二、如何解决&quot; class=&quot;headerlink&quot; title=&quot;二、如何解决&quot;&gt;&lt;/a&gt;二、如何解决&lt;/h4&gt;&lt;p&gt;1.用History API替代井号结构，让每个井号都变成正常路径的URL，这样搜索引擎就会抓取每一个网页。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;example.com/1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;example.com/2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;example.com/3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.定义一个JavaScript函数，处理Ajax部分，根据网址抓取内容（假定使用jQuery）。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;anchorClick&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;link&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; linkSplit = link.split(&lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;).pop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　$.get(&lt;span class=&quot;string&quot;&gt;&#39;api/&#39;&lt;/span&gt; + linkSplit, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　$(&lt;span class=&quot;string&quot;&gt;&#39;#content&#39;&lt;/span&gt;).html(data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;再定义鼠标的click事件。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;string&quot;&gt;&#39;#container&#39;&lt;/span&gt;).on(&lt;span class=&quot;string&quot;&gt;&#39;click&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.history.pushState(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, $(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).attr(&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　anchorClick($(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).attr(&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　e.preventDefault();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;还要考虑到用户点击浏览器的”前进 / 后退”按钮。这时会触发History对象的popstate事件。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;popstate&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　anchorClick(location.pathname);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;定义完上面三段代码，就能在不刷新页面的情况下，显示正常路径URL和AJAX内容。&lt;br&gt;3.设置服务器端。&lt;br&gt; 因为不使用井号结构，每个URL都是一个不同的请求。所以，要求服务器端对所有这些请求，都返回如下结构的网页，防止出现404错误。&lt;br&gt; &lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;container&#39;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　　　&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;noscript&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　　　　　... ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　　　&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;noscript&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　　　　&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;总结，其实意思很明了，就是变着法的用js把url拼写出来，写入地址栏，这样搜索引擎当然就可以抓取页面内容了。&lt;/p&gt;
&lt;/div&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;说到ajax的缺点，很多人都会想到它不利于seo的一面。在大搜索时代，搜索引擎都搜不到我们的页面，你肯定会有一种淡淡忧伤。你以为你尽力了吗，显然没有，那么我们该如何做？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="ajax" scheme="http://jartto.wang/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>我所理解的call和apply</title>
    <link href="http://jartto.wang/2016/06/28/appreciation-of-the-call-and-apply/"/>
    <id>http://jartto.wang/2016/06/28/appreciation-of-the-call-and-apply/</id>
    <published>2016-06-28T05:41:09.000Z</published>
    <updated>2016-06-28T06:43:47.000Z</updated>
    
    <content type="html">&lt;p&gt;对于prototype 属性，它是保存所有实例方法的真正所在，也就是原型。而prototype 下有两个方法：apply()和call()，每个函数都包含这两个非继承而来的方法。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、先来看看示例&quot;&gt;&lt;a href=&quot;#一、先来看看示例&quot; class=&quot;headerlink&quot; title=&quot;一、先来看看示例&quot;&gt;&lt;/a&gt;一、先来看看示例&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这两个方法的用途都在特定的作用域中调用函数，实际上等于设置函数体内this对象的值。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;例一：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;box&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;num1,num2&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num1+num2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;num1,num2&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//apply()和call()可以冒充另外一个函数，this表示window作用域，[ ]表示传递的参数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; box.apply(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,[num1,num2]);                                       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(sum(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;num1,num2&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//arguments可以当数组传递&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; box.apply(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt;);               &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(sum(&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;例二：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//prototype下面的方法call()&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; color =&lt;span class=&quot;string&quot;&gt;&quot;红色的&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; box = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     color:&lt;span class=&quot;string&quot;&gt;&quot;蓝色的&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sayColor&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alert(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.color);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sayColor();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//用call是实现对象冒充，冒充box，冒充window下&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sayColor.call(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//红色，冒充window&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sayColor.call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//红色，this就是window&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sayColor.call(box);&lt;span class=&quot;comment&quot;&gt;//冒充box，作用域就在box对象里面，所以color就是蓝色的&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这个例子是之前作用域理解的例子修改而成，我们可以发现当我们使用call(box)方法的&lt;br&gt;时候，sayColor()方法的运行环境已经变成了box对象里了。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;call()方法于apply()方法相同，他们的区别仅仅在于接收参数的方式不同。对于call()方法而言，第一个参数是作用域，没有变化，变化只是其余的参数都是直接传递给函数的。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;box&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;num1, num2&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num1 + num2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;callBox&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;num1, num2&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; box.call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, num1, num2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(callBox(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;事实上，传递参数并不是apply()和call()方法真正的用武之地；它们经常使用的地方是能够扩展函数赖以运行的作用域。&lt;br&gt;使用call()或者apply()来扩充作用域的最大好处，就是对象不需要与方法发生任何耦合&lt;br&gt;关系(耦合，就是互相关联的意思，扩展和维护会发生连锁反应)。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;二、关于call&quot;&gt;&lt;a href=&quot;#二、关于call&quot; class=&quot;headerlink&quot; title=&quot;二、关于call&quot;&gt;&lt;/a&gt;二、关于call&lt;/h4&gt;&lt;p&gt;call方法调用一个对象的一个方法，以另一个对象替换当前对象。&lt;br&gt;call([thisObj[,arg1[, arg2[, [,.argN]]]]])&lt;br&gt;参数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;thisObj&lt;br&gt;可选项。将被用作当前对象的对象。&lt;/li&gt;
&lt;li&gt;arg1, arg2, , argN&lt;br&gt;可选项。将被传递方法参数序列。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;call 方法可以用来代替另一个对象调用一个方法。call方法可将一个函数的对象上下文从初始的上下文改变为由 thisObj 指定的新对象。&lt;br&gt;如果没有提供 thisObj 参数，那么 Global 对象被用作 thisObj。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;示例三：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a,b&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(a+b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sub&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a,b&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(a-b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;add.call(sub,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这个例子中的意思就是用 add 来替换 sub，add.call(sub,3,1) == add(3,1) ，所以运行结果为：alert(4);&lt;/p&gt;
&lt;p&gt;示例四：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class1&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name = &lt;span class=&quot;string&quot;&gt;&quot;class1&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.showNam = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class2&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name = &lt;span class=&quot;string&quot;&gt;&quot;class2&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c1 = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Class1();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c2 = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Class2();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;c1.showNam.call(c2);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意，call 的意思是把 c1 的方法放到c2上执行，原来c2是没有showNam() 方法，现在是把c1 的showNam()方法放到 c2 上来执行，所以this.name 应该是 class2，执行的结果就是：alert（”class2”）;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;示例五：实现继承&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class1&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.showTxt = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;txt&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(txt);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class2&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Class1.call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c2 = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Class2();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;c2.showTxt(&lt;span class=&quot;string&quot;&gt;&quot;cc&quot;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样 Class2 就继承Class1了，Class1.call(this)的意思就是使用Class1对象代替this对象，那么 Class2中不就有Class1的所有属性和方法了吗，c2对象就能够直接调用Class1的方法以及属性了，执行结果就是：alert（“cc”）;&lt;/p&gt;
&lt;p&gt;示例六：实现多重继承&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class10&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.showSub = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a,b&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(a-b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class11&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.showAdd = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a,b&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(a+b);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Class2&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Class10.call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Class11.call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;很简单，使用两个call就实现多重继承了。当然，js的继承还有其他方法，例如使用原型链，这个不属于本文的范畴，只是在此说明call的用法。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;区别在于 call 的第二个参数可以是任意类型，而apply的第二个参数必须是数组&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、apply&quot;&gt;&lt;a href=&quot;#三、apply&quot; class=&quot;headerlink&quot; title=&quot;三、apply&quot;&gt;&lt;/a&gt;三、apply&lt;/h4&gt;&lt;p&gt;对于apply和call两者在作用上是相同的，但两者在参数上有区别的。&lt;br&gt;对于第一个参数意义都一样，但对第二个参数：&lt;br&gt;apply传入的是一个参数数组，也就是将多个参数组合成为一个数组传入，而call则作为call的参数传入（从第二个参数开始）。&lt;br&gt;如:&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;func.call(func1,var1,var2,var3)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;对应的apply写法为：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;func.apply(func1,[var1,var2,var3])&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;示例七：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;alert(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.max(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;)) &lt;span class=&quot;comment&quot;&gt;//8&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.max(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)) &lt;span class=&quot;comment&quot;&gt;//9&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr=[&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;alert(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.max.apply(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;,arr));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;1.Javascript 中的 call 和 apply使用介绍&lt;br&gt;&lt;a href=&quot;http://www.jb51.net/article/29734.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jb51.net/article/29734.htm&lt;/a&gt;&lt;br&gt;2.JavaScript学习点滴 call、apply的区别&lt;br&gt;&lt;a href=&quot;http://www.jb51.net/article/25080.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jb51.net/article/25080.htm&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;对于prototype 属性，它是保存所有实例方法的真正所在，也就是原型。而prototype 下有两个方法：apply()和call()，每个函数都包含这两个非继承而来的方法。&lt;br&gt;
    
    </summary>
    
      <category term="面试笔试" scheme="http://jartto.wang/categories/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AF%95/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>CORS解决方案</title>
    <link href="http://jartto.wang/2016/06/27/solutions-to-CORS/"/>
    <id>http://jartto.wang/2016/06/27/solutions-to-CORS/</id>
    <published>2016-06-27T07:03:14.000Z</published>
    <updated>2016-06-27T07:36:22.000Z</updated>
    
    <content type="html">&lt;p&gt;同源策略（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说Web是构建在同源策略基础之的，浏览器只是针对同源策略的一种实现。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;主机名+协议+端口三者相同，被认为是同源。&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、问题重现&quot;&gt;&lt;a href=&quot;#一、问题重现&quot; class=&quot;headerlink&quot; title=&quot;一、问题重现&quot;&gt;&lt;/a&gt;一、问题重现&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/cors_FD8DA08A-E4CC-45CB-9E76-9D4EF37AEEB9.png&quot; alt=&quot;cors&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/cors_1FBAD133-35C5-4AC4-8329-B3B433A062BA.png&quot; alt=&quot;cors&quot;&gt;&lt;/p&gt;
&lt;p&gt;一般出现以上错误，基本可以认定，网站出现了同源策略问题，也就是出现了未经允许的跨域请求。那么如何解决此类问题呢，下面我来一一阐述。&lt;/p&gt;
&lt;h4 id=&quot;二、解决方案&quot;&gt;&lt;a href=&quot;#二、解决方案&quot; class=&quot;headerlink&quot; title=&quot;二、解决方案&quot;&gt;&lt;/a&gt;二、解决方案&lt;/h4&gt;&lt;p&gt;①客户端和服务器设置&lt;br&gt;这里以iis服务器为例，&lt;a href=&quot;http://enable-cors.org/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;更多请移步&lt;/a&gt;&lt;br&gt;虽然都是iis服务器，但是版本的不同，设置也不尽相同。&lt;br&gt;对于iis6：&lt;br&gt;打开iis管理器，选择需要设置CORS的站点，右键属性；&lt;br&gt;选择HTTP Headers 页签；&lt;br&gt;点击添加按钮，输入命令，点击确定；&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Access-Control-Allow-Origin：*&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;对于iis7：&lt;br&gt;新建文件命名：web.config&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;system.webServer&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;httpProtocol&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;customHeaders&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Access-Control-Allow-Origin&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;*&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;customHeaders&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;httpProtocol&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;system.webServer&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;②JSONP&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;JSONP(JSON with Padding)是JSON的一种“使用模式”，可用于解决主流浏览器的跨域数据访问的问题。通俗的讲，JSONP就是动态的去加载js文件，为其src属性指定一个跨域URL。&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script type=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showPrice&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        alert(&lt;span class=&quot;string&quot;&gt;&quot;Symbol:&quot;&lt;/span&gt; + data.symbol + &lt;span class=&quot;string&quot;&gt;&quot;, Price:&quot;&lt;/span&gt; + data.price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url = &lt;span class=&quot;string&quot;&gt;&quot;ticker.js&quot;&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//Outer JS URL&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; script = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;script&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    script.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;src&#39;&lt;/span&gt;, url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//load javascript&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByTagName(&lt;span class=&quot;string&quot;&gt;&#39;head&#39;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].appendChild(script);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ticker.js中&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;symbol:&lt;span class=&quot;string&quot;&gt;&#39;IBM&#39;&lt;/span&gt;, price:&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;showPrice(data);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;缺点：JSONP是get形式的，承载的信息量有限。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;三、本地测试如何进行&quot;&gt;&lt;a href=&quot;#三、本地测试如何进行&quot; class=&quot;headerlink&quot; title=&quot;三、本地测试如何进行&quot;&gt;&lt;/a&gt;三、本地测试如何进行&lt;/h4&gt;&lt;p&gt;当然，如果我们仅仅是为了进行本地测试，那么大可不必如此麻烦，看看如下的设置吧。&lt;br&gt;首先，我们先来看windows系统下的设置：桌面创建Chrome，右键属性，在目标栏空格后输入&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;--disable-web-security&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/cors_CFE74C5D-058B-468C-9D0A-8AD9931214B9.png&quot; alt=&quot;cors&quot;&gt;&lt;br&gt;打开Chrome浏览器，出现以下警告，则配置成功。下面就可以进行轻松愉快的本地开发测试啦！&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/cors_Image.png&quot; alt=&quot;cors&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意：此处打开的浏览器一定是你配置好属性的快捷方式，否则可能无效哦！&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Mac下就简单多了，我们需要输入以下命令：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#老版本：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;open &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Google Chrome&quot;&lt;/span&gt; --args --disable-web-security&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#新版本：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;open &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Google Chrome&quot;&lt;/span&gt; --args --disable-web-security --user-data-dir&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;很多人发现Mac版本的CORS不起作用了，可能的原因就是你的chrome浏览器升级了，需要新的命令来禁用CORS。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;四、补充&quot;&gt;&lt;a href=&quot;#四、补充&quot; class=&quot;headerlink&quot; title=&quot;四、补充&quot;&gt;&lt;/a&gt;四、补充&lt;/h4&gt;&lt;p&gt;CORS与JSONP相比，更为先进、方便和可靠。&lt;br&gt;① JSONP只能实现GET请求，而CORS支持所有类型的HTTP请求。&lt;br&gt;②使用CORS，开发者可以使用普通的XMLHttpRequest发起请求和获得数据，比起JSONP有更好的错误处理。&lt;br&gt;③JSONP主要被老的浏览器支持，它们往往不支持CORS，而绝大多数现代浏览器都已经支持了CORS。&lt;/p&gt;
&lt;p&gt;对一个简单的请求，没有自定义头部，要么使用GET，要么使用POST，它的主体是text/plain,请求用一个名叫Orgin的额外的头部发送。Origin头部包含请求页面的头部（协议，域名，端口），这样服务器可以很容易的决定它是否应该提供响应。&lt;/p&gt;
&lt;p&gt;服务器端对于CORS的支持，主要就是通过设置Access-Control-Allow-Origin来进行的。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Header set Access-Control-Allow-Origin *&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;为了防止XSS攻击我们的服务器， 我们可以限制域，比如&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Access-Control-Allow-Origin: http://jartto.wang/&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;很多服务都已经提供了CORS支持，比如 AWS 支持跨域资源分享功能CORS，向S3上传不需要代理。&lt;/p&gt;
&lt;h4 id=&quot;五、CORS相关资源推荐&quot;&gt;&lt;a href=&quot;#五、CORS相关资源推荐&quot; class=&quot;headerlink&quot; title=&quot;五、CORS相关资源推荐&quot;&gt;&lt;/a&gt;五、CORS相关资源推荐&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://enable-cors.org/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;1.官方网站&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://my.oschina.net/dongwq/blog/137147&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;2.CORS(Cross-Origin Resource Sharing) 跨域资源共享&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/cloudcraft/article/details/8986798&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;3.跨域请求解决方法(JSONP, CORS)&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.360doc.com/content/14/0106/11/15643_343005039.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;4.ajax post&amp;amp;跨域解决方案&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/hfahe/article/details/7730944&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;5.html5安全：CORS（跨域资源共享）简介&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;百度百科：&lt;a href=&quot;http://baike.baidu.com/cors&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/cors&lt;/a&gt;&lt;br&gt;Enable CORS：&lt;a href=&quot;http://enable-cors.org/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://enable-cors.org/index.html&lt;/a&gt;&lt;br&gt;跨域请求解决方法：&lt;a href=&quot;http://blog.csdn.net/cloudcraft/article/details/8986798&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/cloudcraft/article/details/8986798&lt;/a&gt;&lt;br&gt;javascript 之 跨域技术 CORS：&lt;a href=&quot;http://www.xuebuyuan.com/1744068.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.xuebuyuan.com/1744068.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/35432749/disable-web-security-in-chrome-48-and-49&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/35432749/disable-web-security-in-chrome-48-and-49&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;同源策略（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说Web是构建在同源策略基础之的，浏览器只是针对同源策略的一种实现。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="cors" scheme="http://jartto.wang/tags/cors/"/>
    
  </entry>
  
  <entry>
    <title>PM2初体验</title>
    <link href="http://jartto.wang/2016/06/27/first-experience-of-pm2/"/>
    <id>http://jartto.wang/2016/06/27/first-experience-of-pm2/</id>
    <published>2016-06-27T05:37:27.000Z</published>
    <updated>2016-06-28T05:54:32.000Z</updated>
    
    <content type="html">&lt;p&gt;Advanced, production process manager for Node.js&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、安装&quot;&gt;&lt;a href=&quot;#一、安装&quot; class=&quot;headerlink&quot; title=&quot;一、安装&quot;&gt;&lt;/a&gt;一、安装&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo npm install pm2 -g&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;二、启动一个项目&quot;&gt;&lt;a href=&quot;#二、启动一个项目&quot; class=&quot;headerlink&quot; title=&quot;二、启动一个项目&quot;&gt;&lt;/a&gt;二、启动一个项目&lt;/h4&gt;&lt;p&gt;进入目标文件夹，&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 start fs.js&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_1CB6B592-F09D-4596-947D-CC83EDB4C69C.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、尽管去启动你的项目&quot;&gt;&lt;a href=&quot;#三、尽管去启动你的项目&quot; class=&quot;headerlink&quot; title=&quot;三、尽管去启动你的项目&quot;&gt;&lt;/a&gt;三、尽管去启动你的项目&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_A34F2719-404E-4EBB-A25C-3BB0CF91D52B.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、监测所有的进程&quot;&gt;&lt;a href=&quot;#四、监测所有的进程&quot; class=&quot;headerlink&quot; title=&quot;四、监测所有的进程&quot;&gt;&lt;/a&gt;四、监测所有的进程&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 monit&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_F5685E2B-4411-4B70-95F8-6F20F93694CE.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、列出所有进程&quot;&gt;&lt;a href=&quot;#五、列出所有进程&quot; class=&quot;headerlink&quot; title=&quot;五、列出所有进程&quot;&gt;&lt;/a&gt;五、列出所有进程&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 list&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_F61BF742-15D7-48D8-A366-CFC5B9A0EA4C.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、查看一个具体的进程详细情况&quot;&gt;&lt;a href=&quot;#六、查看一个具体的进程详细情况&quot; class=&quot;headerlink&quot; title=&quot;六、查看一个具体的进程详细情况&quot;&gt;&lt;/a&gt;六、查看一个具体的进程详细情况&lt;/h4&gt;&lt;p&gt;通过id或者name来查看某一具体进程：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 show &amp;lt;id|name&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_A37555E8-09C9-4EE8-9719-759A75A6DF4D.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、停止进程&quot;&gt;&lt;a href=&quot;#七、停止进程&quot; class=&quot;headerlink&quot; title=&quot;七、停止进程&quot;&gt;&lt;/a&gt;七、停止进程&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 stop &amp;lt;id|name|all|json|stdin&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_15778CD6-CB49-45A1-BEBD-87F9EB41DB94.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;八、重启进程&quot;&gt;&lt;a href=&quot;#八、重启进程&quot; class=&quot;headerlink&quot; title=&quot;八、重启进程&quot;&gt;&lt;/a&gt;八、重启进程&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 restart &amp;lt;id|name|all|json|stdin&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_99103C3D-DBA7-4E32-8823-FA79DD374052.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;九、删除进程&quot;&gt;&lt;a href=&quot;#九、删除进程&quot; class=&quot;headerlink&quot; title=&quot;九、删除进程&quot;&gt;&lt;/a&gt;九、删除进程&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 delete &amp;lt;name|id|script|all|json|stdin&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_A47D4592-BD8C-472D-B316-FB8E6767AF43.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;十、查看日志&quot;&gt;&lt;a href=&quot;#十、查看日志&quot; class=&quot;headerlink&quot; title=&quot;十、查看日志&quot;&gt;&lt;/a&gt;十、查看日志&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 logs&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_C29214F7-4CD0-4880-AE33-DB26FCDC2D1E.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;十一、自动重启应用watch&quot;&gt;&lt;a href=&quot;#十一、自动重启应用watch&quot; class=&quot;headerlink&quot; title=&quot;十一、自动重启应用watch&quot;&gt;&lt;/a&gt;十一、自动重启应用watch&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pm2 start fs.js --watch&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/pm2_D6BB0D23-D618-4BB8-B29D-9A830B8E0E51.png&quot; alt=&quot;pm2&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这里需要注意：pm2 stop 2 将不能停止watch，必须pm2 stop –watch 2&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;十二、相关资源：&quot;&gt;&lt;a href=&quot;#十二、相关资源：&quot; class=&quot;headerlink&quot; title=&quot;十二、相关资源：&quot;&gt;&lt;/a&gt;十二、相关资源：&lt;/h4&gt;&lt;p&gt;1.官网&lt;br&gt;&lt;a href=&quot;http://pm2.keymetrics.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pm2.keymetrics.io/&lt;/a&gt;&lt;br&gt;2.github地址&lt;br&gt;&lt;a href=&quot;https://github.com/Unitech/PM2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Unitech/PM2&lt;/a&gt;&lt;br&gt;3.nodejs监视系统&lt;br&gt;&lt;a href=&quot;https://app.keymetrics.io/#/register&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://app.keymetrics.io/#/register&lt;/a&gt;&lt;br&gt;4.快速开始&lt;br&gt;&lt;a href=&quot;https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md#quick-start-1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md#quick-start-1&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Advanced, production process manager for Node.js&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="pm2" scheme="http://jartto.wang/tags/pm2/"/>
    
  </entry>
  
</feed>
