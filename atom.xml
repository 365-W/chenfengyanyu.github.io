<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jartto&#39;s blog</title>
  <subtitle>王嘉涛的个人博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jartto.wang/"/>
  <updated>2016-12-08T11:06:21.000Z</updated>
  <id>http://jartto.wang/</id>
  
  <author>
    <name>Jartto</name>
    <email>jartto@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>js能够保证object属性的输出顺序吗？</title>
    <link href="http://jartto.wang/2016/12/08/does-js-guarantee-object-property-order/"/>
    <id>http://jartto.wang/2016/12/08/does-js-guarantee-object-property-order/</id>
    <published>2016-12-08T09:11:02.000Z</published>
    <updated>2016-12-08T11:06:21.000Z</updated>
    
    <content type="html">&lt;p&gt;碰到了一个很有意思的问题，js中对象属性的输出是有序的吗？如果有的话，那又遵循怎样的规则呢？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这里我们来做一个简单的探讨，工作之余来一点趣味性的问题。虽不能醍醐灌顶，但可以巩固所学知识，也是极好的～🙈&lt;/p&gt;
&lt;h4 id=&quot;一、奇怪现象&quot;&gt;&lt;a href=&quot;#一、奇怪现象&quot; class=&quot;headerlink&quot; title=&quot;一、奇怪现象&quot;&gt;&lt;/a&gt;一、奇怪现象&lt;/h4&gt;&lt;p&gt;我们来看这样一个对象，来输出他的属性名称，也就是key值：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;aaa&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;bbb&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ccc&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;000&#39;&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(data) ;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;测试&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嗯，没啥问题。那调整一下最后一项的位置，再来试试：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;000&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;aaa&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;bbb&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ccc&#39;&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(data);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;测试&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;奇怪，输出的顺序被调整了，这是为什么呢？我们继续，换一下属性名称，再试一次：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;000&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;aaa&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;bbb&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ccc&#39;&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(data);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;a&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;依结果来看，貌似有点小规律，我们不妨猜一下。&lt;/p&gt;
&lt;h4 id=&quot;二、大胆猜测&quot;&gt;&lt;a href=&quot;#二、大胆猜测&quot; class=&quot;headerlink&quot; title=&quot;二、大胆猜测&quot;&gt;&lt;/a&gt;二、大胆猜测&lt;/h4&gt;&lt;p&gt;我们来看结果：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;测试&quot;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;a&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;会不会是按照ASC码的大小顺序来输出的呢？&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好像漏掉了一种情况（字母和汉字的属性名称同时存在），我们试一下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;000&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ccc&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;aaa&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;bbb&#39;&lt;/span&gt;,&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(data);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;测试&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;调整属性’a’和’测试’的顺序呢？&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;bbb&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ccc&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;000&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;aaa&#39;&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(data);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;测试&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;a&quot;&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好了，到此为止，我们可以得出结论了。&lt;br&gt;&lt;div class=&quot;alert danger&quot;&gt;&lt;p&gt;结论：对象的遍历输出并不是按照属性的ASC码升序排序的。&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、初见端倪&quot;&gt;&lt;a href=&quot;#三、初见端倪&quot; class=&quot;headerlink&quot; title=&quot;三、初见端倪&quot;&gt;&lt;/a&gt;三、初见端倪&lt;/h4&gt;&lt;p&gt;查阅了一些文档后，得出了以下有效结论：&lt;br&gt;1.An object is a member of the type Object. It is an unordered collection of properties each of which contains a primitive value, object, or function. A function stored in a property of an object is called a method.&lt;/p&gt;
&lt;p&gt;2.Chrome Opera 的 JavaScript 解析引擎遵循的是新版 ECMA-262 第五版规范。因此，使用 for-in 语句遍历对象属性时遍历书序并非属性构建顺序。而 IE6 IE7 IE8 Firefox Safari 的 JavaScript 解析引擎遵循的是较老的 ECMA-262 第三版规范，属性遍历顺序由属性构建的顺序决定。&lt;/p&gt;
&lt;h4 id=&quot;四、真相大白&quot;&gt;&lt;a href=&quot;#四、真相大白&quot; class=&quot;headerlink&quot; title=&quot;四、真相大白&quot;&gt;&lt;/a&gt;四、真相大白&lt;/h4&gt;&lt;p&gt;Chrome Opera 中使用 for-in 语句遍历对象属性时会遵循一个规律：&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;它们会先提取所有 key 的 parseFloat 值为非负整数的属性，然后根据数字顺序对属性排序首先遍历出来，然后按照对象定义的顺序遍历余下的所有属性。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;其它浏览器则完全按照对象定义的顺序遍历属性。&lt;/p&gt;
&lt;p&gt;这和我们上面例子中的数据结果是吻合的，嗯，这就是我想要的结果！&lt;/p&gt;
&lt;h4 id=&quot;五、结案总结&quot;&gt;&lt;a href=&quot;#五、结案总结&quot; class=&quot;headerlink&quot; title=&quot;五、结案总结&quot;&gt;&lt;/a&gt;五、结案总结&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;如果想顺序遍历一组数据，请使用数组并使用 for 语句遍历。 &lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;for-in语句无法保证遍历顺序，应尽量避免编写依赖对象属性顺序的代码。如果想按照定义的次序遍历对象属性，请参考&lt;a href=&quot;http://w3help.org/zh-cn/causes/SJ9011&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;针对各浏览器编写特殊代码。&lt;/p&gt;
&lt;p&gt;由于对象的输出是无序的，但是数组却是有序的，所以为了保证顺序，搞成数组再输出。嗯，就是这样！&lt;/p&gt;
&lt;h4 id=&quot;六、参考文档&quot;&gt;&lt;a href=&quot;#六、参考文档&quot; class=&quot;headerlink&quot; title=&quot;六、参考文档&quot;&gt;&lt;/a&gt;六、参考文档&lt;/h4&gt;&lt;p&gt;1.ASCII参照表&lt;br&gt;&lt;a href=&quot;http://baike.baidu.com/link?url=biyz3JjFtGX7OAA48C&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/link?url=biyz3JjFtGX7OAA48C&lt;/a&gt;&lt;br&gt;2.js对象输出顺序&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order&lt;/a&gt;&lt;br&gt;3.遍历出的属性顺序与对象定义时不同&lt;br&gt;&lt;a href=&quot;http://w3help.org/zh-cn/causes/SJ9011&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://w3help.org/zh-cn/causes/SJ9011&lt;/a&gt;&lt;br&gt;4.控制js中的对象顺序输出&lt;br&gt;&lt;a href=&quot;https://segmentfault.com/q/1010000000765467&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://segmentfault.com/q/1010000000765467&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;碰到了一个很有意思的问题，js中对象属性的输出是有序的吗？如果有的话，那又遵循怎样的规则呢？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="object" scheme="http://jartto.wang/tags/object/"/>
    
  </entry>
  
  <entry>
    <title>再谈ie浏览器兼容问题</title>
    <link href="http://jartto.wang/2016/12/06/talk-about-ie-compatible-over-again/"/>
    <id>http://jartto.wang/2016/12/06/talk-about-ie-compatible-over-again/</id>
    <published>2016-12-06T04:25:40.000Z</published>
    <updated>2016-12-06T10:41:02.000Z</updated>
    
    <content type="html">&lt;p&gt;随着技术日新月异的发展，我以为已经可以完全甩掉ie浏览器，驰骋在新技术的海洋里。却不想，ie兼容问题如影随行。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;当然，尝试解决ie浏览器兼容问题，并不代表我会去拥护它。我想做的只是为解决浏览器兼容提供一些个人思路，毕竟，很多公司还会有此类的需求。&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这里，我将提供一套解决方案，以及如果碰到ie浏览器兼容问题，我们该怎么办？&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;一、明确你要兼容的浏览器范围&quot;&gt;&lt;a href=&quot;#一、明确你要兼容的浏览器范围&quot; class=&quot;headerlink&quot; title=&quot;一、明确你要兼容的浏览器范围&quot;&gt;&lt;/a&gt;一、明确你要兼容的浏览器范围&lt;/h4&gt;&lt;p&gt;很简单，当你明确了要兼容的浏览器范围，不需要兼容的浏览器就可以一并处理了。例如：直接弹出提示，指引用户下载chrome，firefox等现代浏览器。简单粗暴，但却有效。&lt;/p&gt;
&lt;p&gt;那么我们如何去过滤呢，这时候，条件注释就可以上场了，用法如下：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if !IE]&amp;gt; 除IE外都可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if IE]&amp;gt; 所有的IE可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if IE 6]&amp;gt; 仅IE6可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if lt IE 6]&amp;gt; IE6以及IE6以下版本可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if gte IE 6]&amp;gt; IE6以及IE6以上版本可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if IE 7]&amp;gt; 仅IE7可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if lt IE 7]&amp;gt; IE7以及IE7以下版本可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if gte IE 7]&amp;gt; IE7以及IE7以上版本可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if IE 8]&amp;gt; 仅IE8可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if IE 9]&amp;gt; 仅IE9可识别 &amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;符号解释：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;!(非)：[if !IE]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;lt(小于)：[if lt IE 6]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;lte(小于或等于)：[if lte IE 6]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gt(大于)：[if gt IE 8]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gte(大于或等于)：[if gte IE 9]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;amp;(与)：[if (gt IE 6)&amp;amp;(lt IE 8)]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;|(或)：[if (IE 6)|(IE 7)]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嗯，不错，一大半的负担被卸掉了。&lt;/p&gt;
&lt;p&gt;因为我足够幸运，只需要解决ie9浏览器的兼容问题。所以，可以这么写：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--[if lte IE 8]&amp;gt;&amp;lt;script src=&quot;/zh/assets/js/ie-warning.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;![endif]--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js中设置了cookie和url重定向，引导用户去下载chrome浏览器，这里就不细说了。&lt;/p&gt;
&lt;p&gt;当然，兼容问题哪有这么容易就搞定的，我们继续往下走～&lt;/p&gt;
&lt;h4 id=&quot;二、检查页面中的伪类和伪元素&quot;&gt;&lt;a href=&quot;#二、检查页面中的伪类和伪元素&quot; class=&quot;headerlink&quot; title=&quot;二、检查页面中的伪类和伪元素&quot;&gt;&lt;/a&gt;二、检查页面中的伪类和伪元素&lt;/h4&gt;&lt;p&gt;这里还是以ie9示例，下面列出ie9对伪类的支持情况：&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//ie9不支持的伪类和伪元素&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:default&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:valid&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:invalid&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:in-range&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ut-of-range&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:required&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ptional&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:read-only&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;:read-write&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::before&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::after&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::first-letter&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::first-line&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::value&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::choices&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::repeat-item&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;::repeat-index&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;如果你要兼容ie8，你肯定也会搜到一份类似的支持文档，其他ie版本以此类推。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;对于不支持的情况，我们只能换方案，举个简单🌰：&lt;br&gt;清除浮动的方式有很多，为了代码优雅，恰巧我们选择了用after伪元素的方式，如下：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.clear&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:after&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　&lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　&lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　&lt;span class=&quot;attribute&quot;&gt;visibility&lt;/span&gt;:hidden;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　&lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;:block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;　&lt;span class=&quot;attribute&quot;&gt;clear&lt;/span&gt;:both;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;很好，ie9说：“不可以！”。好，那就换一个大家都比较容易接受的方案，如下：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.clean&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;clear&lt;/span&gt;:both;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;不外乎就是在页面加个空容器，虽然不优雅，但足够通用。&lt;/p&gt;
&lt;p&gt;说了这么多，想表达的意思无非就是：&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;不支持的伪类和伪元素，换通用的方案去兼容。&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、排查css3兼容问题&quot;&gt;&lt;a href=&quot;#三、排查css3兼容问题&quot; class=&quot;headerlink&quot; title=&quot;三、排查css3兼容问题&quot;&gt;&lt;/a&gt;三、排查css3兼容问题&lt;/h4&gt;&lt;p&gt;如果你对css3浏览器支持情况不是很了解，点击这里&lt;a href=&quot;http://caniuse.com/#search=transform&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;检测&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/20161202_compatible.png&quot; alt=&quot;检测动图&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、使用css-hack&quot;&gt;&lt;a href=&quot;#四、使用css-hack&quot; class=&quot;headerlink&quot; title=&quot;四、使用css hack&quot;&gt;&lt;/a&gt;四、使用css hack&lt;/h4&gt;&lt;p&gt;到这里，浏览器危险属性已经都排查完了。我们开始局部细节调整，这里就需要用到css hack了。&lt;br&gt;ie6 hack:&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; _property: value; &amp;#125; /* property: value 表示 css 的属性名: 属性值 下同 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; _property/**/: /**/value; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; -property: value; &amp;#125; /*IE6 css hack常用习惯推荐使用下划线_ */&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie7 hack:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;*+&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*&lt;span class=&quot;selector-pseudo&quot;&gt;:first-child+html&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie8 hack:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123; &lt;span class=&quot;comment&quot;&gt;/* 注意看value值的 */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value1; &lt;span class=&quot;comment&quot;&gt;/* W3C MODEL */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value2\&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;/* IE 8+ */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value1\&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;\&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;/* IE 9+ */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie6,7,8共有hack:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value\&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;; &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie6,7共有hack：&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; *property: value; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; #property: value; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Selector &amp;#123; +property: value; &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie8 hack:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value\&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ie9 hack:&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Selector&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;property&lt;/span&gt;: value\&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;\&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;根据实际的应用场景，选择不同的hack，用css覆写就可以了。再举一个简单的栗子：&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;// ie9 hack&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.index_scrm&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .swiper-wrapper&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        overflow:hidden\9\0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        height: 380px\9\0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;想了解更详细的css hack，请走这边：&lt;a href=&quot;http://www.webhj.com/hj-650.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、js判断浏览器类型&quot;&gt;&lt;a href=&quot;#五、js判断浏览器类型&quot; class=&quot;headerlink&quot; title=&quot;五、js判断浏览器类型&quot;&gt;&lt;/a&gt;五、js判断浏览器类型&lt;/h4&gt;&lt;p&gt;css hack也用上了，但是某种情况下，hack也并不完美。所以，我们再加一道保险，用js来做局部控制。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这里使用js检测浏览器类型，不仅仅是为了解决兼容问题，还可以干一些你想干的其他事情，不要被局限。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;方式一：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isIE=!!&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.ActiveXObject;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isIE6=isIE&amp;amp;&amp;amp;!&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.XMLHttpRequest;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isIE8=isIE&amp;amp;&amp;amp;!!&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.documentMode;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isIE7=isIE&amp;amp;&amp;amp;!isIE6&amp;amp;&amp;amp;!isIE8;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isIE)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isIE6)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(&lt;span class=&quot;string&quot;&gt;&#39;ie6&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isIE8)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(&lt;span class=&quot;string&quot;&gt;&#39;ie8&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isIE7)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		alert(&lt;span class=&quot;string&quot;&gt;&#39;ie7&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;方式二：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.appName == &lt;span class=&quot;string&quot;&gt;&#39;Microsoft Internet Explorer&#39;&lt;/span&gt; &amp;amp;&amp;amp; navigator.appVersion.match(&lt;span class=&quot;regexp&quot;&gt;/6./i&lt;/span&gt;)==&lt;span class=&quot;string&quot;&gt;&#39;6.&#39;&lt;/span&gt;)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;IE 6&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.appName == &lt;span class=&quot;string&quot;&gt;&#39;Microsoft Internet Explorer&#39;&lt;/span&gt; &amp;amp;&amp;amp; navigator.appVersion.match(&lt;span class=&quot;regexp&quot;&gt;/7./i&lt;/span&gt;)==&lt;span class=&quot;string&quot;&gt;&#39;7.&#39;&lt;/span&gt;)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;IE 7&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.appName == &lt;span class=&quot;string&quot;&gt;&#39;Microsoft Internet Explorer&#39;&lt;/span&gt; &amp;amp;&amp;amp; navigator.appVersion.match(&lt;span class=&quot;regexp&quot;&gt;/8./i&lt;/span&gt;)==&lt;span class=&quot;string&quot;&gt;&#39;8.&#39;&lt;/span&gt;)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;IE 8&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.appName == &lt;span class=&quot;string&quot;&gt;&#39;Microsoft Internet Explorer&#39;&lt;/span&gt; &amp;amp;&amp;amp; navigator.appVersion.match(&lt;span class=&quot;regexp&quot;&gt;/9./i&lt;/span&gt;)==&lt;span class=&quot;string&quot;&gt;&#39;9.&#39;&lt;/span&gt;)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;IE 9&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;方式三：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.userAgent.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;Opera&#39;&lt;/span&gt;) != &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;Opera&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.userAgent.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;MSIE&#39;&lt;/span&gt;) != &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;Internet Explorer&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.userAgent.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;Firefox&#39;&lt;/span&gt;) != &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;Firefox&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.userAgent.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;Netscape&#39;&lt;/span&gt;) != &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;Netscape&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.userAgent.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;Safari&#39;&lt;/span&gt;) != &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;Safari&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;无法识别的浏览器。&#39;&lt;/span&gt;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;方式四：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!+&lt;span class=&quot;string&quot;&gt;&#39;\v1&#39;&lt;/span&gt; &amp;amp;&amp;amp; !&lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;])&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;string&quot;&gt;&#39;ie6或ie7&#39;&lt;/span&gt;) &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;以上js代码基本覆盖了大部分主流浏览器，到这里90%以上的浏览器兼容问题应该都可以搞定了吧。&lt;/p&gt;
&lt;h4 id=&quot;六、我的问题清单&quot;&gt;&lt;a href=&quot;#六、我的问题清单&quot; class=&quot;headerlink&quot; title=&quot;六、我的问题清单&quot;&gt;&lt;/a&gt;六、我的问题清单&lt;/h4&gt;&lt;p&gt;大概总结一下，以下是已知ie9的兼容问题：&lt;br&gt;1.swiper3.0以上，不支持ie9；&lt;br&gt;解决方案：换swiper2.*版本，或者换插件。&lt;/p&gt;
&lt;p&gt;2.after等伪元素不支持；&lt;br&gt;解决方案：用div或者其他元素等效替代。&lt;/p&gt;
&lt;p&gt;3.ie9支持的属性background-size怎么也会失效；&lt;br&gt;解决方案：如下&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//这么用&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;.two &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-image: url(../image/yunzi/temp04.png);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-size: 100%;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    width: 300px;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-position: center;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//而不要这么用&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;.three &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-image: url(../image/yunzi/temp05.gif);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-size: 170%;//不给宽度，容易受影响，显示异常&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    background-position: center 5%;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;4.flex布局失效，如何解决；&lt;br&gt;解决方案：用float或者flex.css库去兼容。&lt;/p&gt;
&lt;p&gt;5.display: none\9\0失效，需要改成display: none\9，好奇怪;&lt;br&gt;解决方案：好奇怪，不按套路？&lt;/p&gt;
&lt;p&gt;6.ie9中特定条件下绝对定位失效？&lt;br&gt;相对定位内的绝对定位元素内部的相对定位元素，ie9下会嵌套异常。&lt;br&gt;解决方案：简化嵌套结构。&lt;/p&gt;
&lt;p&gt;7.keyframes ，ie9不兼容；&lt;br&gt;解决方案：降级动画。&lt;/p&gt;
&lt;p&gt;8.ie9中img只给width或者height会塌陷；&lt;br&gt;解决方案：严格按照图片比例，来计算显示比例，两个属性都要设值，否则图片显示异常。&lt;/p&gt;
&lt;h4 id=&quot;七、小结&quot;&gt;&lt;a href=&quot;#七、小结&quot; class=&quot;headerlink&quot; title=&quot;七、小结&quot;&gt;&lt;/a&gt;七、小结&lt;/h4&gt;&lt;p&gt;文章结构我反复改了很多次，无非想让整个解决方案清晰明了。如果有不当或者表达不清楚的地方，希望大家可以提出来。共同探讨，共同进步～&lt;/p&gt;
&lt;h4 id=&quot;八、参考文章&quot;&gt;&lt;a href=&quot;#八、参考文章&quot; class=&quot;headerlink&quot; title=&quot;八、参考文章&quot;&gt;&lt;/a&gt;八、参考文章&lt;/h4&gt;&lt;p&gt;浏览器类型判断：&lt;br&gt;&lt;a href=&quot;http://www.jb51.net/article/27876.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jb51.net/article/27876.htm&lt;/a&gt;&lt;br&gt;css hack：&lt;br&gt;&lt;a href=&quot;http://www.webhj.com/hj-650.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.webhj.com/hj-650.html&lt;/a&gt;&lt;br&gt;ie9伪类支持：&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/lml_little/article/details/51074779&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/lml_little/article/details/51074779&lt;/a&gt;&lt;br&gt;css3属性检测：&lt;br&gt;&lt;a href=&quot;http://caniuse.com/#search=transform&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://caniuse.com/#search=transform&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;随着技术日新月异的发展，我以为已经可以完全甩掉ie浏览器，驰骋在新技术的海洋里。却不想，ie兼容问题如影随行。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="ie" scheme="http://jartto.wang/tags/ie/"/>
    
      <category term="hack" scheme="http://jartto.wang/tags/hack/"/>
    
      <category term="浏览器兼容" scheme="http://jartto.wang/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9/"/>
    
  </entry>
  
  <entry>
    <title>掌握linux命令grep</title>
    <link href="http://jartto.wang/2016/10/12/grasp-linux-grep/"/>
    <id>http://jartto.wang/2016/10/12/grasp-linux-grep/</id>
    <published>2016-10-12T15:31:28.000Z</published>
    <updated>2016-12-07T07:04:55.000Z</updated>
    
    <content type="html">&lt;p&gt;一直忽略了 linux 中 grep 的用途，在无意间使用了几次之后，深深的被 grep 所吸引。索性查阅文档，掌握其用法。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;借用《写给大家看的设计书》中的一句话：一旦能够说出什么东西的名字，就会很容易注意到它。你就会掌握它，拥有它，使它在你的控制中。&lt;/p&gt;
&lt;h4 id=&quot;一、grep概述&quot;&gt;&lt;a href=&quot;#一、grep概述&quot; class=&quot;headerlink&quot; title=&quot;一、grep概述&quot;&gt;&lt;/a&gt;一、grep概述&lt;/h4&gt;&lt;h4 id=&quot;二、抛砖引玉&quot;&gt;&lt;a href=&quot;#二、抛砖引玉&quot; class=&quot;headerlink&quot; title=&quot;二、抛砖引玉&quot;&gt;&lt;/a&gt;二、抛砖引玉&lt;/h4&gt;&lt;h4 id=&quot;三、参数介绍&quot;&gt;&lt;a href=&quot;#三、参数介绍&quot; class=&quot;headerlink&quot; title=&quot;三、参数介绍&quot;&gt;&lt;/a&gt;三、参数介绍&lt;/h4&gt;&lt;h4 id=&quot;四、用法示例&quot;&gt;&lt;a href=&quot;#四、用法示例&quot; class=&quot;headerlink&quot; title=&quot;四、用法示例&quot;&gt;&lt;/a&gt;四、用法示例&lt;/h4&gt;&lt;h4 id=&quot;五、参考文章&quot;&gt;&lt;a href=&quot;#五、参考文章&quot; class=&quot;headerlink&quot; title=&quot;五、参考文章&quot;&gt;&lt;/a&gt;五、参考文章&lt;/h4&gt;&lt;p&gt;1.&lt;a href=&quot;http://www.cnblogs.com/end/archive/2012/02/21/2360965.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;linux grep命令&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;一直忽略了 linux 中 grep 的用途，在无意间使用了几次之后，深深的被 grep 所吸引。索性查阅文档，掌握其用法。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="linux" scheme="http://jartto.wang/tags/linux/"/>
    
      <category term="grep" scheme="http://jartto.wang/tags/grep/"/>
    
  </entry>
  
  <entry>
    <title>关于html中的base标签</title>
    <link href="http://jartto.wang/2016/10/01/about-html-base-tag/"/>
    <id>http://jartto.wang/2016/10/01/about-html-base-tag/</id>
    <published>2016-10-01T13:59:20.000Z</published>
    <updated>2016-12-07T05:45:47.000Z</updated>
    
    <content type="html">&lt;p&gt;日常工作中，我们可能会更改项目文件的目录结构，这样的话，就引发了一个问题，静态资源的路径如何处理？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、问题由来&quot;&gt;&lt;a href=&quot;#一、问题由来&quot; class=&quot;headerlink&quot; title=&quot;一、问题由来&quot;&gt;&lt;/a&gt;一、问题由来&lt;/h4&gt;&lt;p&gt;因为项目要根据浏览器语言版本切中英文网站，所以需要将静态资源放到各自语言版本目录中，所以我不得不更改目录结构。导致的问题就是，静态资源路径异常，图片，css以及js无法正常加载。&lt;/p&gt;
&lt;p&gt;当然，这也不算什么大问题，全局搜索路径，整体替换就ok了。可是我并不想这么做，有没有一种更简洁的办法达到这个目的呢？&lt;/p&gt;
&lt;h4 id=&quot;二、方案：nginx控制静态资源访问路径&quot;&gt;&lt;a href=&quot;#二、方案：nginx控制静态资源访问路径&quot; class=&quot;headerlink&quot; title=&quot;二、方案：nginx控制静态资源访问路径&quot;&gt;&lt;/a&gt;二、方案：nginx控制静态资源访问路径&lt;/h4&gt;&lt;p&gt;首先，我想到了去nginx中配置静态资源的访问路径，对路径进行重新拼接或者重定向，如下：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;rewrite /assets /zh/assets redirect;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert danger&quot;&gt;&lt;p&gt;这样理论上是可行的，但是却不是最好的解决方案。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;譬如：我们需要中英文版本切换，此时，逻辑依赖真实的物理路径，而不是一个在访问时候重定向的路径。&lt;/p&gt;
&lt;h4 id=&quot;三、方案：base标签&quot;&gt;&lt;a href=&quot;#三、方案：base标签&quot; class=&quot;headerlink&quot; title=&quot;三、方案：base标签&quot;&gt;&lt;/a&gt;三、方案：base标签&lt;/h4&gt;&lt;p&gt;正在我一筹莫展的时候，同事给出建议：你试试base呗？我突然间意识到，这可能就是我要找的最优解决方案。&lt;/p&gt;
&lt;p&gt;那么base究竟怎么用呢？w3school给出了这样一个🌰：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3school.com.cn/i/&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;eg_smile.gif&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;请注意，我们已经为图像规定了一个相对地址。由于我们已经在 head 部分规定了一个基准 URL，浏览器将在如下地址寻找图片：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;http://www.w3school.com.cn/i/eg_smile.gif&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;用法很简单，我们设置base标签，给一个基准href，那么其他的链接都是以此为基准，那么路径变更问题就迎刃而解了。&lt;/p&gt;
&lt;p&gt;base还提供了另一个参数：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;_blank&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;什么意思呢，请看下面的例子：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3school.com.cn/i/&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;_blank&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;eg_smile.gif&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://jartto.wang&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Jartto&#39;s blog&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;请注意，Jartto’s blog链接会在新窗口中打开，即使链接中没有 target=’_blank’ 属性。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;这是因为 base 元素的 target 属性已经被设置为 ‘_blank’ 了。&lt;/p&gt;
&lt;h4 id=&quot;四、注意事项&quot;&gt;&lt;a href=&quot;#四、注意事项&quot; class=&quot;headerlink&quot; title=&quot;四、注意事项&quot;&gt;&lt;/a&gt;四、注意事项&lt;/h4&gt;&lt;p&gt;一行代码就搞定了我大量重复替换的工作，真是不错！但是，别高兴的太早，这里有一点需要我们注意。&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;base适合于全路径或者相对路径，如果你写的绝对路径，那么base路径将会失效。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;我们来看下面这个栗子：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;/zh&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;stylesheet&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;/assets/lib/swiper.min.css&#39;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如上所示，解析出来结果是：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;href=&#39;http://jartto.wang/assets/lib/swiper.min.css&#39;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;而我想要的是：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;href=&#39;http://jartto.wang/zh/assets/lib/swiper.min.css&#39;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;所以，这里是需要特别注意的。&lt;/p&gt;
&lt;p&gt;当然，根据不同的项目需求，此类问题也会存在其他最优解。一个字总结：具体问题具体对待！&lt;/p&gt;
&lt;h4 id=&quot;五、参考&quot;&gt;&lt;a href=&quot;#五、参考&quot; class=&quot;headerlink&quot; title=&quot;五、参考&quot;&gt;&lt;/a&gt;五、参考&lt;/h4&gt;&lt;p&gt;html base标签：&lt;br&gt;&lt;a href=&quot;http://www.w3school.com.cn/tags/tag_base.asp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.w3school.com.cn/tags/tag_base.asp&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;日常工作中，我们可能会更改项目文件的目录结构，这样的话，就引发了一个问题，静态资源的路径如何处理？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="html" scheme="http://jartto.wang/tags/html/"/>
    
      <category term="base" scheme="http://jartto.wang/tags/base/"/>
    
  </entry>
  
  <entry>
    <title>Mac下查看端口占用情况</title>
    <link href="http://jartto.wang/2016/09/28/check-the-system-port-of-mac/"/>
    <id>http://jartto.wang/2016/09/28/check-the-system-port-of-mac/</id>
    <published>2016-09-28T12:08:32.000Z</published>
    <updated>2016-12-01T14:48:36.000Z</updated>
    
    <content type="html">&lt;p&gt;当你兴致冲冲的写完代码，准备在服务器上一览网站的容貌时，突然电脑告诉你，服务器启动异常。嗯？那肿么办？来看看我的悲催历程。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、问题由来：&quot;&gt;&lt;a href=&quot;#一、问题由来：&quot; class=&quot;headerlink&quot; title=&quot;一、问题由来：&quot;&gt;&lt;/a&gt;一、问题由来：&lt;/h4&gt;&lt;p&gt;当我想在本地启动一个http-server来查看静态网页的时候，发现服务并不能被启动。查看原因后，得知：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Error: listen EADDRINUSE 0.0.0.0:8080&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、分析问题：&quot;&gt;&lt;a href=&quot;#二、分析问题：&quot; class=&quot;headerlink&quot; title=&quot;二、分析问题：&quot;&gt;&lt;/a&gt;二、分析问题：&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;看到错误，我们很容易就判断出来了，很明显，8080端口被占用了。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;解决思路有两个：&lt;br&gt;其一，修改http-server服务器端口号；&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/lucker/p/4108838.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;查阅文档&lt;/a&gt;命令行直接输入：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;http-server -p 6666&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好的，http-server不能启动的问题解决了，可是我并不打算收手👻&lt;/p&gt;
&lt;p&gt;其二，我想查看8080端口被谁占用了。&lt;/p&gt;
&lt;p&gt;那么问题来了，mac下如何查看端口被占用情况呢？众所周知，mac os是Unix内核的桌面版操作系统，Linux是类Unix操作系统。&lt;/p&gt;
&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;bingo！问题转嫁了，如何查看linux端口号情况？&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;三、查看端口号&quot;&gt;&lt;a href=&quot;#三、查看端口号&quot; class=&quot;headerlink&quot; title=&quot;三、查看端口号&quot;&gt;&lt;/a&gt;三、查看端口号&lt;/h4&gt;&lt;p&gt;我查到了这个：&lt;br&gt;可以使用netstat命令。netstat命令可以显示网络连接，路由表，接口状态，伪装连接，网络链路信息和组播成员组等信息。&lt;br&gt;命令格式：netstat [选项]&lt;br&gt;常用参数：&lt;br&gt;-a, –all 显示所有正在或不在侦听的套接字。&lt;br&gt;-p, –program 显示套接字所属进程的PID和名称。&lt;br&gt;-n, –numeric 显示数字形式地址而不是去解析主机、端口或用户名。&lt;br&gt;用法示例：查看所有的进程和端口使用情况。&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ netstat –apn&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好的，那我来试试，控制台说：滚！&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;netstat: n: unknown or uninstrumented protocol&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这就尴尬了，为什么命令用不了？找到netstat的使用说明，我们先看一下：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;netstat [-AaLlnW] [&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; address_family | -p protocol]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat [-gilns] [&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; address_family]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat -i | -I interface [-w &lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;] [-abdgRt]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; [&lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt;] [&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; address_family | -p protocol] [-w &lt;span class=&quot;built_in&quot;&gt;wait&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat -i | -I interface &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; [&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; address_family | -p protocol]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat -m [-m]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat -r [-Aaln] [&lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; address_family]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;netstat -rs [&lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;都是什么意思呢，一不做二不休，我来一个个试一下。&lt;/p&gt;
&lt;h4 id=&quot;四、查看某一端口占用情况：&quot;&gt;&lt;a href=&quot;#四、查看某一端口占用情况：&quot; class=&quot;headerlink&quot; title=&quot;四、查看某一端口占用情况：&quot;&gt;&lt;/a&gt;四、查看某一端口占用情况：&lt;/h4&gt;&lt;p&gt;进一步可以使用lsof命令显示占用该端口的进程情况 。&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#命令格式：lsof -i :端口&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;lsof -i:8080&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出如下信息：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;nginx     634 Jartto    6u  IPv4 0x8800c1295e443e43      0t0  TCP *:http-alt (LISTEN)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;nginx     635 Jartto    6u  IPv4 0x8800c1295e443e43      0t0  TCP *:http-alt (LISTEN)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;WeChat  93768 Jartto  119u  IPv6 0x8800c12977474f33      0t0  TCP 192.168.1.*&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、如何杀掉进程？&quot;&gt;&lt;a href=&quot;#五、如何杀掉进程？&quot; class=&quot;headerlink&quot; title=&quot;五、如何杀掉进程？&quot;&gt;&lt;/a&gt;五、如何杀掉进程？&lt;/h4&gt;&lt;h4 id=&quot;六、数据太多，使用awk？&quot;&gt;&lt;a href=&quot;#六、数据太多，使用awk？&quot; class=&quot;headerlink&quot; title=&quot;六、数据太多，使用awk？&quot;&gt;&lt;/a&gt;六、数据太多，使用awk？&lt;/h4&gt;&lt;p&gt;在尝试netstat的各种命令过程中，控制台给出的都是满满的一屏。有没有更好的展现方式，或过滤选项呢？&lt;br&gt;&lt;a href=&quot;http://man.linuxde.net/awk&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://man.linuxde.net/awk&lt;/a&gt;&lt;br&gt;文本处理工具&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;当你兴致冲冲的写完代码，准备在服务器上一览网站的容貌时，突然电脑告诉你，服务器启动异常。嗯？那肿么办？来看看我的悲催历程。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="mac" scheme="http://jartto.wang/tags/mac/"/>
    
      <category term="linux" scheme="http://jartto.wang/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>掌握js模板引擎</title>
    <link href="http://jartto.wang/2016/09/15/grasp-a-js-template-engine/"/>
    <id>http://jartto.wang/2016/09/15/grasp-a-js-template-engine/</id>
    <published>2016-09-15T03:16:10.000Z</published>
    <updated>2016-12-01T08:52:19.000Z</updated>
    
    <content type="html">&lt;p&gt;最近要做一个小项目，不管是使用angularjs还是reactjs，都觉得大材小用了。其实我可能只需要引入一个jquery，但想到jquery对dom的操作，对于早已习惯了双向绑定模式的我，何尝不是一种痛苦。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;听过这样一句话：“技术没有缺席，只有姗姗来迟”，很多技术自己不知道，并非没有。今天我想介绍的就是一个简单的js模板引擎artTemplate，让我们扬帆起航吧～&lt;/p&gt;
&lt;h4 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h4&gt;&lt;p&gt;artTemplate 是新一代 javascript 模板引擎，它采用预编译方式让性能有了质的飞跃，并且充分利用 javascript 引擎特性，使得其性能无论在前端还是后端都有极其出色的表现。&lt;/p&gt;
&lt;h4 id=&quot;二、我的痛点&quot;&gt;&lt;a href=&quot;#二、我的痛点&quot; class=&quot;headerlink&quot; title=&quot;二、我的痛点&quot;&gt;&lt;/a&gt;二、我的痛点&lt;/h4&gt;&lt;p&gt;我们先来看一段代码，当我用ajax从后台拿到一堆json数据，要填充进页面的时候，可能会这么做：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$.ajax(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    type: &lt;span class=&quot;string&quot;&gt;&#39;GET&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    url: &lt;span class=&quot;string&quot;&gt;&#39;/server/list.json&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    success: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; lists = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;i&amp;lt;data.content.rows.length;i++)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          lists += &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;li&amp;gt;&amp;lt;div class=&quot;lititle&quot;&amp;gt;&#39;&lt;/span&gt;+data.content.rows[i].leaveRuleName+&lt;span class=&quot;string&quot;&gt;&#39;（共计 &#39;&lt;/span&gt;+data.content.rows[i].durationStr+&lt;span class=&quot;string&quot;&gt;&#39;）&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;timer&quot;&amp;gt;&amp;lt;span&amp;gt;开始时间：&#39;&lt;/span&gt;+data.content.rows[i].startTime+&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;结束时间：&#39;&lt;/span&gt;+data.content.rows[i].endTime+&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;btns&quot;&amp;gt;&amp;lt;p&amp;gt;&amp;lt;a href=&quot;#&quot; class=&quot;button button-round blue&quot;&amp;gt;&#39;&lt;/span&gt;+data.content.rows[i].customApprovalStatus+&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;info&quot;&amp;gt;刚刚申请&amp;lt;/div&amp;gt;&amp;lt;/li&amp;gt;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         $(&lt;span class=&quot;string&quot;&gt;&#39;#myList&#39;&lt;/span&gt;).append(lists);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    error: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;xhr, type&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;span class=&quot;comment&quot;&gt;//此处省略&amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;html代码：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;list-container&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myList&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这段代码，功能上可能并没有什么问题。但是我们来看lists变量，这里面的信息已经爆炸了，html结构以及data填充，写完我就不想维护了。&lt;/p&gt;
&lt;p&gt;正应了那句话：“此时我写的代码，只有我和天知道。半个月后，恐怕只有天知道了！”&lt;/p&gt;
&lt;h4 id=&quot;三、处理痛点&quot;&gt;&lt;a href=&quot;#三、处理痛点&quot; class=&quot;headerlink&quot; title=&quot;三、处理痛点&quot;&gt;&lt;/a&gt;三、处理痛点&lt;/h4&gt;&lt;p&gt;这岂止是一场噩梦，简直就是在挖坑埋雷🙈。好了，不再矫情了，我们换artTemplate来试试，代码可能是这样：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意：记得提前引入template.js哦～&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$.ajax(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    type: &lt;span class=&quot;string&quot;&gt;&#39;GET&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    url: &lt;span class=&quot;string&quot;&gt;&#39;/server/list.json&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    success: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          $(&lt;span class=&quot;string&quot;&gt;&#39;#myList&#39;&lt;/span&gt;).append(template(&lt;span class=&quot;string&quot;&gt;&#39;myListTpl&#39;&lt;/span&gt;, &amp;#123; lists: data.content.rows&amp;#125;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    error: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;xhr, type&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;span class=&quot;comment&quot;&gt;//此处省略&amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;html代码：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myListTpl&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;each lists&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;&amp;#123;$value.id&amp;#125;&amp;#125;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;lititle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;$value.overtimeRuleName&amp;#125;&amp;#125;（共计 &amp;#123;&amp;#123;$value.durationStr&amp;#125;&amp;#125;）&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;timer&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;开始时间：&amp;#123;&amp;#123;$value.startTime&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;结束时间：&amp;#123;&amp;#123;$value.endTime&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;btns&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;button button-round &amp;#123;&amp;#123;!$value.isEnsure?&#39;blue&#39;:($value.isEffective?&#39;green&#39;:&#39;red&#39;)&amp;#125;&amp;#125;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;!$value.isEnsure?&#39;待确认&#39;:($value.isEffective?&#39;已确认&#39;:&#39;已失效&#39;)&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;info&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;$value.applyTime | timeFormat&amp;#125;&amp;#125;申请&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;/each&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;list-container&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myList&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意：script中的type=”text/html”&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;这段代码很清晰，我们建立了myListTpl作为模板，里面的html结构清晰，变量包在了双大括号中。那么lists中的值是怎么来的，细心的你可能看到了这个：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;string&quot;&gt;&#39;#myList&#39;&lt;/span&gt;).append(template(&lt;span class=&quot;string&quot;&gt;&#39;myListTpl&#39;&lt;/span&gt;, &amp;#123; lists: data.content.rows&amp;#125;));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;对，我们用template去预编译模板，同时将数据塞进了lists中。就这样，js中不需要很复杂的逻辑，html也保存了原有的结构。&lt;/p&gt;
&lt;p&gt;～嗡～嗡，嗯，整个世界都清静了！&lt;/p&gt;
&lt;h4 id=&quot;四、用法示例&quot;&gt;&lt;a href=&quot;#四、用法示例&quot; class=&quot;headerlink&quot; title=&quot;四、用法示例&quot;&gt;&lt;/a&gt;四、用法示例&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;artTemplate用起来很简单，我们来逐一举例说明：&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1.template(id,data)，向id模板传入数据。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;title&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;each list as value i&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;索引 &amp;#123;&amp;#123;i + 1&amp;#125;&amp;#125; ：&amp;#123;&amp;#123;value&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;/each&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    title: &lt;span class=&quot;string&quot;&gt;&#39;标签&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    list: [&lt;span class=&quot;string&quot;&gt;&#39;文艺&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;博客&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;摄影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;电影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;民谣&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;旅行&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;吉他&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = template(&lt;span class=&quot;string&quot;&gt;&#39;test&#39;&lt;/span&gt;, data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;content&#39;&lt;/span&gt;).innerHTML = html;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.template.compile(source,options)，预编译模板数据。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; source = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;ul&amp;gt;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+    &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;&amp;#123;each list as value i&amp;#125;&amp;#125;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+        &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;li&amp;gt;索引 &amp;#123;&amp;#123;i + 1&amp;#125;&amp;#125; ：&amp;#123;&amp;#123;value&amp;#125;&amp;#125;&amp;lt;/li&amp;gt;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+    &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;&amp;#123;/each&amp;#125;&amp;#125;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+ &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/ul&amp;gt;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; render = template.compile(source);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = render(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    list: [&lt;span class=&quot;string&quot;&gt;&#39;摄影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;电影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;民谣&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;旅行&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;吉他&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;content&#39;&lt;/span&gt;).innerHTML = html;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;上面两种方式，属于简单的数据渲染，实际应用中我们可能会碰到比较复杂的操作，下面细说。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;3.template.helper(name,callback)，在模板中使用自定义方法。&lt;br&gt;某种情况下，我们需要对数据做一下预处理，类似angularjs中的filter操作，那怎么办呢？&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;time | timeFormat&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;template.helper(&lt;span class=&quot;string&quot;&gt;&#39;timeFormat&#39;&lt;/span&gt;,&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;date&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result = Common.formateTime(date);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如上所示，我们调用了template.helper方法，将自定义方法放在回调函数中，那么数据是不是可以进行处理了呢。这里我的场景是对时间数据做了格式化处理，我希望他显示成“1小时前，刚刚”之类的文案。&lt;/p&gt;
&lt;p&gt;4.template.config(name,value)，更改引擎的默认配置。&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/js_4.png&quot; alt=&quot;配置&quot;&gt;&lt;/p&gt;
&lt;p&gt;5.include可嵌套子模板。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;title&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;include &#39;list&#39;&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;list&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;each list as value i&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;索引 &amp;#123;&amp;#123;i + 1&amp;#125;&amp;#125; ：&amp;#123;&amp;#123;value&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;/each&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	title: &lt;span class=&quot;string&quot;&gt;&#39;嵌入子模板&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	list: [&lt;span class=&quot;string&quot;&gt;&#39;文艺&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;博客&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;摄影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;电影&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;民谣&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;旅行&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;吉他&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = template(&lt;span class=&quot;string&quot;&gt;&#39;test&#39;&lt;/span&gt;, data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;content&#39;&lt;/span&gt;).innerHTML = html;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;重点在于：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;include &lt;span class=&quot;string&quot;&gt;&#39;list&#39;&lt;/span&gt;&amp;#125;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将id为list的模板包含进来，很简单，这里就不细说了。&lt;/p&gt;
&lt;p&gt;6.转义&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;不转义：&amp;#123;&amp;#123;#value&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;默认转义： &amp;#123;&amp;#123;value&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    value: &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span style=&quot;color:#F00&quot;&amp;gt;hello world!&amp;lt;/span&amp;gt;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = template(&lt;span class=&quot;string&quot;&gt;&#39;test&#39;&lt;/span&gt;, data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;content&#39;&lt;/span&gt;).innerHTML = html;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;我们只需要加上“＃”号，模板默认就不转义啦。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;7.在页面上打印你的数据。&lt;br&gt;当然，你还可以这么玩：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;print a b c&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; data = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	a: &lt;span class=&quot;string&quot;&gt;&#39;hello&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	b: &lt;span class=&quot;string&quot;&gt;&#39;--world&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	c: &lt;span class=&quot;string&quot;&gt;&#39;--!!!&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;html = template(&lt;span class=&quot;string&quot;&gt;&#39;test&#39;&lt;/span&gt;, data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.write(html);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;基本用法就这些了，是不是觉得很简单呢，那就赶快试试吧！&lt;/p&gt;
&lt;h4 id=&quot;五、原理剖析&quot;&gt;&lt;a href=&quot;#五、原理剖析&quot; class=&quot;headerlink&quot; title=&quot;五、原理剖析&quot;&gt;&lt;/a&gt;五、原理剖析&lt;/h4&gt;&lt;p&gt;当然，我们并不会只停留在会用的层次上面，模板引擎又是如何工作的呢？&lt;/p&gt;
&lt;p&gt;artTemplate 模板编译器会根据一些简单的规则提取好所有模板变量，声明在渲染函数头部，这个函数类似：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; render = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;$data&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; content = $data.content,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		$out = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$out += &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;h3&amp;gt;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; content === &lt;span class=&quot;string&quot;&gt;&#39;string&#39;&lt;/span&gt;)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		$out += content;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$out += &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/h3&amp;gt;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; $out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这个自动生成的函数就如同一个手工编写的 javascript 函数一样，同等的执行次数下无论 CPU 还是内存占用都有显著减少，性能近乎极限。&lt;/p&gt;
&lt;p&gt;值得一提的是：artTemplate 很多特性都基于预编译实现，如沙箱规范与自定义语法等。&lt;/p&gt;
&lt;p&gt;虽然每个引擎从模板语法、语法解析、变量赋值、字符串拼接的实现方式各有所不同，但关键的渲染原理仍然是动态执行 javascript 字符串。&lt;/p&gt;
&lt;p&gt;嗯，点到为止吧。如果想深入了解，去下载个template.js，看看源码吧。&lt;/p&gt;
&lt;h4 id=&quot;六、负荷测试与调试&quot;&gt;&lt;a href=&quot;#六、负荷测试与调试&quot; class=&quot;headerlink&quot; title=&quot;六、负荷测试与调试&quot;&gt;&lt;/a&gt;六、负荷测试与调试&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/js_1.png&quot; alt=&quot;负荷测试&quot;&gt;&lt;br&gt;在 chrome 下渲染效率测试中分别是知名引擎 Mustache 与 micro tmpl 的 25 、 32 倍。&lt;br&gt;除了性能优势外，调试功能也值得一提。模板调试器可以精确定位到引发渲染错误的模板语句，解决了编写模板过程中无法调试的痛苦，让开发变得高效，也避免了因为单个模板出错导致整个应用崩溃的情况发生。示例如下：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;each list&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;/each&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&amp;#123;window.alert=null&amp;#125;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;html = template(&lt;span class=&quot;string&quot;&gt;&#39;test&#39;&lt;/span&gt;, &amp;#123;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.write(html);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;list变量并没有赋值，模板引擎会将错误抛出，方便定位与查错。&lt;/p&gt;
&lt;h4 id=&quot;七、意外收获&quot;&gt;&lt;a href=&quot;#七、意外收获&quot; class=&quot;headerlink&quot; title=&quot;七、意外收获&quot;&gt;&lt;/a&gt;七、意外收获&lt;/h4&gt;&lt;p&gt;原本我以为artTemplate会是最快的，结果又发现了doT，很好，你已经成功引起了我的注意。&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/js_3.png&quot; alt=&quot;doT&quot;&gt;&lt;br&gt;正如大家所见，js模板引擎五花八门，如果每个引擎写一篇文章，我想几年内我应该不用干其他事了（我才不会这么无聊呢👻）。so，不要纠结到底使用哪个模板引擎。请记住，适合自己的才是最好的。&lt;/p&gt;
&lt;h4 id=&quot;八、总结&quot;&gt;&lt;a href=&quot;#八、总结&quot; class=&quot;headerlink&quot; title=&quot;八、总结&quot;&gt;&lt;/a&gt;八、总结&lt;/h4&gt;&lt;p&gt;按照学习思路，从上到下有了这篇文章。之所以想要详细的去写一篇关于模板引擎的文章，主要是想弥补心里的内疚。其实早在2014年我就有听说过artTemplate，但却只止步于听过的程度。&lt;/p&gt;
&lt;p&gt;当地球人都在用的时候，我还没有开始，当大家已经去追逐天边的云彩，我才反应过来。&lt;/p&gt;
&lt;p&gt;血淋淋的教训，谨以此献给和我有同样遭遇以及感受的人们，任何时间请不要停下学习的脚步，哪怕晚了，但至少你努力过。&lt;/p&gt;
&lt;h4 id=&quot;九、参考文章&quot;&gt;&lt;a href=&quot;#九、参考文章&quot; class=&quot;headerlink&quot; title=&quot;九、参考文章&quot;&gt;&lt;/a&gt;九、参考文章&lt;/h4&gt;&lt;p&gt;1.官方文档：&lt;br&gt;&lt;a href=&quot;https://github.com/aui/artTemplate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/aui/artTemplate&lt;/a&gt;&lt;br&gt;2.快速上手：&lt;br&gt;&lt;a href=&quot;https://github.com/aui/artTemplate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/aui/artTemplate&lt;/a&gt;&lt;br&gt;3.原理解析：&lt;br&gt;&lt;a href=&quot;http://cdc.tencent.com/2012/06/15/高性能javascript模板引擎原理解析/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://cdc.tencent.com/2012/06/15/高性能javascript模板引擎原理解析/&lt;/a&gt;&lt;br&gt;4.官方示例：&lt;br&gt;&lt;a href=&quot;https://github.com/aui/artTemplate/tree/master/demo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/aui/artTemplate/tree/master/demo&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近要做一个小项目，不管是使用angularjs还是reactjs，都觉得大材小用了。其实我可能只需要引入一个jquery，但想到jquery对dom的操作，对于早已习惯了双向绑定模式的我，何尝不是一种痛苦。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="template" scheme="http://jartto.wang/tags/template/"/>
    
      <category term="模板引擎" scheme="http://jartto.wang/tags/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>机会推荐</title>
    <link href="http://jartto.wang/2016/09/13/jobs/"/>
    <id>http://jartto.wang/2016/09/13/jobs/</id>
    <published>2016-09-13T04:40:15.000Z</published>
    <updated>2016-09-13T02:51:34.000Z</updated>
    
    <content type="html">&lt;p&gt;帮朋友挂几条职位消息，感兴趣的朋友可以联系我哦～jartto@qq.com&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;职位一：高级web前端开发工程师&quot;&gt;&lt;a href=&quot;#职位一：高级web前端开发工程师&quot; class=&quot;headerlink&quot; title=&quot;职位一：高级web前端开发工程师&quot;&gt;&lt;/a&gt;职位一：高级web前端开发工程师&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;职位描述：&lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;负责活动平台的前端框架的设计。&lt;/li&gt;
&lt;li&gt;确保通过搭建的活动平台产出的活动页面，具有兼容性和高性能。&lt;/li&gt;
&lt;li&gt;跟踪前端技术发展方向，研究和掌握最新前端开发技术，带领团队出色完成任务并帮助团队成员成长。&lt;/li&gt;
&lt;li&gt;能够开发、搭建一些开发工具，提高整个团队的开发效率&lt;/li&gt;
&lt;li&gt;对一些常见的项目类型（如手机端H5/PC端电商平台，单页应用，内部系统等）能够给出完整的解决方案&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;任职要求：&lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;5年以上相关工作经验，精通各种前端技术，包括HTML/CSS/DOM、JavaScript、Ajax，熟悉 DIV CSS/CSS3布局、熟练传统dom主流框架及mvvm框架，而又不依赖框架。&lt;/li&gt;
&lt;li&gt;熟练使用各种脚本调试器、DOM查看器等定位问题，熟练使用各种工具检测web服务的性能和定位瓶颈。&lt;/li&gt;
&lt;li&gt;精通JS以及主流JS框架，熟悉jQuery, Angular JS, React JS等，熟悉SASS, LESS, Require JS, grunt, gulp 等工具，有Node JS 经验者优先考虑。&lt;/li&gt;
&lt;li&gt;具有对CSS/JavaScript性能优化、解决多浏览器兼容性的经验；能够对现有的前端架构提出优化建议和改进方案。&lt;/li&gt;
&lt;li&gt;有网页编辑器（如CKEditor）有开发经验者优先考虑。 &lt;/li&gt;
&lt;li&gt;对canvas,svg,vml,webgl有一定经验者优先考虑。&lt;/li&gt;
&lt;li&gt;有浏览器插件，gulp插件，sublime插件开发经验者优先考虑。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;职位二：高级JAVA工程师&quot;&gt;&lt;a href=&quot;#职位二：高级JAVA工程师&quot; class=&quot;headerlink&quot; title=&quot;职位二：高级JAVA工程师&quot;&gt;&lt;/a&gt;职位二：高级JAVA工程师&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;职位描述：&lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;负责互联网产品后端服务架构设计，要求系统具有可扩展性， 能够支持大量并发用户；&lt;/li&gt;
&lt;li&gt;根据产品需求完成服务端架构和模块设计、编码、测试以及文档编写等工作；&lt;/li&gt;
&lt;li&gt;解决规模增长带来的技术和业务问题，确保提供高可靠数据服务，保证系统稳定、高效运行；&lt;/li&gt;
&lt;li&gt;优化系统性能，保证服务器质量和性能。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;任职要求：&lt;/p&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;精通java编程，熟悉java sdk提供的主要能力;&lt;/li&gt;
&lt;li&gt;理解java运行时工作原理，熟悉jvm性能调优，能够充分利用java特性支持框架与程序库的设计开发;&lt;/li&gt;
&lt;li&gt;熟悉多线程编程，熟练使用java并发包下的各项常用基础设施;&lt;/li&gt;
&lt;li&gt;熟悉分布式系统的设计和应用，熟悉分布式、缓存、消息等机制；深入了解微服务架构；&lt;/li&gt;
&lt;li&gt;掌握多线程及高性能的设计与编码及性能调优；有高并发应用开发经验；&lt;/li&gt;
&lt;li&gt;能够熟练使用linux，能够利用常用的工具对程序进行跟踪诊断;&lt;/li&gt;
&lt;li&gt;有大数据应用开发经验，熟悉hadoop/hbase/hive/kafka/flume优先；&lt;/li&gt;
&lt;li&gt;喜欢去看及尝试最新的技术，追求编写优雅的代码，从技术趋势和思路上能影响技术团队;&lt;/li&gt;
&lt;li&gt;有知名互联网公司工作经验者优先。&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;帮朋友挂几条职位消息，感兴趣的朋友可以联系我哦～jartto@qq.com&lt;br&gt;
    
    </summary>
    
      <category term="职位推荐" scheme="http://jartto.wang/categories/%E8%81%8C%E4%BD%8D%E6%8E%A8%E8%8D%90/"/>
    
    
      <category term="job" scheme="http://jartto.wang/tags/job/"/>
    
  </entry>
  
  <entry>
    <title>走进svg</title>
    <link href="http://jartto.wang/2016/09/10/step-in-svg/"/>
    <id>http://jartto.wang/2016/09/10/step-in-svg/</id>
    <published>2016-09-10T12:45:50.000Z</published>
    <updated>2016-09-13T15:02:20.000Z</updated>
    
    <content type="html">&lt;p&gt;SVG 即 Scalable Vector Graphics，是一种用来绘制矢量图的 HTML5 标签。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;svg引入方式&quot;&gt;&lt;a href=&quot;#svg引入方式&quot; class=&quot;headerlink&quot; title=&quot;svg引入方式&quot;&gt;&lt;/a&gt;svg引入方式&lt;/h4&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- &amp;lt;embed&amp;gt; 标签被所有主流的浏览器支持，并允许使用脚本。pluginspage 属性指向下载插件的 URL --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;embed&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;rect.svg&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;image/svg+xml&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;pluginspage&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.adobe.com/svg/viewer/install/&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- &amp;lt;object&amp;gt; 标签是 HTML 4 的标准标签，被所有较新的浏览器支持。它的缺点是不允许使用脚本。codebase 属性指向下载插件的 URL。 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;rect.svg&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;image/svg+xml&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;codebase&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.adobe.com/svg/viewer/install/&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- &amp;lt;iframe&amp;gt; 标签可工作在大部分的浏览器中。 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;iframe&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;rect.svg&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;iframe&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;绘制一个圆：1-svg&quot;&gt;&lt;a href=&quot;#绘制一个圆：1-svg&quot; class=&quot;headerlink&quot; title=&quot;绘制一个圆：1.svg&quot;&gt;&lt;/a&gt;绘制一个圆：1.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;circle&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;r&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;40&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stroke&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stroke-width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;fill&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;red&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;矩形，透明度，圆角：2-svg&quot;&gt;&lt;a href=&quot;#矩形，透明度，圆角：2-svg&quot; class=&quot;headerlink&quot; title=&quot;矩形，透明度，圆角：2.svg&quot;&gt;&lt;/a&gt;矩形，透明度，圆角：2.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;250&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;250&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:blue;stroke:pink;stroke-width:5;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fill-opacity:0.1;stroke-opacity:0.9&quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--rx 和 ry 属性可使矩形产生圆角--&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;550&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;ry&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;250&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:red;stroke:black;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;stroke-width:5;opacity:0.5&quot;/&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;椭圆：3-svg&quot;&gt;&lt;a href=&quot;#椭圆：3-svg&quot; class=&quot;headerlink&quot; title=&quot;椭圆：3.svg&quot;&gt;&lt;/a&gt;椭圆：3.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 椭圆有不同的 x 和 y 半径，而圆的 x 和 y 半径是相同的 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ellipse&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;150&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;150&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;ry&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;80&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:rgb(200,100,50);stroke:rgb(0,0,100);stroke-width:2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;线条：4-svg&quot;&gt;&lt;a href=&quot;#线条：4-svg&quot; class=&quot;headerlink&quot; title=&quot;线条：4.svg&quot;&gt;&lt;/a&gt;线条：4.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 起点x1y1，终点x2y2 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x1&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y1&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x2&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y2&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;300&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stroke:rgb(99,99,99);stroke-width:2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;三角形，多边形：5-svg&quot;&gt;&lt;a href=&quot;#三角形，多边形：5-svg&quot; class=&quot;headerlink&quot; title=&quot;三角形，多边形：5.svg&quot;&gt;&lt;/a&gt;三角形，多边形：5.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 三角形 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;polygon&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;points&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;640,351 600,210 770,20&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:#FF9800; stroke:#795548;stroke-width:2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 四边形 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;polygon&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;points&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;420,100 500,210 410,320 323,234&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:#cccccc;stroke:#000000;stroke-width:1&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 五角星 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;polygon&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;points&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100,10 40,180 190,60 10,60 160,180&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:#F44336;stroke:#F44336;fill-rule:nonzero;&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;svg编辑器创建：6-svg&quot;&gt;&lt;a href=&quot;#svg编辑器创建：6-svg&quot; class=&quot;headerlink&quot; title=&quot;svg编辑器创建：6.svg&quot;&gt;&lt;/a&gt;svg编辑器创建：6.svg&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;通过AI钢笔工具绘制，导出svg格式&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;svg&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;version&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;1.1&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;图层_1&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3.org/2000/svg&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:xlink&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3.org/1999/xlink&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0px&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0px&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;viewBox&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0 0 960 560&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;enable-background:new 0 0 960 560;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xml:space&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;preserve&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;css&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-class&quot;&gt;.st0&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;fill&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#FFFFFF&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;stroke&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#000000&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;stroke-miterlimit&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;XMLID_1_&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;st0&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;d&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;M77,82c76.3,259.8,128.7,318.6,164,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    316c54.2-3.9,54.3-150.9,149-183c88.7-30.1,153.1,77.2,266,74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	c67.3-1.9,158.3-43.3,264-214&quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;svg&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;折线：7-svg&quot;&gt;&lt;a href=&quot;#折线：7-svg&quot; class=&quot;headerlink&quot; title=&quot;折线：7.svg&quot;&gt;&lt;/a&gt;折线：7.svg&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 折线，当然也可以画直线 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;polyline&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;points&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100,100 200,100 200,200 300,200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:white;stroke:red;stroke-width:2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;path应用：8-svg&quot;&gt;&lt;a href=&quot;#path应用：8-svg&quot; class=&quot;headerlink&quot; title=&quot;path应用：8.svg&quot;&gt;&lt;/a&gt;path应用：8.svg&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;M = moveto      &lt;/li&gt;
&lt;li&gt;L = lineto      &lt;/li&gt;
&lt;li&gt;H = horizontal lineto     &lt;/li&gt;
&lt;li&gt;V = vertical lineto     &lt;/li&gt;
&lt;li&gt;C = curveto     &lt;/li&gt;
&lt;li&gt;S = smooth curveto     &lt;/li&gt;
&lt;li&gt;Q = quadratic Belzier curve      &lt;/li&gt;
&lt;li&gt;T = smooth quadratic Belzier curveto      &lt;/li&gt;
&lt;li&gt;A = elliptical Arc     &lt;/li&gt;
&lt;li&gt;Z = closepath     &lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;d&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;M100 100 L200 100 L200 200 L300 200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:white;stroke:green;stroke-width:2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;滤镜使用：9-svg&quot;&gt;&lt;a href=&quot;#滤镜使用：9-svg&quot; class=&quot;headerlink&quot; title=&quot;滤镜使用：9.svg&quot;&gt;&lt;/a&gt;滤镜使用：9.svg&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;feBlend      &lt;/li&gt;
&lt;li&gt;feColorMatrix      &lt;/li&gt;
&lt;li&gt;feComponentTransfer     &lt;/li&gt;
&lt;li&gt;feComposite    &lt;/li&gt;
&lt;li&gt;feConvolveMatrix    &lt;/li&gt;
&lt;li&gt;feDiffuseLighting       &lt;/li&gt;
&lt;li&gt;feDisplacementMap      &lt;/li&gt;
&lt;li&gt;feFlood        &lt;/li&gt;
&lt;li&gt;feGaussianBlur     &lt;/li&gt;
&lt;li&gt;feImage     &lt;/li&gt;
&lt;li&gt;feMerge    &lt;/li&gt;
&lt;li&gt;feMorphology    &lt;/li&gt;
&lt;li&gt;feOffset     &lt;/li&gt;
&lt;li&gt;feSpecularLighting    &lt;/li&gt;
&lt;li&gt;feTile    &lt;/li&gt;
&lt;li&gt;feTurbulence    &lt;/li&gt;
&lt;li&gt;feDistantLight    &lt;/li&gt;
&lt;li&gt;fePointLight       &lt;/li&gt;
&lt;li&gt;feSpotLight       &lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;filter&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Gaussian_Blur&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;feGaussianBlur&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;in&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;SourceGraphic&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stdDeviation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;3&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;filter&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ellipse&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;150&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;70&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;ry&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;40&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:#9acd32;stroke:#ccc;stroke-width:2;filter:url(#Gaussian_Blur)&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; 1.&lt;filter&gt; 标签的 id 属性可为滤镜定义一个唯一的名称（同一滤镜可被文档中的多个元素使用）&lt;br&gt; 2.filter:url 属性用来把元素链接到滤镜。当链接滤镜 id 时，必须使用 # 字符&lt;br&gt; 3.滤镜效果是通过 &lt;fegaussianblur&gt; 标签进行定义的。fe 后缀可用于所有的滤镜&lt;br&gt; 4.&lt;fegaussianblur&gt; 标签的 stdDeviation 属性可定义模糊的程度&lt;br&gt; 5.in=”SourceGraphic” 这个部分定义了由整个图像创建效果    &lt;/fegaussianblur&gt;&lt;/fegaussianblur&gt;&lt;/filter&gt;&lt;/p&gt;
&lt;h4 id=&quot;线性渐变，放射性渐变：10-svg&quot;&gt;&lt;a href=&quot;#线性渐变，放射性渐变：10-svg&quot; class=&quot;headerlink&quot; title=&quot;线性渐变，放射性渐变：10.svg&quot;&gt;&lt;/a&gt;线性渐变，放射性渐变：10.svg&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;当 y1 和 y2 相等，而 x1 和 x2 不同时，可创建水平渐变&lt;/li&gt;
&lt;li&gt;当 x1 和 x2 相等，而 y1 和 y2 不同时，可创建垂直渐变&lt;/li&gt;
&lt;li&gt;当 x1 和 x2 不同，且 y1 和 y2 不同时，可创建角形渐变&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 线性渐变 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;linearGradient&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;orange_red&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x1&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y1&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;x2&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;y2&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100%&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;stop&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;offset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stop-color:rgb(255,255,0);stop-opacity:1&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;stop&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;offset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stop-color:rgb(255,0,0);stop-opacity:0.5&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;linearGradient&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ellipse&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;190&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;85&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;ry&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;55&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:url(#orange_red)&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;lineargradient&gt; 标签的 id 属性可为渐变定义一个唯一的名称&lt;/lineargradient&gt;&lt;/li&gt;
&lt;li&gt;fill:url(#orange_red) 属性把 ellipse 元素链接到此渐变&lt;/li&gt;
&lt;li&gt;&lt;lineargradient&gt; 标签的 x1、x2、y1、y2 属性可定义渐变的开始和结束位置&lt;/lineargradient&gt;&lt;/li&gt;
&lt;li&gt;渐变的颜色范围可由两种或多种颜色组成。每种颜色通过一个 &lt;stop&gt;&lt;/stop&gt; 标签来规定。offset 属性用来定义渐变的开始和结束位置。&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- cx,cy确定迳向的水平和垂直位置 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;radialGradient&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;grey_blue&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;r&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;fx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;fy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;50%&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;stop&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;offset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stop-color:rgb(200,200,200);stop-opacity:0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;stop&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;offset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100%&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stop-color:rgb(0,0,255);stop-opacity:0.8&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;radialGradient&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;defs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ellipse&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;500&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;cy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;110&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;ry&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill:url(#grey_blue)&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;demo地址&quot;&gt;&lt;a href=&quot;#demo地址&quot; class=&quot;headerlink&quot; title=&quot;demo地址&quot;&gt;&lt;/a&gt;demo地址&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/chenfengyanyu/svg&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/chenfengyanyu/svg&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考资料：&lt;br&gt;w3school:&lt;br&gt;&lt;a href=&quot;http://www.w3school.com.cn/svg/index.asp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.w3school.com.cn/svg/index.asp&lt;/a&gt;&lt;br&gt;svg类库snap.svg.js，像操作dom一样操作svg资源&lt;br&gt;&lt;a href=&quot;http://snapsvg.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://snapsvg.io&lt;/a&gt;&lt;br&gt;基本的svg动画&lt;br&gt;&lt;a href=&quot;https://msdn.microsoft.com/zh-cn/library/gg193979&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://msdn.microsoft.com/zh-cn/library/gg193979&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;SVG 即 Scalable Vector Graphics，是一种用来绘制矢量图的 HTML5 标签。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="svg" scheme="http://jartto.wang/tags/svg/"/>
    
  </entry>
  
  <entry>
    <title>安装Homebrew异常处理</title>
    <link href="http://jartto.wang/2016/09/08/exception-of-the-homebrew-installation/"/>
    <id>http://jartto.wang/2016/09/08/exception-of-the-homebrew-installation/</id>
    <published>2016-09-08T06:28:31.000Z</published>
    <updated>2016-09-08T16:00:21.000Z</updated>
    
    <content type="html">&lt;p&gt;mac上面安装程序一般都很顺畅，但是今天想借助homebrew安装mongodb的时候，却出现了罕见的问题。如果你恰巧碰到了这个问题，不用找了，正解在这里！&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、安装homebrew&quot;&gt;&lt;a href=&quot;#一、安装homebrew&quot; class=&quot;headerlink&quot; title=&quot;一、安装homebrew&quot;&gt;&lt;/a&gt;一、安装homebrew&lt;/h4&gt;&lt;p&gt;打开&lt;a href=&quot;http://brew.sh/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网&lt;/a&gt;，这里以mac环境示例，命令行输入：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/usr/bin/ruby &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;并没有预期中的成功，控制台出现了这样的错误：&lt;br&gt;&lt;div class=&quot;alert danger&quot;&gt;&lt;p&gt;It appears Homebrew is already installed. If your intent is to reinstall you&lt;br&gt;should do the following before running this installer again:&lt;br&gt;    ruby -e “$(curl -fsSL &lt;a href=&quot;https://raw.githubusercontent.com/Homebrew/install/master/uninstall&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://raw.githubusercontent.com/Homebrew/install/master/uninstall&lt;/a&gt;)”&lt;br&gt;The current contents of /usr/local are bin Cellar CODEOFCONDUCT.md etc git include lib Library LICENSE.txt mysql mysql-5.7.12-osx10.11-x86_64 opt README.md share var .git .github .gitignore&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、尝试方案&quot;&gt;&lt;a href=&quot;#二、尝试方案&quot; class=&quot;headerlink&quot; title=&quot;二、尝试方案&quot;&gt;&lt;/a&gt;二、尝试方案&lt;/h4&gt;&lt;p&gt;有点莫名其妙😱，我之前是没有安装过homebrew。难道是我另一台电脑上迁移助手迁移过来的？&lt;/p&gt;
&lt;p&gt;不管那么多了，先按照提示的日志试一试：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ruby &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;执行之后，还是有错误，我们来看看细节：&lt;br&gt;&lt;div class=&quot;alert danger&quot;&gt;&lt;p&gt;You may consider to remove them by yourself.&lt;br&gt;You may want to restore /usr/local’s original permissions&lt;br&gt;  sudo chmod 0755 /usr/local&lt;br&gt;  sudo chown root:wheel /usr/local&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;真是可恶，日志中又给出了解决方案，我这种性格肯定是要试试的：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo chmod 0755 /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo chown root:wheel /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台一闪而过，并没有抛出任何问题，难道我成功了？&lt;br&gt;&lt;div class=&quot;alert danger&quot;&gt;&lt;p&gt;It appears Homebrew is already installed. If your intent is to reinstall you&lt;br&gt;should do the following before running this installer again:&lt;br&gt;    ruby -e “$(curl -fsSL &lt;a href=&quot;https://raw.githubusercontent.com/Homebrew/install/master/uninstall&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://raw.githubusercontent.com/Homebrew/install/master/uninstall&lt;/a&gt;)”&lt;br&gt;The current contents of /usr/local are bin Cellar CODEOFCONDUCT.md etc git include lib Library LICENSE.txt mysql mysql-5.7.12-osx10.11-x86_64 opt README.md share var .git .github .gitignore&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、柳暗花明又一村&quot;&gt;&lt;a href=&quot;#三、柳暗花明又一村&quot; class=&quot;headerlink&quot; title=&quot;三、柳暗花明又一村&quot;&gt;&lt;/a&gt;三、柳暗花明又一村&lt;/h4&gt;&lt;p&gt;又回到了原点，日志提示我homebrew已经安装了，那我来试试：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew -v&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台输出了：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Homebrew 0.9.5 (git revision 468a; last commit 2016-03-02)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;是安装好了么，内心有些小激动？&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew update&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;控制台彻底怒了，直接抛出了error：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Error: /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt; must be writable!&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;是不是不能更新呢，也许可以安装，我又试了一下：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew install mongodb&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;又换了一个马甲，控制台依旧没给我好脸色看：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Error: Cannot write to /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/Cellar&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、终级方案&quot;&gt;&lt;a href=&quot;#四、终级方案&quot; class=&quot;headerlink&quot; title=&quot;四、终级方案&quot;&gt;&lt;/a&gt;四、终级方案&lt;/h4&gt;&lt;p&gt;当然，mac上装不上homebrew肯定是不能忍的，是时候请出google了。这里就不细说一些失败的尝试了，我们直接来看&lt;a href=&quot;https://github.com/Homebrew/legacy-homebrew/issues/49895&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;正解&lt;/a&gt;：&lt;/p&gt;
&lt;p&gt;对，没错，就是这两行命令：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo chgrp -R admin /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo chmod -R g+w /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;真是药到病除啊，就这样，我顺利的执行了如下命令：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew update&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;brew mongodb&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;哈哈，怎一个爽字了得～🙈&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;mac上面安装程序一般都很顺畅，但是今天想借助homebrew安装mongodb的时候，却出现了罕见的问题。如果你恰巧碰到了这个问题，不用找了，正解在这里！&lt;br&gt;
    
    </summary>
    
      <category term="异常处理" scheme="http://jartto.wang/categories/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"/>
    
    
      <category term="homebrew" scheme="http://jartto.wang/tags/homebrew/"/>
    
  </entry>
  
  <entry>
    <title>web font 终极解决方案</title>
    <link href="http://jartto.wang/2016/09/04/final-solution-of-the-web-font/"/>
    <id>http://jartto.wang/2016/09/04/final-solution-of-the-web-font/</id>
    <published>2016-09-04T09:19:15.000Z</published>
    <updated>2016-09-08T15:36:51.000Z</updated>
    
    <content type="html">&lt;p&gt;绝大多数情况下，我们在网页开发中都要使用web安全字体。高傲的设计师肯定不局限于安全字体，那么问题来了：我们如何保证客户端对字体的显示一致性，本文对此进行深入探讨。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;我们从头说起，设计师要求使用苹方字体，可是这并不是一个web安全字体。这意味着，如果客户端没有该字体库，那么我们的用户将看到一些默认字体，这违背了我们最初“显示一致性”的美好愿景。&lt;/p&gt;
&lt;p&gt;怎么办，关于这个问题，我做出了以下尝试。&lt;/p&gt;
&lt;h4 id=&quot;一、查找方案&quot;&gt;&lt;a href=&quot;#一、查找方案&quot; class=&quot;headerlink&quot; title=&quot;一、查找方案&quot;&gt;&lt;/a&gt;一、查找方案&lt;/h4&gt;&lt;p&gt;不是什么大问题，先百度一下，很快我查到了某中文字库，大致用法如下：&lt;br&gt;先引入js类库&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;//cdn.webfont.youziku.com/wwwroot/js/wf/youziku.api.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嵌入如下js代码片段：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;javascript&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   $youziku.load(&lt;span class=&quot;string&quot;&gt;&quot;body&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;e1a2967b916d487f9814ebca91628dc1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;PingFangSC_L&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   $youziku.draw();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;效果是达到了，可是当看到要收费的时候，我已经不爱你了👻。&lt;/p&gt;
&lt;p&gt;第三方的方案还要收费，显然并不完美。那怎么办，一定还有其他方案，我们继续搜索。&lt;/p&gt;
&lt;h4 id=&quot;二、下载字体&quot;&gt;&lt;a href=&quot;#二、下载字体&quot; class=&quot;headerlink&quot; title=&quot;二、下载字体&quot;&gt;&lt;/a&gt;二、下载字体&lt;/h4&gt;&lt;p&gt;找个免费的试试？好吧，去下载苹方字体，我自己引入字体包。结果却找不到下载的链接😅，全是广告，广告，广告。。。&lt;/p&gt;
&lt;p&gt;内事不决问百度，外事不决问谷歌。果然，捕获到三个网站：&lt;br&gt;1.&lt;a href=&quot;http://www.google.com/webfonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.google.com/webfonts&lt;/a&gt;&lt;br&gt;2.&lt;a href=&quot;http://www.dafont.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.dafont.com&lt;/a&gt;&lt;br&gt;3.&lt;a href=&quot;http://priguy.com/pingfang-fonts-download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://priguy.com/pingfang-fonts-download/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如愿以偿的找到了苹方的下载地址，天无绝人之路啊！&lt;/p&gt;
&lt;p&gt;历尽千辛万苦，总算找到了一个苹方字体库。下载之后发现文件后缀是ttf，浏览器中加载不出来。。。&lt;/p&gt;
&lt;p&gt;可以从css的使用方式中看出端倪：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;font-face&lt;/span&gt; &amp;#123;&lt;span class=&quot;attribute&quot;&gt;font-family&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;iconfont&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;src&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.eot&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;/* IE9*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;src&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.eot?#iefix&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;embedded-opentype&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* IE6-IE8 */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.woff&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;woff&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* chrome、firefox */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.ttf&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;truetype&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;/* chrome、firefox、opera、Safari, Android, iOS 4.2+*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fonts/iconfont.svg#iconfont&#39;&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;svg&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;/* iOS 4.1- */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;于是乎，我又想着有没有一个在线工具可以将ttf转化成woff，那这样问题就迎刃而解了。&lt;/p&gt;
&lt;h4 id=&quot;三、字体转换&quot;&gt;&lt;a href=&quot;#三、字体转换&quot; class=&quot;headerlink&quot; title=&quot;三、字体转换&quot;&gt;&lt;/a&gt;三、字体转换&lt;/h4&gt;&lt;p&gt;继续探索，翻到了一些中文字体提供商，没准有解决方案呢。&lt;br&gt;&lt;a href=&quot;https://www.justfont.com/fonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.justfont.com/fonts&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;好吧，都是vip，除了收费，你们还能干啥？&lt;/p&gt;
&lt;p&gt;web中font-face中文字体如何截取使用？&lt;br&gt;&lt;a href=&quot;http://www.zhihu.com/question/40098697&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zhihu.com/question/40098697&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;不知道这哥们对回答满意不，反正我觉得没啥用。&lt;/p&gt;
&lt;p&gt;好不容易找到一个可以转化字体的网站，结果告诉我这个：&lt;br&gt;&lt;a href=&quot;https://everythingfonts.com/ttf-to-woff&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://everythingfonts.com/ttf-to-woff&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/ttf2woff.png&quot; alt=&quot;ttf-to-woff&quot;&gt;&lt;br&gt;找了一圈，大致问题如下：&lt;br&gt;1.文件太大的不能转换（下载到的苹方ttf为11M）；&lt;br&gt;2.只支持英文转换，中文的字体不能转换；&lt;br&gt;3.可以转换，但需要付费下载的；&lt;/p&gt;
&lt;p&gt;显然我并不满意，看来还得继续，到底别人是怎么实现的：&lt;a href=&quot;https://www.pingxx.com/?from=1&amp;amp;desc=baidu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;譬如这个网站&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、终级解决方案&quot;&gt;&lt;a href=&quot;#四、终级解决方案&quot; class=&quot;headerlink&quot; title=&quot;四、终级解决方案&quot;&gt;&lt;/a&gt;四、终级解决方案&lt;/h4&gt;&lt;p&gt;真是太失望了，不就是想转换一下字体吗，没一个靠谱的。那我自己来搞，是时候展现真正的技术了～&lt;/p&gt;
&lt;p&gt;大致思路如下，这里我借助了开源项目fontmin（&lt;a href=&quot;https://github.com/ecomfe/fontmin&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）：&lt;br&gt;1.加载fontmin；&lt;br&gt;2.指定转换文件，并指定输出目录，如果没有则创建；&lt;br&gt;3.转换为eot、woff以及svg格式输出；&lt;br&gt;4.svg格式文件较大，借助imagemin（&lt;a href=&quot;https://github.com/imagemin/imagemin-svgo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）对其进行压缩处理，之后输出；&lt;/p&gt;
&lt;p&gt;我们创建index.js，如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; Fontmin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fontmin&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; imagemin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;imagemin&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; svgo = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;imagemin-svgo&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; fontmin = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Fontmin()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .src(&lt;span class=&quot;string&quot;&gt;&#39;PingFang-Light.ttf&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .dest(&lt;span class=&quot;string&quot;&gt;&#39;build/&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2eot())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2woff(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        deflate: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .use(Fontmin.ttf2svg());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//压缩svg图片&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    imagemin([&lt;span class=&quot;string&quot;&gt;&#39;build/*.svg&#39;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&#39;build/optimize&#39;&lt;/span&gt;, &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        use: [svgo()]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;).then(() =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Images optimized&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fontmin.run(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;err, files&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (err) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; err;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(files[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// =&amp;gt; &amp;#123; contents: &amp;lt;Buffer 00 01 00 ...&amp;gt; &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;嗯，看起来不错，终于实现了。你可以去github上面clone该项目（&lt;a href=&quot;https://github.com/chenfengyanyu/web-font-convert&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;），最好能给个星哦😍&lt;/p&gt;
&lt;p&gt;到这里，我觉得还有瑕疵。ttf大小为11M，转换的woff大小为7M左右，那么我们网页引用，会不会加载不起来呢？&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont1.png&quot; alt=&quot;font_console&quot;&gt;&lt;/p&gt;
&lt;p&gt;看起来好像也不是什么问题了。&lt;/p&gt;
&lt;p&gt;那如果我们追求极致的体验呢，如何对字体压缩？也就是精简字体包，那该如何操作？&lt;/p&gt;
&lt;h4 id=&quot;五、字体精简与压缩&quot;&gt;&lt;a href=&quot;#五、字体精简与压缩&quot; class=&quot;headerlink&quot; title=&quot;五、字体精简与压缩&quot;&gt;&lt;/a&gt;五、字体精简与压缩&lt;/h4&gt;&lt;p&gt;踏破铁鞋无觅处，得来全不费功夫。关于字体压缩，我找到了这个：&lt;br&gt;&lt;a href=&quot;https://github.com/aui/font-spider&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;字蛛&lt;/a&gt;是一个智能 WebFont 压缩工具，它能自动分析出页面使用的 WebFont 并进行按需压缩。&lt;/p&gt;
&lt;p&gt;我们先来安装：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;npm install font-spider -g&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;找到html文件目录，运行：&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;font-spider zh/*.html&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;来看看效果：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont2.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;压缩前后，文件大小对比&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont3.png&quot; alt=&quot;font_console&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;注意：字蛛会分析页面使用的webfont，也就意味着他只抓取静态页面的font&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;看起来不错，可是，这又是什么鬼：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont4.png&quot; alt=&quot;webfont&quot;&gt;&lt;br&gt;部分空格被替换成了！号，这肯定是零容忍啊，怎么办?&lt;/p&gt;
&lt;h4 id=&quot;六、意外收获&quot;&gt;&lt;a href=&quot;#六、意外收获&quot; class=&quot;headerlink&quot; title=&quot;六、意外收获&quot;&gt;&lt;/a&gt;六、意外收获&lt;/h4&gt;&lt;p&gt;解决方案：&lt;a href=&quot;https://github.com/aui/font-spider/issues/102&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/aui/font-spider/issues/102&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;正愁字体文件无法编辑呢，结果发现了&lt;a href=&quot;http://font.baidu.com/editor/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;某度字体编辑器&lt;/a&gt;，来试试这个：（建议使用chrome浏览器，safari浏览器保存会出异常）&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont5.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;删除！号，我们重新保存，引入字体，刷新一下：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/webfont6.png&quot; alt=&quot;font_console&quot;&gt;&lt;br&gt;整个世界都豁然明亮了！&lt;/p&gt;
&lt;h4 id=&quot;八、font资源库&quot;&gt;&lt;a href=&quot;#八、font资源库&quot; class=&quot;headerlink&quot; title=&quot;八、font资源库&quot;&gt;&lt;/a&gt;八、font资源库&lt;/h4&gt;&lt;p&gt;1.字蛛&lt;br&gt;&lt;a href=&quot;http://font-spider.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://font-spider.org&lt;/a&gt;&lt;br&gt;2.fonts.com&lt;br&gt;&lt;a href=&quot;https://www.fonts.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.fonts.com&lt;/a&gt;&lt;br&gt;3.某中文字库&lt;br&gt;&lt;a href=&quot;http://www.youziku.com/webfont/index/47066&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.youziku.com/webfont/index/47066&lt;/a&gt;&lt;br&gt;4.google到的资源&lt;br&gt;&lt;a href=&quot;http://www.google.com/webfonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.google.com/webfonts&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.dafont.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.dafont.com&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;绝大多数情况下，我们在网页开发中都要使用web安全字体。高傲的设计师肯定不局限于安全字体，那么问题来了：我们如何保证客户端对字体的显示一致性，本文对此进行深入探讨。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="font" scheme="http://jartto.wang/tags/font/"/>
    
      <category term="web" scheme="http://jartto.wang/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>js动画库推荐</title>
    <link href="http://jartto.wang/2016/08/23/js-animation-library-recommendation/"/>
    <id>http://jartto.wang/2016/08/23/js-animation-library-recommendation/</id>
    <published>2016-08-23T15:25:45.000Z</published>
    <updated>2016-09-06T02:13:24.000Z</updated>
    
    <content type="html">&lt;p&gt;想在页面中加入一个动态粒子效果，翻阅了很多资料，尝试了很多效果，然而UE并不是十分满意。虽然任务还没有完成，但是却意外发现了一些比较有意思的js动画库，特此分享出来。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、js物理引擎&quot;&gt;&lt;a href=&quot;#一、js物理引擎&quot; class=&quot;headerlink&quot; title=&quot;一、js物理引擎&quot;&gt;&lt;/a&gt;一、js物理引擎&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://wellcaffeinated.net/PhysicsJS/#demo-6&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://wellcaffeinated.net/PhysicsJS/#demo-6&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_1&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_1&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、svg动画库&quot;&gt;&lt;a href=&quot;#二、svg动画库&quot; class=&quot;headerlink&quot; title=&quot;二、svg动画库&quot;&gt;&lt;/a&gt;二、svg动画库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://dynamicsjs.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dynamicsjs.com&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_2&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_2&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、d3图表插件库&quot;&gt;&lt;a href=&quot;#三、d3图表插件库&quot; class=&quot;headerlink&quot; title=&quot;三、d3图表插件库&quot;&gt;&lt;/a&gt;三、d3图表插件库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/d3/d3/wiki/Gallery&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/d3/d3/wiki/Gallery&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_3&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_3&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、js专用图形绘制类库&quot;&gt;&lt;a href=&quot;#四、js专用图形绘制类库&quot; class=&quot;headerlink&quot; title=&quot;四、js专用图形绘制类库&quot;&gt;&lt;/a&gt;四、js专用图形绘制类库&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://sigmajs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sigmajs.org&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_4&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_4&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、3d力导向图&quot;&gt;&lt;a href=&quot;#五、3d力导向图&quot; class=&quot;headerlink&quot; title=&quot;五、3d力导向图&quot;&gt;&lt;/a&gt;五、3d力导向图&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://vida.io/documents/N4jSip7n68yQ48DXp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://vida.io/documents/N4jSip7n68yQ48DXp&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_5&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_5&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、jquery插件，粒子动态背景插件&quot;&gt;&lt;a href=&quot;#六、jquery插件，粒子动态背景插件&quot; class=&quot;headerlink&quot; title=&quot;六、jquery插件，粒子动态背景插件&quot;&gt;&lt;/a&gt;六、jquery插件，粒子动态背景插件&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://www.jqcool.net/demo/201409/jquery-particleground/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jqcool.net/demo/201409/jquery-particleground/&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_6&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_6&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、可交互的粒子背景插件1&quot;&gt;&lt;a href=&quot;#七、可交互的粒子背景插件1&quot; class=&quot;headerlink&quot; title=&quot;七、可交互的粒子背景插件1&quot;&gt;&lt;/a&gt;七、可交互的粒子背景插件1&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://p5js.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://p5js.org&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_7&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_7&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;八、可交互的粒子背景插件2&quot;&gt;&lt;a href=&quot;#八、可交互的粒子背景插件2&quot; class=&quot;headerlink&quot; title=&quot;八、可交互的粒子背景插件2&quot;&gt;&lt;/a&gt;八、可交互的粒子背景插件2&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://www.htmleaf.com/Demo/201506182061.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.htmleaf.com/Demo/201506182061.html&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:350px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_8&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/phy_8&quot; style=&quot;width:350px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;当然，还有很多此类动画库，以后我会持续补充的～&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;想在页面中加入一个动态粒子效果，翻阅了很多资料，尝试了很多效果，然而UE并不是十分满意。虽然任务还没有完成，但是却意外发现了一些比较有意思的js动画库，特此分享出来。&lt;br&gt;
    
    </summary>
    
      <category term="前端分享" scheme="http://jartto.wang/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="animation" scheme="http://jartto.wang/tags/animation/"/>
    
      <category term="svg" scheme="http://jartto.wang/tags/svg/"/>
    
  </entry>
  
  <entry>
    <title>如何检测页面滚动并执行动画</title>
    <link href="http://jartto.wang/2016/08/18/detect-page-scroll-and-execute-animation/"/>
    <id>http://jartto.wang/2016/08/18/detect-page-scroll-and-execute-animation/</id>
    <published>2016-08-18T03:17:06.000Z</published>
    <updated>2016-09-05T15:03:30.000Z</updated>
    
    <content type="html">&lt;p&gt;H5页面动画，在推广运营中应用的相当广泛。越是酷炫的动画，越能吸引用户。动画当然算是比较重要的一个环节，除此之外不得不提到的就是－动画滚动交互效果。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、每个section怎样单独执行动画？&quot;&gt;&lt;a href=&quot;#一、每个section怎样单独执行动画？&quot; class=&quot;headerlink&quot; title=&quot;一、每个section怎样单独执行动画？&quot;&gt;&lt;/a&gt;一、每个section怎样单独执行动画？&lt;/h4&gt;&lt;p&gt;首先，引入动画库，这里我们使用animate.css（&lt;a href=&quot;https://daneden.github.io/animate.css/?&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;）&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;css/animate.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;请注意：如果你只用了少量动画效果，请直接拷贝具体动画代码，而不再引入整个动画库。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;其次，像往常一样编写你的html代码：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos bounce_in_down&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bounce_in_right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	&lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我们来简单说一下这里的处理细节：&lt;br&gt;1.我们为#left，#right容器添加了animate类；&lt;br&gt;2.为animate子容器分别添加了bounce_in_down，bounce_in_right类；&lt;/p&gt;
&lt;p&gt;接下来，我们来处理一下动画细节：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式一*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;animation-play-state&lt;/span&gt;: paused;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation-play-state&lt;/span&gt;:paused;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;animation-play-state&lt;/span&gt;: running;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation-play-state&lt;/span&gt;:running;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式二*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*方式三*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: none;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.animate&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*动画类，此处举一个栗子，请确保bounceInDown动画已经引入*/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.play&lt;/span&gt; &lt;span class=&quot;selector-class&quot;&gt;.bounce_in_down&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-animation&lt;/span&gt;:bounceInDown &lt;span class=&quot;number&quot;&gt;2s&lt;/span&gt; ease-in-out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;上面列举了三种方式，方式一主要是先暂停动画，等待运行时机。方式二，三先隐藏元素，激活后，显示元素。&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;个人比较推荐第一种和第二种方式，第三种方式元素容器会变化，某种情况下会引起不必要的问题。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;这里着重说明一下play类，我们暂且称它为动画触发类。思路就是，需要运行动画的元素添加animate类，先做暂停处理；当需要激活该元素动画的时候，为其父元素添加play类，从而触发动画运行。&lt;/p&gt;
&lt;p&gt;很好，动画也可以触发了，那么最重要的运行时机怎么确定？下面我来介绍一下，滚动触发动画运行的方式。&lt;/p&gt;
&lt;h4 id=&quot;二、如何检测页面滚动到了哪个section容器？&quot;&gt;&lt;a href=&quot;#二、如何检测页面滚动到了哪个section容器？&quot; class=&quot;headerlink&quot; title=&quot;二、如何检测页面滚动到了哪个section容器？&quot;&gt;&lt;/a&gt;二、如何检测页面滚动到了哪个section容器？&lt;/h4&gt;&lt;p&gt;场景：页面分为多个section，我要实现，页面滚动到具体哪个section，为其添加play类。&lt;/p&gt;
&lt;p&gt;方案一：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scroll(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; scroll = $(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scrollTop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Do something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(scroll);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;检测滚动的高度，然后取页面每个section位置，放入数组，如果当前滚动高度在section某个区间，那么就为其添加play类；&lt;/p&gt;
&lt;p&gt;可是感觉比较麻烦，看看有没有其他好的办法。继续寻找方案二。。。。&lt;/p&gt;
&lt;p&gt;方案二：&lt;br&gt;借助插件，实现监听滚动&lt;a href=&quot;https://edull24.github.io/ScrollWatch/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;&lt;br&gt;还是上面的html结构：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-scroll-watch&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos bounce_in_down&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;animate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bounce_in_right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;section部分添加了data-scroll-watch，这就告诉了ScrollWatch，此部分需要做滚动监听。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;接下来，你需要初始化ScrollWatch插件，并做一些简单的配置调整。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sw = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ScrollWatch(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	watchOnce: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	infiniteScroll: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	infiniteOffset: &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	inViewClass: &lt;span class=&quot;string&quot;&gt;&#39;play&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	onElementInView: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;comment&quot;&gt;// console.log(data.el, &#39;...is now in view&#39;);&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;哈哈，大家可能看出来了，方案二就是偷懒模式🙈。我们借助scrollwatch来完成，详细信息请查看api。&lt;/p&gt;
&lt;h4 id=&quot;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot;&gt;&lt;a href=&quot;#三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot; class=&quot;headerlink&quot; title=&quot;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&quot;&gt;&lt;/a&gt;三、继续升级：section进入视口，执行动画；section滚出视口，反向执行动画？&lt;/h4&gt;&lt;p&gt;交互师又提出了一个需求：&lt;br&gt;当滚动到该区域时，动画执行；当该区域离开视图区域时，动画反向执行。我们接受挑战，看看如何实现。&lt;/p&gt;
&lt;p&gt;第一反应当然是看看有没有现成的插件，这样可以省去重复造轮子的时间成本。很幸运，我看到了这篇文章&lt;a href=&quot;http://www.jq22.com/jquery-info499&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;jQuery Smoove-华丽的CSS3滚动效果&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;嗯，jquery smoove是个不错的方案。&lt;br&gt;&lt;div class=&quot;alert warning&quot;&gt;&lt;p&gt;注意：jquery smoove为另外一种实现方式，与之前说的上文没有任何关系！&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;首先：引入类库，请先引入jquery文件。&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery-smoove/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;0.2.6/jquery.smoove.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我们对上面的html结构做一下简单的调整：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;   &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wan_banner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;warp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;my_animate&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-move-x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;-100px&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;pos&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;α Space 物联网基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;革命性通信技术&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;超低功耗传感器网络基站&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;i&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;my_animate&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-move-x&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../image/product2.png&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;406&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;jquery smoove帮我们做好了动画，我们只需要为其添加特定属性。&lt;/p&gt;
&lt;p&gt;请注意：#left和#right的容器内部已经变成了my_animate类，同时添加了data-move-x=”-100px”和data-move-x=”100px”语法。&lt;/p&gt;
&lt;p&gt;用插件，肯定需要做一些初始化工作：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	$(&lt;span class=&quot;string&quot;&gt;&#39;.my_animate&#39;&lt;/span&gt;).smoove(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		offset  : &lt;span class=&quot;string&quot;&gt;&#39;45%&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当该元素滚动到距离视口底部45%距离时，触发动画。更多的动画效果，请查看&lt;a href=&quot;https://github.com/abeMedia/jquery-smoove&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;jquery-smoove文档地址&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;到这里，整个处理方式应该很明晰了吧，希望能够帮到你。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;H5页面动画，在推广运营中应用的相当广泛。越是酷炫的动画，越能吸引用户。动画当然算是比较重要的一个环节，除此之外不得不提到的就是－动画滚动交互效果。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="滚动监听" scheme="http://jartto.wang/tags/%E6%BB%9A%E5%8A%A8%E7%9B%91%E5%90%AC/"/>
    
      <category term="动画" scheme="http://jartto.wang/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="scroll" scheme="http://jartto.wang/tags/scroll/"/>
    
      <category term="animation" scheme="http://jartto.wang/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>将html转化成markdown文档</title>
    <link href="http://jartto.wang/2016/08/11/convert-html-into-markdown/"/>
    <id>http://jartto.wang/2016/08/11/convert-html-into-markdown/</id>
    <published>2016-08-11T15:55:46.000Z</published>
    <updated>2016-09-01T02:55:25.000Z</updated>
    
    <content type="html">&lt;p&gt;当我们需要去写大量的技术文档的时候，你肯定不愿意用html一个个页面去写，然后再去调样式。那么简洁高效的markdown语法，你不仿试试。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这里我们不再介绍markdown语法，如果你还不了解，点击这里&lt;a href=&quot;http://jartto.wang/2015/07/05/Comprehension-of-Markdown-Grammatical-Structure/&quot;&gt;Markdown语法浅析&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;好了，进入正题，我们来搞一件比较有趣的事情。&lt;/p&gt;
&lt;h4 id=&quot;一、html语法转化成markdown显示&quot;&gt;&lt;a href=&quot;#一、html语法转化成markdown显示&quot; class=&quot;headerlink&quot; title=&quot;一、html语法转化成markdown显示&quot;&gt;&lt;/a&gt;一、html语法转化成markdown显示&lt;/h4&gt;&lt;p&gt;首先，你需要引入markdown.css&lt;a href=&quot;https://github.com/mrcoles/markdown-css/blob/master/markdown.css&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../css/markdown.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其次，照常编写你的html代码&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;第一部分&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;hr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;注意事项&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;hello jartto&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;打开摇一摇：&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;超链接&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;alert alert-info&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;role&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;alert&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;当云子完成部署后，进入开发阶段。这里我们通常会有三个需求：获取云子设备的部署位置及相关配置的信息，批量修改云子设备的一些配置如UUID、功率、频率、密码等，检测配置是否正确。&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后，我们来看一下效果：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md.png&quot; alt=&quot;html2md&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、html显示成类似-Markdown-纯文本的形式&quot;&gt;&lt;a href=&quot;#二、html显示成类似-Markdown-纯文本的形式&quot; class=&quot;headerlink&quot; title=&quot;二、html显示成类似 Markdown 纯文本的形式&quot;&gt;&lt;/a&gt;二、html显示成类似 Markdown 纯文本的形式&lt;/h4&gt;&lt;p&gt;markdown.css&lt;a href=&quot;http://mrcoles.com/demo/markdown-css/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; 是一个很有意思的 CSS 样式表。它可以让 html 显示成类似 markdown 纯文本的形式。&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;请注意和标题一中的markdown.css区别&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;用法类似，首先引入markdown.css文件；&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;../css/markdown.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其次，编写html规则：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;第一部分&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;jartto&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;just test it!&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后，我们来看一下效果：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:250px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md2.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/md_html2md2.png&quot; style=&quot;width:250px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、在线转换工具&quot;&gt;&lt;a href=&quot;#三、在线转换工具&quot; class=&quot;headerlink&quot; title=&quot;三、在线转换工具&quot;&gt;&lt;/a&gt;三、在线转换工具&lt;/h4&gt;&lt;p&gt;当然，我们也可以依赖在线工具来做一些简单的转换，以适应不同的应用场景。&lt;br&gt;&lt;a href=&quot;http://www.atool.org/html2markdown.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.atool.org/html2markdown.php&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、本地编写markdown语法，编译成html语法显示&quot;&gt;&lt;a href=&quot;#四、本地编写markdown语法，编译成html语法显示&quot; class=&quot;headerlink&quot; title=&quot;四、本地编写markdown语法，编译成html语法显示&quot;&gt;&lt;/a&gt;四、本地编写markdown语法，编译成html语法显示&lt;/h4&gt;&lt;p&gt;下面介绍一种逼格较高的方式：(&lt;a href=&quot;http://strapdownjs.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网地址&lt;/a&gt;)&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Strapdown.js makes it embarrassingly simple to create elegant Markdown documents.&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;Hello Strapdown&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;xmp&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;theme&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;united&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;display:none;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Markdown text goes in here&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Chapter 1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;et dolore magna aliqua. &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Chapter 2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;culpa qui officia deserunt mollit anim id est laborum.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;xmp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://strapdownjs.com/v/0.2/strapdown.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;好了，这样你就可以向往常一样使用简单的markdown语法了。&lt;/p&gt;
&lt;h4 id=&quot;五、其他&quot;&gt;&lt;a href=&quot;#五、其他&quot; class=&quot;headerlink&quot; title=&quot;五、其他&quot;&gt;&lt;/a&gt;五、其他&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/showdownjs/showdown&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/showdownjs/showdown&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/yunfeifei/p/4482495.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/yunfeifei/p/4482495.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://showdownjs.github.io/demo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://showdownjs.github.io/demo/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.tuicool.com/articles/Q7jQFjZ&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tuicool.com/articles/Q7jQFjZ&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;当我们需要去写大量的技术文档的时候，你肯定不愿意用html一个个页面去写，然后再去调样式。那么简洁高效的markdown语法，你不仿试试。&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="html" scheme="http://jartto.wang/tags/html/"/>
    
      <category term="markdown" scheme="http://jartto.wang/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>bootstrap之affix附加导航</title>
    <link href="http://jartto.wang/2016/08/07/bootstrap-affix/"/>
    <id>http://jartto.wang/2016/08/07/bootstrap-affix/</id>
    <published>2016-08-07T02:42:11.000Z</published>
    <updated>2016-09-01T02:49:35.000Z</updated>
    
    <content type="html">&lt;p&gt;手头项目需要开发一个API文档页面，怎么样的交互才是好的呢？于是迅速的在大脑中搜索了一下，嗯，何不直接使用affix效果，简单粗暴而又实用🙈&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;想象总是很美好，很简单的东西却让我栽了大跟头，一起来看看我的心酸历程吧！&lt;/p&gt;
&lt;h4 id=&quot;一、查阅文档&quot;&gt;&lt;a href=&quot;#一、查阅文档&quot; class=&quot;headerlink&quot; title=&quot;一、查阅文档&quot;&gt;&lt;/a&gt;一、查阅文档&lt;/h4&gt;&lt;p&gt;首先，打开官网&lt;a href=&quot;http://v3.bootcss.com/javascript/#affix&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;传送门&lt;/a&gt;，查看affix文档：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_40342EE3-73F5-4353-B8DD-4AD5E93F43E6.png&quot; alt=&quot;affix&quot;&gt;&lt;br&gt;看起来很简单嘛，我们直接上手。&lt;/p&gt;
&lt;h4 id=&quot;二、用法简述&quot;&gt;&lt;a href=&quot;#二、用法简述&quot; class=&quot;headerlink&quot; title=&quot;二、用法简述&quot;&gt;&lt;/a&gt;二、用法简述&lt;/h4&gt;&lt;p&gt;虽然是现成的类库，但是还是有很多细节，大概整理如下：&lt;br&gt;1.引入类库文件&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 如果还用到bootstrap其他组件，建议加在bootstrap.min.js --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;lib/bootstrap.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 附加导航类库文件 --&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;lib/affix.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.添加控制区域&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#top&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;scroll&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myAffix&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;section&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;3.两种激活方式&lt;br&gt;其一：向元素添加附加导航（Affix）行为，只需要向需要监听的元素添加 data-spy=”affix” 即可。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#top&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;scroll&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;  &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myScrollspy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;125&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;大规模部署指南&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;微信摇一摇周边&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#section-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;IOS SDK&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;请注意这一行：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav menu&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;125&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;如果html中添加了data-spy=”affix”，则不再需要js激活，两种方式任选其一。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;其二：通过js为元素附加导航（Affix）行为。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).affix(&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        offset: &amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            top: &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            bottom:&lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、碰到问题&quot;&gt;&lt;a href=&quot;#三、碰到问题&quot; class=&quot;headerlink&quot; title=&quot;三、碰到问题&quot;&gt;&lt;/a&gt;三、碰到问题&lt;/h4&gt;&lt;p&gt;文档很清晰，照着撸了一遍，结果如下图：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_6F3B1C26-DAD9-41FA-A0E0-66325045B8B5.png&quot; alt=&quot;bug&quot;&gt;&lt;br&gt;左侧菜单的红条（active类）并没有切换，那么滚动是如何触发active类在菜单项中切换的呢？我们来继续寻找问题。&lt;/p&gt;
&lt;h4 id=&quot;四、解决问题&quot;&gt;&lt;a href=&quot;#四、解决问题&quot; class=&quot;headerlink&quot; title=&quot;四、解决问题&quot;&gt;&lt;/a&gt;四、解决问题&lt;/h4&gt;&lt;p&gt;查找了好些文档，大致描述都是如“用法简述”中一样，那么问题究竟出在哪里了，是什么触发了active的切换？黄天不负有心人，我找到了这样的描述：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;“To easily add scrollspy behavior to your topbar navigation, add data-spy=”scroll” to the element you want to spy on (most typically this would be the &lt;body&gt;). Then add the data-target attribute with the ID or class of the parent element of any Bootstrap .nav component.” &lt;/body&gt;&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;请留心nav类，这就是问题的所在。你需要为你的元素添加nav类，否则acitve滚动监听肯定无效。&lt;/p&gt;
&lt;h4 id=&quot;五、继续深究&quot;&gt;&lt;a href=&quot;#五、继续深究&quot; class=&quot;headerlink&quot; title=&quot;五、继续深究&quot;&gt;&lt;/a&gt;五、继续深究&lt;/h4&gt;&lt;p&gt;到这里，问题基本就解决了。我可不是那么容易就会善罢甘休的，新问题来了：那导航菜单如果包含二级菜单呢，又该如何操作？&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix-nav&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;sidebar col-md-4&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav sidenav&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-spy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;affix&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;data-offset-top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;active&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#cupcake&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Cupcake Lorem Ipsum&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#sweetjelly&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Sweet Jelly&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#tiramisu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Tiramisu&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#pie&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Pie&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#veggie&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Veggie Lorem Ipsum&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;nav&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#coriander&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Coriander&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#kohlrabi&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Kohlrabi&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#amaranth&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Amaranth&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#soybean&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Soybean&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;nav&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;看完代码，想必我就不用多说了吧！核心思想就是嵌套，请用心体会；&lt;/p&gt;
&lt;p&gt;到这里你以为完了？图样，图森破！简单使用场景到这里就可以了，但是affix给我们提供了一些事件处理方法，你不想试试？细心的我已经帮你拿来了，如下：&lt;br&gt;&lt;img src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/bs_02C9DA45-EF47-4AAE-AA08-726F096AC388.png&quot; alt=&quot;event&quot;&gt;&lt;br&gt;用法简单赘述一下：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(document).ready(function()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&#39;#myAffix&#39;).on(&#39;affixed.bs.affix&#39;, function()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(&#39;The navigation menu has been affixed. Now it doesn&#39;t scroll with the page.&#39;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;六、修复bug&quot;&gt;&lt;a href=&quot;#六、修复bug&quot; class=&quot;headerlink&quot; title=&quot;六、修复bug&quot;&gt;&lt;/a&gt;六、修复bug&lt;/h4&gt;&lt;p&gt;本来要高高兴兴的去睡觉，结果来回滚动几次，发现滚动到顶部的时候，菜单的active效果丢失了。查看源码之后，发现active类返回顶部被移除了。好吧，你能移除，我就能加回来，刚学的事件方法派上用场了。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).affix(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        offset: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            top: &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            bottom:&lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#myAffix&quot;&lt;/span&gt;).on(&lt;span class=&quot;string&quot;&gt;&#39;affixed-top.bs.affix&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;arrive to the top&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        $(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).children().first().addClass(&lt;span class=&quot;string&quot;&gt;&#39;active&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; 加上代码，上下滚动了无数次，嗯，效果还不错～😊&lt;/p&gt;
&lt;h4 id=&quot;七、完美收场&quot;&gt;&lt;a href=&quot;#七、完美收场&quot; class=&quot;headerlink&quot; title=&quot;七、完美收场&quot;&gt;&lt;/a&gt;七、完美收场&lt;/h4&gt;&lt;p&gt;啰啰嗦嗦说了这么些，我觉得还是很有必要的，这里其实我想提供的是一种解决问题的思路。从“拿到需求－查阅文档－亲自尝试－遇到问题－查找问题－解决问题－认真反思－深入了解－解决bug”，整个过程自己觉得受益匪浅，所以分享出来，希望能够帮到遇到同样问题的你。&lt;/p&gt;
&lt;p&gt;参考文档：&lt;br&gt;&lt;a href=&quot;http://v3.bootcss.com/javascript/#affix&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://v3.bootcss.com/javascript/#affix&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://tutsme-webdesign.info/bootstrap-3-affix/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tutsme-webdesign.info/bootstrap-3-affix/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-affix.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-affix.php&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/20526728/bootstrap-3-scrollspy-not-working-with-affix-and-panel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/20526728/bootstrap-3-scrollspy-not-working-with-affix-and-panel&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;手头项目需要开发一个API文档页面，怎么样的交互才是好的呢？于是迅速的在大脑中搜索了一下，嗯，何不直接使用affix效果，简单粗暴而又实用🙈&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="bootstrap" scheme="http://jartto.wang/tags/bootstrap/"/>
    
      <category term="affix" scheme="http://jartto.wang/tags/affix/"/>
    
  </entry>
  
  <entry>
    <title>探索js性能优化</title>
    <link href="http://jartto.wang/2016/08/05/exploring-js-performance-optimization/"/>
    <id>http://jartto.wang/2016/08/05/exploring-js-performance-optimization/</id>
    <published>2016-08-05T02:42:11.000Z</published>
    <updated>2016-08-21T14:26:49.000Z</updated>
    
    <content type="html">&lt;p&gt;谈起前端优化，总是不自觉的联想到网站优化，而很少想到－js性能优化。你为js做过多少，仅仅是“压缩，精简，混淆”吗？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这里要特别感谢@思卓童鞋，在我猝不及防的情况下，给我抛出了这个问题。是时候该总结整理一下了，“知道一些”和“很了解”中间差的可不是一千两千（抱歉，最近一直都在面试，满脑子都是💰）。&lt;/p&gt;
&lt;p&gt;这节我们来探索一下js性能优化，请坐稳扶好。&lt;/p&gt;
&lt;h4 id=&quot;一、避免全局查找&quot;&gt;&lt;a href=&quot;#一、避免全局查找&quot; class=&quot;headerlink&quot; title=&quot;一、避免全局查找&quot;&gt;&lt;/a&gt;一、避免全局查找&lt;/h4&gt;&lt;p&gt;在一个函数中会用到全局对象存储为局部变量来减少全局查找，因为访问局部变量的速度要比访问全局变量的速度更快些&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;search&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//当我要使用当前页面地址和主机域名&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location.href + &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location.host);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//最好的方式是如下这样  先用一个简单变量保存起来&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;search&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; location = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.location;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	alert(location.href + location.host);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、定时器&quot;&gt;&lt;a href=&quot;#二、定时器&quot; class=&quot;headerlink&quot; title=&quot;二、定时器&quot;&gt;&lt;/a&gt;二、定时器&lt;/h4&gt;&lt;p&gt;如果针对的是不断运行的代码，不应该使用setTimeout，而应该是用setInterval，因为setTimeout每一次都会初始化一个定时器，而setInterval只会在开始的时候初始化一个定时器&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timeoutTimes = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;timeout&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	timeoutTimes++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (timeoutTimes &amp;lt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		setTimeout(timeout, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;timeout();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; intervalTimes = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;interval&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	intervalTimes++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (intervalTimes &amp;gt;= &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		clearInterval(interv);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; interv = setInterval(interval, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、字符串连接&quot;&gt;&lt;a href=&quot;#三、字符串连接&quot; class=&quot;headerlink&quot; title=&quot;三、字符串连接&quot;&gt;&lt;/a&gt;三、字符串连接&lt;/h4&gt;&lt;p&gt;如果要连接多个字符串，应该少使用+=，如&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;s+=a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;s+=b;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;s+=c;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;应该写成s+=a + b + c；&lt;/p&gt;
&lt;p&gt;而如果是收集字符串，比如多次对同一个字符串进行+=操作的话，最好使用一个缓存，使用JavaScript数组来收集，最后使用join方法连接起来&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; buf = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    buf.push(i.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; all = buf.join(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、避免with语句&quot;&gt;&lt;a href=&quot;#四、避免with语句&quot; class=&quot;headerlink&quot; title=&quot;四、避免with语句&quot;&gt;&lt;/a&gt;四、避免with语句&lt;/h4&gt;&lt;p&gt;和函数类似 ，with语句会创建自己的作用域，因此会增加其中执行的代码的作用域链的长度，由于额外的作用域链的查找，在with语句中执行的代码肯定会比外面执行的代码要慢，在能不使用with语句的时候尽量不要使用with语句。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; (a.b.c.d) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           property1 = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           property2 = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = a.b.c.d;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       obj.property1 = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       obj.property2 = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;数字转换成字符串&lt;br&gt;一般最好用’’ + 1来将数字转换成字符串，虽然看起来比较丑一点，但事实上这个效率是最高的，性能上来说：&lt;br&gt;(‘’ +) &amp;gt; String() &amp;gt; .toString() &amp;gt; new String()&lt;br&gt;浮点数转换成整型&lt;br&gt;很多人喜欢使用parseInt()，其实parseInt()是用于将字符串转换成数字，而不是浮点数和整型之间的转换，我们应该使用Math.floor()或者Math.round()&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myVar = &lt;span class=&quot;string&quot;&gt;&#39;3.14159&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;str = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt; + myVar, &lt;span class=&quot;comment&quot;&gt;//  to string  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;i_int = ~ ~myVar,  &lt;span class=&quot;comment&quot;&gt;//  to integer  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;f_float = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; * myVar,  &lt;span class=&quot;comment&quot;&gt;//  to float  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;b_bool = !!myVar,  &lt;span class=&quot;comment&quot;&gt;/*  to boolean - any string with length &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        and any number except 0 are true */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;array = [myVar];  &lt;span class=&quot;comment&quot;&gt;//  to array&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果定义了toString()方法来进行类型转换的话，推荐显式调用toString()，因为内部的操作在尝试所有可能性之后，会尝试对象的toString()方法尝试能否转化为String，所以直接调用这个方法效率会更高&lt;/p&gt;
&lt;p&gt;多个类型声明&lt;br&gt;在JavaScript中所有变量都可以使用单个var语句来声明，这样就是组合在一起的语句，以减少整个脚本的执行时间，就如上面代码一样，上面代码格式也挺规范，让人一看就明了。&lt;/p&gt;
&lt;p&gt;插入迭代器&lt;br&gt;如var name=values[i]; i++;前面两条语句可以写成var name=values[i++]&lt;/p&gt;
&lt;p&gt;使用直接量&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;(); &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; aTest = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reg = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;(); &lt;span class=&quot;comment&quot;&gt;//替换为&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reg = &lt;span class=&quot;regexp&quot;&gt;/../&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//如果要创建具有一些特性的一般对象，也可以使用字面量，如下：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; oFruit = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; O;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        oFruit.color = &lt;span class=&quot;string&quot;&gt;&#39;red&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        oFruit.name = &lt;span class=&quot;string&quot;&gt;&#39;apple&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//前面的代码可用对象字面量来改写成这样：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; oFruit = &amp;#123; color: &lt;span class=&quot;string&quot;&gt;&#39;red&#39;&lt;/span&gt;, name: &lt;span class=&quot;string&quot;&gt;&#39;apple&#39;&lt;/span&gt; &amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用DocumentFragment优化多次append&lt;br&gt;一旦需要更新DOM,请考虑使用文档碎片来构建DOM结构，然后再将其添加到现存的文档中。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; frag = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createDocumentFragment();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            frag.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(frag);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用一次innerHTML赋值代替构建dom元素&lt;br&gt;对于大的DOM更改，使用innerHTML要比使用标准的DOM方法创建同样的DOM结构快得多。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; frag = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createDocumentFragment();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    el.innerHTML = i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    frag.appendChild(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(frag);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//可以替换为：&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; html = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    html.push(&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;p&amp;gt;&#39;&lt;/span&gt; + i + &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/p&amp;gt;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.innerHTML = html.join(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://www.it165.net/pro/html/201503/35336.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.it165.net/pro/html/201503/35336.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;谈起前端优化，总是不自觉的联想到网站优化，而很少想到－js性能优化。你为js做过多少，仅仅是“压缩，精简，混淆”吗？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="js" scheme="http://jartto.wang/tags/js/"/>
    
      <category term="优化" scheme="http://jartto.wang/tags/%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议入门</title>
    <link href="http://jartto.wang/2016/08/04/Rudimentary-http-protocol/"/>
    <id>http://jartto.wang/2016/08/04/Rudimentary-http-protocol/</id>
    <published>2016-08-04T03:02:45.000Z</published>
    <updated>2016-08-04T08:16:07.000Z</updated>
    
    <content type="html">&lt;p&gt;作为一个web前端开发工程师，浏览器恐怕比媳妇还要亲吧。那么这位朝夕相处的第三者你到底了解多少，关于人家的聊天语言－http协议，你又懂多少？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;别再拿200，404，503来说事了，这跟只会say hello有啥区别。让我们开启狂暴模式，疯狂的撩妹吧！&lt;/p&gt;
&lt;h4 id=&quot;一、关于HTTP&quot;&gt;&lt;a href=&quot;#一、关于HTTP&quot; class=&quot;headerlink&quot; title=&quot;一、关于HTTP&quot;&gt;&lt;/a&gt;一、关于HTTP&lt;/h4&gt;&lt;p&gt;HTTP(HyperText Transfer Protocol)是一套计算机通过网络进行通信的规则，使HTTP客户端（如Web浏览器）能够从HTTP服务器(Web服务器)请求信息和服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP是一种无状态的协议&lt;ul&gt;
&lt;li&gt;无状态是指Web浏览器和Web服务器之间不需要建立持久的连接，这意味着当一个客户端向服务器端发出请求，然后Web服务器返回响应(response)，连接就被关闭了，在服务器端不保留连接的有关信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP遵循请求(Request)/应答(Response)模型&lt;ul&gt;
&lt;li&gt;Web浏览器向Web服务器发送请求，Web服务器处理请求并返回适当的应答。所有HTTP连接都被构造成一套请求和应答。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP使用内容类型&lt;ul&gt;
&lt;li&gt;是指Web服务器向Web浏览器返回的文件都有与之相关的类型。所有这些类型在MIME Internet邮件协议上模型化，即Web服务器告诉Web浏览器该文件所具有的种类，是HTML文档、GIF格式图像、声音文件还是独立的应用程序。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;二、HTTP通信机制&quot;&gt;&lt;a href=&quot;#二、HTTP通信机制&quot; class=&quot;headerlink&quot; title=&quot;二、HTTP通信机制&quot;&gt;&lt;/a&gt;二、HTTP通信机制&lt;/h4&gt;&lt;p&gt;一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：&lt;/p&gt;
&lt;p&gt;①建立TCP连接&lt;br&gt;在HTTP工作开始之前，Web浏览器首先要通过网络与Web服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建Internet，即著名的TCP/IP协议族，因此Internet又被称作是TCP/IP网络。HTTP是比TCP更高层次的应用层协议，根据规则，只有低层协议建立之后，才能进行更层协议的连接，因此，首先要建立TCP连接，一般TCP连接的端口号是80&lt;/p&gt;
&lt;p&gt;②Web浏览器向Web服务器发送请求命令&lt;br&gt;一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令&lt;br&gt;例如：GET/sample/hello.jsp HTTP/1.1&lt;/p&gt;
&lt;p&gt;③Web浏览器发送请求头信息&lt;br&gt;浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。&lt;/p&gt;
&lt;p&gt;④Web服务器应答&lt;br&gt;客户机向服务器发出请求后，服务器会客户机回送应答，&lt;br&gt;HTTP/1.1 200 OK&lt;br&gt;应答的第一部分是协议的版本号和应答状态码&lt;/p&gt;
&lt;p&gt;⑤Web服务器发送应答头信息&lt;br&gt;正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。&lt;/p&gt;
&lt;p&gt;⑥Web服务器向浏览器发送数据&lt;br&gt;Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据&lt;/p&gt;
&lt;p&gt;⑦Web服务器关闭TCP连接&lt;br&gt;一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Connection:keep-alive&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。&lt;/p&gt;
&lt;h4 id=&quot;三、HTTP请求／应答格式&quot;&gt;&lt;a href=&quot;#三、HTTP请求／应答格式&quot; class=&quot;headerlink&quot; title=&quot;三、HTTP请求／应答格式&quot;&gt;&lt;/a&gt;三、HTTP请求／应答格式&lt;/h4&gt;&lt;p&gt;打开chrome浏览器的开发者工具，我们来看一下http的头文件。代码有点多，为了避免辣眼睛，我来做一个拆分，咱们逐一来看：&lt;br&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;General部分：&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Request URL:http://jartto.wang/usr/GetMicWebImgs.do?name=jartto&amp;amp;ida=1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Request Method:GET&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Status Code:200 OK&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里主要是请求链接，请求方式以及响应状态码。&lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Response Headers部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Connection:Keep-Alive&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Content-Length:58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Content-Type:application/json&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Date:Thu, 04 Aug 2016 06:01:46 GMT&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Keep-Alive:timeout=5, max=100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Server:HAP/Vertx&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1.Connection表示是否需要持久连接，(HTTP1.1默认进行持久连接)。如：Connection：close，Connection：keep-Alive，表示持久连接。&lt;br&gt;2.Content-Length表示内容长度。只有当浏览器使用持久HTTP连接时才需要这个数据。如果你想要利用持久连接的优势，可以把输出文档写入ByteArrayOutputStram，完成后查看其大小，然后把该值放入Content-Length头，最后通过 byteArrayStream.writeTo(response.getOutputStream()发送内容。&lt;br&gt;3.Content-Type实体头用于向接收方指示实体的介质类型，指定HEAD方法送到接收方的实体介质类型，或GET方法发送的请求介质类型 Content-Range实体头&lt;br&gt;4.Date头域表示消息发送的时间，Date描述的时间表示世界标准时，换算成本地时间，需要知道用户所在的时区。&lt;br&gt;5.Keep-Alive中timeout：过期时间5秒（对应httpd.conf里的参数是：KeepAliveTimeout），就是在timeout时间内又有新的连接过来，同时max会自动减1，直到为0，强制断掉。&lt;br&gt;6.Server响应头包含处理请求的原始服务器的软件信息。此域能包含多个产品标识和注释，产品标识一般按照重要性排序。 &lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Request Headers部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Accept:*/*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Accept-Encoding:gzip, deflate, sdch&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Accept-Language:zh-CN,zh;q=0.8,en;q=0.6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Cache-Control:no-cache&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Connection:keep-alive&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Host:jartto.wang&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Pragma:no-cache&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Referer:http://jartto.wang/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;User-Agent:Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;1.Accept请求报头域用于指定客户端接收哪些类型的信息。&lt;br&gt;2.Accept-Encoding指定浏览器可以支持的web服务器返回内容压缩编码类型。&lt;br&gt;3.Accept-Language指定客户端可以接受的语言。&lt;br&gt;4.Cache-Control指定请求和响应遵循的缓存机制。在请求消息或响应消息中设置 Cache-Control并不会修改另一个消息处理过程中的缓存处理过程。请求时的缓存指令包括no-cache、no-store、max-age、 max-stale、min-fresh、only-if-cached，响应消息中的指令包括public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age。&lt;a href=&quot;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;详情&lt;/a&gt;&lt;br&gt;5.Connection同响应头中Connection&lt;br&gt;6.Host头域指定请求资源的Intenet主机和端口号，必须表示请求url的原始服务器或网关的位置。HTTP/1.1请求必须包含主机头域，否则系统会以400状态码返回。&lt;br&gt;7.Pragma头域用来包含实现特定的指令，最常用的是Pragma:no-cache。在HTTP/1.1协议中，它的含义和Cache-Control:no-cache相同。&lt;br&gt;8.Referer 头域允许客户端指定请求uri的源资源地址，这可以允许服务器生成回退链表，可用来登陆、优化cache等。他也允许废除的或错误的连接由于维护的目的被 追踪。如果请求的uri没有自己的uri地址，Referer不能被发送。如果指定的是部分uri地址，则此地址应该是一个相对地址。&lt;br&gt;9.User-Agent头域的内容包含发出请求的用户信息。 &lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;Query String Parameters部分：&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;name:jartto&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ida:1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参数部分最好理解了，这里就不赘述了。&lt;/p&gt;
&lt;h4 id=&quot;四、-HTTP应答码&quot;&gt;&lt;a href=&quot;#四、-HTTP应答码&quot; class=&quot;headerlink&quot; title=&quot;四、 HTTP应答码&quot;&gt;&lt;/a&gt;四、 HTTP应答码&lt;/h4&gt;&lt;p&gt;HTTP应答码也称为状态码，它反映了Web服务器处理HTTP请求状态。HTTP应答码由3位数字构成，其中首位数字定义了应答码的类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1XX&lt;br&gt;信息类(Information),表示收到Web浏览器请求，正在进一步的处理中&lt;/li&gt;
&lt;li&gt;2XX&lt;br&gt;成功类（Successful）,表示用户请求被正确接收，理解和处理例如：200 OK&lt;/li&gt;
&lt;li&gt;3XX&lt;br&gt;重定向类(Redirection),表示请求没有成功，客户必须采取进一步的动作。&lt;/li&gt;
&lt;li&gt;4XX&lt;br&gt;客户端错误(Client Error)，表示客户端提交的请求有错误，例如：404 NOT Found，意味着请求中所引用的文档不存在。&lt;/li&gt;
&lt;li&gt;5XX-服务器错误(Server Error)表示服务器不能完成对请求的处理：如500对于我们Web开发人员来说掌握HTTP应答码有助于提高Web应用程序调试的效率和准确性。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert warning&quot;&gt;&lt;p&gt;我实在是太懒了，如果你想详细的了解每个应答码的信息，请这边走&lt;a href=&quot;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HTTP状态码大全&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/yin-jingyu/archive/2011/08/01/2123548.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/yin-jingyu/archive/2011/08/01/2123548.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/9988/archive/2012/03/21/2409086.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/u012935755/article/details/51861514&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/u012935755/article/details/51861514&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cppblog.com/woaidongmao/archive/2009/09/08/95544.aspx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cppblog.com/woaidongmao/archive/2009/09/08/95544.aspx&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/lxinxuan/archive/2009/10/22/1588053.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;作为一个web前端开发工程师，浏览器恐怕比媳妇还要亲吧。那么这位朝夕相处的第三者你到底了解多少，关于人家的聊天语言－http协议，你又懂多少？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="http" scheme="http://jartto.wang/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>生活感悟</title>
    <link href="http://jartto.wang/2016/08/01/insights-of-life/"/>
    <id>http://jartto.wang/2016/08/01/insights-of-life/</id>
    <published>2016-08-01T02:49:56.000Z</published>
    <updated>2016-08-01T05:20:20.000Z</updated>
    
    <content type="html">&lt;p&gt;随手整理了一下零散记下的笔记，发现了很多正能量的语言。这对于最近身心疲惫的我来说，真是一味强心剂啊。看不清未来，那就做好现在。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;深切感悟篇&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;All endings are beginnings, we just don’t know it at the time. 所有的结局都是新的开始，只是我们当时不知道。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从两件事能看出你是个什么样的人：你一无所有时的耐心，还有你无所不有时的态度。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;上错了车，别因为投了币而不肯下车。那样只会错过更多的站。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果有个人能让你忘掉过去，那么这个人就是你的未来。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;一只站在树上的鸟儿，从来不会害怕树枝断裂，因为她相信的不是树枝，而是她自己的翅膀。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;别将过去抱的太紧，因为那样你就腾不出手来拥抱现在。&lt;br&gt;Yesterday is history, tomorrow is mystery,But today is a gift ,That is why it’s called the present。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;许多人所谓的成熟，不过是被习俗磨去了棱角，变得世故而实际了。那不是成熟，而是精神的早衰和个性的夭亡。真正的成熟，应当是独特个性的形成，真实自我的发现，精神上的结果和丰收——————尼采&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;时间不一定能证明很多东西 但是一定能看透很多东西。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;看不清未来，就做好现在。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;华丽的跌倒，胜过无谓的徘徊。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;当我年轻的时候，我梦想改变这个世界；当我成熟以后，我发现我不能够改变这个世界，我将目光缩短了些，决定只改变我的国家；当我进入暮年以后，我发现我不能够改变我们的国家，我的最后愿望仅仅是改变一下我的家庭，但是，这也不可能。当我现在躺在床上，行将就木时，我突然意识到：如果一开始我仅仅去改变我自己，然后，我可能改变我的家庭；在家人的帮助和鼓励下，我可能为国家做一些事情；然后，谁知道呢?我甚至可能改变这个世界。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;道歉并不一定代表你错了，只是你认为这段关系，比你的尊严更重要。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;这些年我一直提醒自己一件事，千万不要自己感动自己。大多人看似的努力，不过是愚蠢导致的。什么熬夜看书到天亮，连续几天只睡几小时，多久没放假了，如果这些东西也值得夸耀，那么富士康流水线上任何一个人都比你努力多了。人难免天生有自怜的情绪，唯有时刻保持清醒，才能看清真正的价值在哪里。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;你是活了一万多天？还是活了一天，却重复了一万多次？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;当你的野心支撑不了你的梦想的时候，该努力了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;所谓迷茫，就是才华配不上梦想。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;就像人生，每个人的结果都是注定要死的，重要的是在那个结果之前我们怎么活。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;许久不联系的人，不用再联系。各自辛苦，各自生活，也再无交集，该停留在过去的，就让它停留在过去。如果有缘，会再见。若无缘，不如不见。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;能跟你一辈子的人就是：理解你的过去，相信你的未来，并包容你的现在的人。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;心灵鸡汤篇&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;人生，看透不如看淡。在岁月中跋涉，每个人都有自己的故事，看淡心境才会秀丽，看开心情才会明媚。累时歇一歇，随清风漫舞，烦时静一静，与花草凝眸，急时缓一缓，和自己微笑。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Today I will do what others won’t, so tomorrow I can accomplish what others can’t.&lt;br&gt;今天我做了别人不愿做的事，明天我就能做到别人所不能做的事。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;生活，是追求在心路上，被走成了欲望；人生，是磨难在枝头上，被晾晒成了坚强。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对自己的不自信，无疑让别人添加了几分不信任。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;每个人都会累，没人能为你承担所有的伤悲和疲惫，所以人总有那么一段时间要学会自己长大。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;人只有两只手，能抓多少东西？抓住一样东西，就意味着放弃了更多的东西。放弃和失去，其实始终是人生的大局。不要以为得到了什么，其实人时时刻刻都是在失去，失去时间，失去生命，失去更多的财富，失去更多的机会。不要抓得太紧。抓得越紧，丢失的会越多。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;不是所有的人都能知道时光的含义，不是所有的人都懂得珍惜，这世间并没有分离与衰老的命运，只有肯爱与不肯爱的心。——席慕蓉&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;随手整理了一下零散记下的笔记，发现了很多正能量的语言。这对于最近身心疲惫的我来说，真是一味强心剂啊。看不清未来，那就做好现在。&lt;br&gt;
    
    </summary>
    
      <category term="生活感悟" scheme="http://jartto.wang/categories/%E7%94%9F%E6%B4%BB%E6%84%9F%E6%82%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>微信支付大坑</title>
    <link href="http://jartto.wang/2016/07/29/trap-set-by-wx/"/>
    <id>http://jartto.wang/2016/07/29/trap-set-by-wx/</id>
    <published>2016-07-29T09:13:03.000Z</published>
    <updated>2016-07-29T10:04:27.000Z</updated>
    
    <content type="html">&lt;p&gt;搞过微信开发的同学肯定对微信支付不会陌生，想必也碰到了不少麻烦吧？到底有多坑，我们来说道说道。咳～咳，没有批评，存粹只是对知识的敬畏哦🙈&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;本文来细数一下微信支付的大坑，希望可以对后来的你有所帮助。&lt;/p&gt;
&lt;h4 id=&quot;一、方式&quot;&gt;&lt;a href=&quot;#一、方式&quot; class=&quot;headerlink&quot; title=&quot;一、方式&quot;&gt;&lt;/a&gt;一、方式&lt;/h4&gt;&lt;p&gt;两种方式JS SDK和JS API，这两种方式都是可用&lt;br&gt;JS SDK方式&lt;br&gt;&lt;a href=&quot;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&lt;/a&gt;&lt;br&gt;JS API方式&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、关于异常fail-invalid-appid&quot;&gt;&lt;a href=&quot;#二、关于异常fail-invalid-appid&quot; class=&quot;headerlink&quot; title=&quot;二、关于异常fail_invalid_appid&quot;&gt;&lt;/a&gt;二、关于异常fail_invalid_appid&lt;/h4&gt;&lt;p&gt;检查商户平台证书，需要手动设置key&lt;br&gt;检查支付地址和支付测试目录问题&lt;br&gt;添加测试人微信号到白名单&lt;/p&gt;
&lt;p&gt;目录最好只到2级，太深的话，也是会报错的&lt;br&gt;单独链接，单页应用＃后无法识别，亦会报错&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_5fc3da040102vjm7.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.sina.com.cn/s/blog_5fc3da040102vjm7.html&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、支付验证签名失败&quot;&gt;&lt;a href=&quot;#三、支付验证签名失败&quot; class=&quot;headerlink&quot; title=&quot;三、支付验证签名失败&quot;&gt;&lt;/a&gt;三、支付验证签名失败&lt;/h4&gt;&lt;p&gt;get_brand_wcpay_request:fail&lt;br&gt;步骤一：&lt;br&gt;检测参数大小写和顺序问题&lt;br&gt;商户key必须拼写在字符串末尾&lt;br&gt;MD5算法后需转为大写&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jingyan.baidu.com/article/59703552c3c9808fc1074072.html?st=2&amp;amp;os=0&amp;amp;bd_page_type=1&amp;amp;net_type=2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://jingyan.baidu.com/article/59703552c3c9808fc1074072.html?st=2&amp;amp;os=0&amp;amp;bd_page_type=1&amp;amp;net_type=2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用在线签名验证工具去对比签名&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/tools/signverify/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;步骤二：&lt;br&gt;&lt;div class=&quot;figure left&quot; style=&quot;width:200px;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/wx_97CF93DF-B21E-4247-B9C0-E1E0AF283E6D.png&quot; title=&quot;&quot; data-fancybox-group=&quot;travel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;http://7xvi3w.com1.z0.glb.clouddn.com/wx_97CF93DF-B21E-4247-B9C0-E1E0AF283E6D.png&quot; style=&quot;width:200px;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;&lt;br&gt;paySign需要上图红圈中的5个参数进行签名，否则就会报错。&lt;/p&gt;
&lt;h4 id=&quot;四、调用支付JSAPI缺少参数：-key0&quot;&gt;&lt;a href=&quot;#四、调用支付JSAPI缺少参数：-key0&quot; class=&quot;headerlink&quot; title=&quot;四、调用支付JSAPI缺少参数：$key0$&quot;&gt;&lt;/a&gt;四、调用支付JSAPI缺少参数：$key0$&lt;/h4&gt;&lt;p&gt;首先确定timeStamp必须是string类型；&lt;br&gt;其次检查参数名对应情况，必须与api参数列表完全一致；&lt;/p&gt;
&lt;h4 id=&quot;五、相关补充&quot;&gt;&lt;a href=&quot;#五、相关补充&quot; class=&quot;headerlink&quot; title=&quot;五、相关补充&quot;&gt;&lt;/a&gt;五、相关补充&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://bbs.csdn.net/topics/390981338&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://bbs.csdn.net/topics/390981338&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/deepleo/p/weixinjssdk.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/deepleo/p/weixinjssdk.html&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;六、相关文档：&quot;&gt;&lt;a href=&quot;#六、相关文档：&quot; class=&quot;headerlink&quot; title=&quot;六、相关文档：&quot;&gt;&lt;/a&gt;六、相关文档：&lt;/h4&gt;&lt;p&gt;网页调起支付API&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;br&gt;安全规范（签名规则等）&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&lt;/a&gt;&lt;br&gt;调用请求参数&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/tools/signverify/&lt;/a&gt;&lt;br&gt;js sdk&lt;br&gt;&lt;a href=&quot;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html&lt;/a&gt;&lt;br&gt;网页端掉起支付api&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&lt;/a&gt;&lt;br&gt;统一下单：&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_1&lt;/a&gt;&lt;br&gt;微信公众平台：&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://mp.weixin.qq.com/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;搞过微信开发的同学肯定对微信支付不会陌生，想必也碰到了不少麻烦吧？到底有多坑，我们来说道说道。咳～咳，没有批评，存粹只是对知识的敬畏哦🙈&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="微信" scheme="http://jartto.wang/tags/%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>浅谈auth认证</title>
    <link href="http://jartto.wang/2016/07/27/chattered-about-auth/"/>
    <id>http://jartto.wang/2016/07/27/chattered-about-auth/</id>
    <published>2016-07-27T09:07:54.000Z</published>
    <updated>2016-07-27T09:31:13.000Z</updated>
    
    <content type="html">&lt;p&gt;关于认证，开放平台有两种认证方式，一种是Basic Auth，一种是OAuth。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;一、Basic-Auth（HTTP-Auth）&quot;&gt;&lt;a href=&quot;#一、Basic-Auth（HTTP-Auth）&quot; class=&quot;headerlink&quot; title=&quot;一、Basic Auth（HTTP Auth）&quot;&gt;&lt;/a&gt;一、Basic Auth（HTTP Auth）&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;Basic Auth简单点说明就是每次请求API时都提供用户的username和password。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;优点：&lt;br&gt;①使用非常简单，&lt;br&gt;②开发和调试工作简单，&lt;br&gt;③没有复杂的页面跳转逻辑和交互过程；&lt;br&gt;④更利于发起方控制；&lt;/p&gt;
&lt;p&gt;缺点：&lt;br&gt;①安全性低，每次都需要传递用户名和密码，用户名和密码很大程度上存在被监听盗取的可能；&lt;br&gt;②同时应用本地还需要保存用户名和密码，在应用本身的安全性来说，也存在很大问题；&lt;br&gt;③开放平台服务商出于自身安全性的考虑（第三方可以得到该服务商用户的账号密码，对于服务商来说是一种安全隐患），未来也会限制此认证方式（Twitter就计划在6月份停止Basic Auth的支持）&lt;br&gt;④用户如果更改了用户名和密码，还需要重新进行密码校验的过程。&lt;/p&gt;
&lt;h4 id=&quot;二、OAuth&quot;&gt;&lt;a href=&quot;#二、OAuth&quot; class=&quot;headerlink&quot; title=&quot;二、OAuth&quot;&gt;&lt;/a&gt;二、OAuth&lt;/h4&gt;&lt;p&gt;OAuth为用户资源的授权提供了一个安全、开放的标准，它分为几个交互过程：&lt;br&gt;1）应用用APP KEY和APP SECRET换取OAuth_token；&lt;br&gt;2）应用将用户引导到服务商的页面对该OAuth_token进行授权（可能需要输入用户名和密码）；&lt;br&gt;3）服务商的页面跳转回应用，应用再根据参数去服务商获得Access Token；&lt;br&gt;4）使用这个Access Token就可以访问API了。&lt;/p&gt;
&lt;p&gt;OAuth的优点：&lt;br&gt;①安全性高，用户的账户和密码只需要提供一次，而且是在服务商的页面上提供，防止了Basic Auth反复传输密码带来的安全隐患；&lt;br&gt;②Access Token访问权限仅限于应用，被窃取不会影响用户在该服务商的其他服务；&lt;br&gt;③Access Token即使被监听丢失了随时可以撤销，不像密码丢失可能就被别人篡改了；&lt;br&gt;④用户修改了密码也不会影响该应用的正常使用。&lt;/p&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;http://baike.baidu.com/link?url=Ru1yPv68202-u1y8EmdkrV38N57dEXWaqFNuT_MeyGwnRAXlxsPPCYH93UzqkKa4QNxCgm38UYgr9I1t_vwlca&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://baike.baidu.com/link?url=Ru1yPv68202-u1y8EmdkrV38N57dEXWaqFNuT_MeyGwnRAXlxsPPCYH93UzqkKa4QNxCgm38UYgr9I1t_vwlca&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;关于认证，开放平台有两种认证方式，一种是Basic Auth，一种是OAuth。&lt;br&gt;
    
    </summary>
    
      <category term="每日积累" scheme="http://jartto.wang/categories/%E6%AF%8F%E6%97%A5%E7%A7%AF%E7%B4%AF/"/>
    
    
      <category term="auth" scheme="http://jartto.wang/tags/auth/"/>
    
  </entry>
  
  <entry>
    <title>HTML5 API大盘点</title>
    <link href="http://jartto.wang/2016/07/25/make-an-inventory-of-html5-api/"/>
    <id>http://jartto.wang/2016/07/25/make-an-inventory-of-html5-api/</id>
    <published>2016-07-25T06:26:36.000Z</published>
    <updated>2016-07-26T08:40:58.000Z</updated>
    
    <content type="html">&lt;p&gt;在地铁里偶然听见有些人在谈论着html5，我听到了这样的声音：“不就是一些简单的网页吗，炒作的太厉害了”。真的只是一些简单的页面吗？&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;我决定顺着《HTML5高级教程》捋一捋，咱们来说道说道。嗯，好戏来了，不只是打脸哦～🙈&lt;/p&gt;
&lt;p&gt;都说了API大盘点，所以“简写，语义化，表单支持”均不在本文的盘点范围内。&lt;/p&gt;
&lt;h4 id=&quot;一、Canvas&quot;&gt;&lt;a href=&quot;#一、Canvas&quot; class=&quot;headerlink&quot; title=&quot;一、Canvas&quot;&gt;&lt;/a&gt;一、Canvas&lt;/h4&gt;&lt;p&gt;Canvas本质上是一个位图画步。&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;使用canvas编程，首先要获取其上下文（context）。接着在上下文中执行动作，最后将这些动作应用到上下文中。可以将canvas的这种编辑方式想象成数据库事务：开发人员先发起一个事务，然后执行某些操作，最后提交事务。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;html结构：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;diagonal&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;border:1px solid;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;200&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;js代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;drawDiagonal&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;//取的canvas元素及其绘图上下文&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; canvas = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(‘diagonal’);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; context = canvas.getContext(&lt;span class=&quot;string&quot;&gt;&#39;2d&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// 用绝对坐标来创建一条路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.beginPath();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.moveTo(&lt;span class=&quot;number&quot;&gt;70&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;140&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.lineTo(&lt;span class=&quot;number&quot;&gt;140&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;70&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// 将这条线绘制到canvas上&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     context.stroke();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;load&#39;&lt;/span&gt;,drawDiagonal,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、Audio和Video&quot;&gt;&lt;a href=&quot;#二、Audio和Video&quot; class=&quot;headerlink&quot; title=&quot;二、Audio和Video&quot;&gt;&lt;/a&gt;二、Audio和Video&lt;/h4&gt;&lt;p&gt;html5中的多媒体支持。&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;audio&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;clickSound&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;a.ogg&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;b.mp3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;audio&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;toggle&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;toggleSound()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;play&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;toggleSound&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; music = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;clickSound&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; toggle = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;toggle&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(music.paused)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        music.play();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toggle.innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;Pause&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        music.pause();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toggle.innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;Play&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;三、Geolocation&quot;&gt;&lt;a href=&quot;#三、Geolocation&quot; class=&quot;headerlink&quot; title=&quot;三、Geolocation&quot;&gt;&lt;/a&gt;三、Geolocation&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;请求一个位置信息，如果用户同意，浏览器就会返回位置信息，该位置信息是通过支持HTML5地理定位功能的底层设备提供给浏览器。位置信息由纬度／经度坐标和一些其他的元数据组成。有了这些位置信息就可以构建引人注意目的位置感知类应用程序。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;两种类型的定位请求API：单次定位请求和重复性的位置更新请求；&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;load&#39;&lt;/span&gt;,loadDemo,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadDemo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(navigator.geolocation)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        navigator.geolocation.watchPosition(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            updateLocation,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handleLocationError,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;maximumAge:&lt;span class=&quot;number&quot;&gt;20000&lt;/span&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateLocation&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;position&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; latitude = position.coords.latitude;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; longitude = position.coords.longitude;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; accuracy = position.coords.accuracy;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timestamp = position.timestamp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、WebSockets&quot;&gt;&lt;a href=&quot;#四、WebSockets&quot; class=&quot;headerlink&quot; title=&quot;四、WebSockets&quot;&gt;&lt;/a&gt;四、WebSockets&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;WebSocket作为HTML5一种新的协议，实现了浏览器与服务器的双向通讯。在 WebSocket API 中，浏览器和服务器只需要要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;WebSocket protocol 是HTML5一种新的协议。它实现了浏览器与服务器全双工通信(full-duplex)。&lt;/p&gt;
&lt;p&gt;在此WebSocket 协议中，为我们实现即时服务带来了两大好处：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Header&lt;br&gt;互相沟通的Header是很小的-大概只有 2 Bytes&lt;/li&gt;
&lt;li&gt;Server Push&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt;  wsServer = &lt;span class=&quot;string&quot;&gt;&#39;ws://localhost:8888/Demo&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt;  websocket = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebSocket(wsServer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onopen = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onOpen(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onclose = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onClose(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onmessage = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onMessage(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;websocket.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123; onError(evt) &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onOpen&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Connected to WebSocket server.&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClose&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Disconnected&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onMessage&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Retrieved data from server: &#39;&lt;/span&gt; + evt.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onError&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Error occured: &#39;&lt;/span&gt; + evt.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在实现websocket连线过程中，需要通过浏览器发出websocket连线请求，然后服务器发出回应，这个过程通常称为“握手” (handshaking)。&lt;/p&gt;
&lt;p&gt;作为这一设计原则的一部分,WebSocket连接的协议规范定义了一个HTTP连接作为其开始生命周期,进而保证其与pre-WebSocket世界的完全向后兼容。通常来说从HTTP协议切换WebSocket称为WebSocket握手。&lt;/p&gt;
&lt;h4 id=&quot;五、Web-storage&quot;&gt;&lt;a href=&quot;#五、Web-storage&quot; class=&quot;headerlink&quot; title=&quot;五、Web storage&quot;&gt;&lt;/a&gt;五、Web storage&lt;/h4&gt;&lt;p&gt;①localStorage和sessionStorage大同小异，主要区别在生存周期，下面细说。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//存&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.backtoken=&lt;span class=&quot;string&quot;&gt;&#39;jartto&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.setItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//取&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.getItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//删&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;localStorage.removeItem(&lt;span class=&quot;string&quot;&gt;&#39;backtoken&#39;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;localStorage生命周期是永久，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。&lt;/li&gt;
&lt;li&gt;sessionStorage生命周期为当前窗口或标签页，一旦窗口或标签页被永久关闭了，那么所有通过sessionStorage存储的数据也就被清空了。&lt;/li&gt;
&lt;li&gt;localStorage和sessionStorage一样都是用来存储客户端临时信息的对象。&lt;br&gt;他们均只能存储字符串类型的对象（虽然规范中可以存储其他原生类型的对象，但是目前为止没有浏览器对其进行实现）。&lt;/li&gt;
&lt;li&gt;不同浏览器无法共享localStorage或sessionStorage中的信息。相同浏览器的不同页面间可以共享相同的localStorage（页面属于相同域名和端口），但是不同页面或标签页间无法共享sessionStorage的信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;这里需要注意的是，页面及标签页仅指顶级窗口，如果一个标签页包含多个iframe标签且他们属于同源页面，那么他们之间是可以共享sessionStorage的。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;②离线存储&lt;br&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;HTML5 的 Web storage API 采用了离线缓存，会生成一个清单文件（manifest file)，这个清单文件实质就是一系列的URL列表文件，这些URL分别指向页面当中的html,css,javascript,图片等相关内容。当使用离线应用时，应用会引入这一清单文件，浏览器会读取这一文件，下载相应的文件，并将其缓存到本地。使得这些web应用能够脱离网络使用，而用户在离线时的更改也同样会映射到清单文件中，并在重新连线之后将更改返回应用，工作方式与我们现在所使用的网盘有着异曲同工之处。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;首先，需要在页面头加入manifest属性：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE HTML&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;manifest&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;cache.manifest&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后cache.manifest文件的书写方式为：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;CACHE MANIFEST&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#v0.11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;CACHE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;js/app.js&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;css/style.css&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;NETWORK:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;resourse/logo.png&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;FALLBACK:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/ /offline.html&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;离线存储的manifest一般由三个部分组成:&lt;br&gt;1.CACHE:表示需要离线存储的资源列表，由于包含manifest文件的页面将被自动离线存储，所以不需要把页面自身也列出来。&lt;br&gt;2.NETWORK:表示在它下面列出来的资源只有在在线的情况下才能访问，他们不会被离线存储，所以在离线情况下无法使用这些资源。不过，如果在CACHE和NETWORK中有一个相同的资源，那么这个资源还是会被离线存储，也就是说CACHE的优先级更高。&lt;br&gt;3.FALLBACK:表示如果访问第一个资源失败，那么就使用第二个资源来替换他，比如上面这个文件表示的就是如果访问根目录下任何一个资源失败了，那么就去访问offline.html。&lt;/p&gt;
&lt;h4 id=&quot;六、Communication&quot;&gt;&lt;a href=&quot;#六、Communication&quot; class=&quot;headerlink&quot; title=&quot;六、Communication&quot;&gt;&lt;/a&gt;六、Communication&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;出于安全方面的考虑，运行在同一浏览器中的框架，标签页，窗口间的通信一直都受到了严格的限制。&lt;br&gt;如果浏览器内部能提供直接的通信机制，就能更好的组织这些应用。&lt;br&gt;为了满足上述需求，浏览器厂商和标准制定机构一致同意引入一种新功能：跨文档消息通信。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;跨文档消息通信可以确保iframe，标签页，窗口间安全的进行跨源通信。它把postMessage API定义为发送消息的标准方式。利用postMessage发送消息非常简单，代码如下：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;chatFrame.contentWindow.postMessage(‘Hello,world’,’http:&lt;span class=&quot;comment&quot;&gt;//jartto.wang&#39;);&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;接收消息时仅需在页面中增加一个事件处理函数。当某个消息到达时，通过检查消息的来源来决定是否对这条消息进行处理。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;message&#39;&lt;/span&gt;,messageHandler,&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;messageHandler&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt;(e.origin) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;friend.example.com&#39;&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 处理消息&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            processMessage(e.data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 消息来源无法识别，消息被忽略&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、Web-Workers&quot;&gt;&lt;a href=&quot;#七、Web-Workers&quot; class=&quot;headerlink&quot; title=&quot;七、Web Workers&quot;&gt;&lt;/a&gt;七、Web Workers&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;HTML5 Web Workers可以让Web 应用程序具备后台处理能力，它对多线程的支持非常好，因此，使用了HTML5的Javascript应用程序可以充分利用多核CPU带来的优势。将耗时长的任务分配给HTML5 Web Workers执行，可以避免弹出脚本运行缓慢的警告。&lt;/p&gt;
&lt;p&gt;Web Workers不能直接访问Web 页面和DOM API。&lt;/p&gt;
&lt;p&gt;Web Workers的另一个用途是监听由后台服务器广播的新闻消息，收到后台服务的消息后，将其显示在Web页面上。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;八、requestAnimationFrame&quot;&gt;&lt;a href=&quot;#八、requestAnimationFrame&quot; class=&quot;headerlink&quot; title=&quot;八、requestAnimationFrame&quot;&gt;&lt;/a&gt;八、requestAnimationFrame&lt;/h4&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;浏览器可以优化并行的动画动作，更合理的重新排列动作序列，并把能够合并的动作放在一个渲染周期内完成，从而呈现出更流畅的动画效果。比如，通过requestAnimationFrame()，JS动画能够和CSS动画/变换或SVG SMIL动画同步发生。另外，如果在一个浏览器标签页里运行一个动画，当这个标签页不可见时，浏览器会暂停它，这会减少CPU，内存的压力，节省电池电量。&lt;/p&gt;
&lt;/div&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// shim layer with setTimeout fallback&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.requestAnimFrame = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;  &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.requestAnimationFrame       ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.webkitRequestAnimationFrame ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.mozRequestAnimationFrame    ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt; callback &lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.setTimeout(callback, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// usage:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// instead of setInterval(render, 16) ....&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;animloop&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  requestAnimFrame(animloop);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  render();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// place the rAF *before* the render() to assure as close to&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 60fps with the setTimeout fallback.&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参考文章：&lt;br&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000732617&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://segmentfault.com/a/1190000000732617&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.webhek.com/requestanimationframe/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.webhek.com/requestanimationframe/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在地铁里偶然听见有些人在谈论着html5，我听到了这样的声音：“不就是一些简单的网页吗，炒作的太厉害了”。真的只是一些简单的页面吗？&lt;br&gt;
    
    </summary>
    
      <category term="技术博文" scheme="http://jartto.wang/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E6%96%87/"/>
    
    
      <category term="html5" scheme="http://jartto.wang/tags/html5/"/>
    
  </entry>
  
</feed>
